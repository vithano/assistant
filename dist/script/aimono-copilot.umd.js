!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AimonoCopilot={})}(this,function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={exports:{}},o={},a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:a,type:e,key:r,ref:void 0!==t?t:null,props:n}}o.Fragment=s,o.jsx=l,o.jsxs=l,i.exports=o;var u=i.exports,c={exports:{}},d={},p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.iterator;var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,$={};function E(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||S}function T(){}function j(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||S}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=E.prototype;var N=j.prototype=new T;N.constructor=j,I(N,E.prototype),N.isPureReactComponent=!0;var C=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function z(e,t,n,r,i,o){return n=o.ref,{$$typeof:p,type:e,key:t,ref:void 0!==n?n:null,props:o}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===p}var R=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function M(){}function U(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a,s,l=!1;if(null===e)l=!0;else switch(o){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case p:case f:l=!0;break;case _:return U((l=e._init)(e._payload),t,n,r,i)}}if(l)return i=i(e),l=""===r?"."+D(e,0):r,C(i)?(n="",null!=l&&(n=l.replace(R,"$&/")+"/"),U(i,t,n,"",function(e){return e})):null!=i&&(P(i)&&(a=i,s=n+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+l,i=z(a.type,s,void 0,0,0,a.props)),t.push(i)),1;l=0;var u,c=""===r?".":r+":";if(C(e))for(var d=0;d<e.length;d++)l+=U(r=e[d],t,n,o=c+D(r,d),i);else if("function"==typeof(d=null===(u=e)||"object"!=typeof u?null:"function"==typeof(u=k&&u[k]||u["@@iterator"])?u:null))for(e=d.call(e),d=0;!(r=e.next()).done;)l+=U(r=r.value,t,n,o=c+D(r,d++),i);else if("object"===o){if("function"==typeof e.then)return U(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(M,M):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return U(e,r,"","",function(e){return t.call(n,e,i++)}),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Z="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function B(){}d.Children={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},d.Component=E,d.Fragment=h,d.Profiler=g,d.PureComponent=j,d.StrictMode=m,d.Suspense=x,d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,d.__COMPILER_RUNTIME={__proto__:null,c:function(e){return O.H.useMemoCache(e)}},d.cache=function(e){return function(){return e.apply(null,arguments)}},d.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=I({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!A.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return z(e.type,i,void 0,0,0,r)},d.createContext=function(e){return(e={$$typeof:y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:v,_context:e},e},d.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)A.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return z(e,o,void 0,0,0,i)},d.createRef=function(){return{current:null}},d.forwardRef=function(e){return{$$typeof:b,render:e}},d.isValidElement=P,d.lazy=function(e){return{$$typeof:_,_payload:{_status:-1,_result:e},_init:F}},d.memo=function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},d.startTransition=function(e){var t=O.T,n={};O.T=n;try{var r=e(),i=O.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(B,Z)}catch(Sl){Z(Sl)}finally{O.T=t}},d.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},d.use=function(e){return O.H.use(e)},d.useActionState=function(e,t,n){return O.H.useActionState(e,t,n)},d.useCallback=function(e,t){return O.H.useCallback(e,t)},d.useContext=function(e){return O.H.useContext(e)},d.useDebugValue=function(){},d.useDeferredValue=function(e,t){return O.H.useDeferredValue(e,t)},d.useEffect=function(e,t,n){var r=O.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},d.useId=function(){return O.H.useId()},d.useImperativeHandle=function(e,t,n){return O.H.useImperativeHandle(e,t,n)},d.useInsertionEffect=function(e,t){return O.H.useInsertionEffect(e,t)},d.useLayoutEffect=function(e,t){return O.H.useLayoutEffect(e,t)},d.useMemo=function(e,t){return O.H.useMemo(e,t)},d.useOptimistic=function(e,t){return O.H.useOptimistic(e,t)},d.useReducer=function(e,t,n){return O.H.useReducer(e,t,n)},d.useRef=function(e){return O.H.useRef(e)},d.useState=function(e){return O.H.useState(e)},d.useSyncExternalStore=function(e,t,n){return O.H.useSyncExternalStore(e,t,n)},d.useTransition=function(){return O.H.useTransition()},d.version="19.1.1",c.exports=d;var V=c.exports;const W=r(V),J=t({__proto__:null,default:W},[V]);var H=class{_providers=new Set;getModelContext(){return e=this._providers,Array.from(e).map(e=>e.getModelContext()).sort((e,t)=>(t.priority??0)-(e.priority??0)).reduce((e,t)=>{if(t.system&&(e.system?e.system+=`\n\n${t.system}`:e.system=t.system),t.tools)for(const[n,r]of Object.entries(t.tools)){const t=e.tools?.[n];if(t&&t!==r)throw new Error(`You tried to define a tool with the name ${n}, but it already exists.`);e.tools||(e.tools={}),e.tools[n]=r}return t.config&&(e.config={...e.config,...t.config}),t.callSettings&&(e.callSettings={...e.callSettings,...t.callSettings}),e},{});var e}registerModelContextProvider(e){this._providers.add(e);const t=e.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(e),t?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(const e of this._subscribers)e()}subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}},q=class{_contextProvider=new H;registerModelContextProvider(e){return this._contextProvider.registerModelContextProvider(e)}},K=class{_subscribers=new Set;subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}waitForUpdate(){return new Promise(e=>{const t=this.subscribe(()=>{t(),e()})})}_notifySubscribers(){const e=[];for(const t of this._subscribers)try{t()}catch(Sl){e.push(Sl)}if(e.length>0)throw 1===e.length?e[0]:new AggregateError(e)}},G=class extends K{isEditing=!0;getAttachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(e){this._attachments=e,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(e){this._text!==e&&(this._text=e,this._notifySubscribers())}setRole(e){this._role!==e&&(this._role=e,this._notifySubscribers())}setRunConfig(e){this._runConfig!==e&&(this._runConfig=e,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const e=this.getAttachmentAdapter();e&&await Promise.all(this._attachments.map(t=>e.remove(t)))}async reset(){if(0===this._attachments.length&&""===this._text&&"user"===this._role&&0===Object.keys(this._runConfig).length)return;this._role="user",this._runConfig={};const e=this._onClearAttachments();this._emptyTextAndAttachments(),await e}async clearAttachments(){const e=this._onClearAttachments();this.setAttachments([]),await e}async send(){const e=this.getAttachmentAdapter(),t=e&&this.attachments.length>0?await Promise.all(this.attachments.map(async t=>{if((e=>"complete"===e.status.type)(t))return t;return await e.send(t)})):[],n={createdAt:new Date,role:this.role,content:this.text?[{type:"text",text:this.text}]:[],attachments:t,runConfig:this.runConfig,metadata:{custom:{}}};this._emptyTextAndAttachments(),this.handleSend(n),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(e){const t=this.getAttachmentAdapter();if(!t)throw new Error("Attachments are not supported");const n=e=>{const t=this._attachments.findIndex(t=>t.id===e.id);-1!==t?this._attachments=[...this._attachments.slice(0,t),e,...this._attachments.slice(t+1)]:(this._attachments=[...this._attachments,e],this._notifyEventSubscribers("attachment_add")),this._notifySubscribers()},r=t.add({file:e});if(Symbol.asyncIterator in r)for await(const i of r)n(i);else n(await r);this._notifyEventSubscribers("attachment_add"),this._notifySubscribers()}async removeAttachment(e){const t=this.getAttachmentAdapter();if(!t)throw new Error("Attachments are not supported");const n=this._attachments.findIndex(t=>t.id===e);if(-1===n)throw new Error("Attachment not found");const r=this._attachments[n];await t.remove(r),this._attachments=[...this._attachments.slice(0,n),...this._attachments.slice(n+1)],this._notifySubscribers()}_eventSubscribers=new Map;_notifyEventSubscribers(e){const t=this._eventSubscribers.get(e);if(t)for(const n of t)n()}unstable_on(e,t){const n=this._eventSubscribers.get(e);return n?n.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{const n=this._eventSubscribers.get(e);n&&n.delete(t)}}},Y=class extends G{constructor(e){super(),this.runtime=e,this.connect()}_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(e){this.runtime.append({...e,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}};let X=(e,t=21)=>(n=t)=>{let r="",i=0|n;for(;i--;)r+=e[Math.random()*e.length|0];return r};var Q=X("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),ee=()=>`__optimistic__${Q()}`,te=Object.freeze({type:"running"}),ne=Object.freeze({type:"complete",reason:"unknown"}),re=Object.freeze({type:"requires-action",reason:"tool-calls"}),ie=e=>e===te||e===ne,oe=(e,t,n)=>e&&t?te:n?re:ne,ae={exports:{}};const se="undefined"!=typeof Buffer,le=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,ue=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function ce(e,t,n){null==n&&null!==t&&"object"==typeof t&&(n=t,t=void 0),se&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));const r=JSON.parse(e,t);if(null===r||"object"!=typeof r)return r;const i=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if("ignore"===i&&"ignore"===o)return r;if("ignore"!==i&&"ignore"!==o){if(!1===le.test(e)&&!1===ue.test(e))return r}else if("ignore"!==i&&"ignore"===o){if(!1===le.test(e))return r}else if(!1===ue.test(e))return r;return de(r,{protoAction:i,constructorAction:o,safe:n&&n.safe})}function de(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let i=[e];for(;i.length;){const e=i;i=[];for(const o of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(!0===r)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(!0===r)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(const e in o){const t=o[e];t&&"object"==typeof t&&i.push(t)}}}return e}function pe(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return ce(e,t,n)}finally{Error.stackTraceLimit=r}}ae.exports=pe,ae.exports.default=pe,ae.exports.parse=pe,ae.exports.safeParse=function(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return ce(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}},ae.exports.scan=de;const fe=r(ae.exports);var he=Symbol("aui.parse-partial-json-object.meta"),me=e=>{if(0===e.length)return{[he]:{state:"partial",partialPath:[]}};try{const t=fe.parse(e);if("object"!=typeof t||null===t)throw new Error("argsText is expected to be an object");return t[he]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=function(e){const t=["ROOT"];let n=-1,r=null;const i=[];let o;function a(){void 0!==o&&(i.push(JSON.parse('"'+o+'"')),o=void 0)}function s(e,i,o){switch(e){case'"':n=i,t.pop(),t.push(o),t.push("INSIDE_STRING"),a();break;case"f":case"t":case"n":n=i,r=i,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER"),a();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(o),t.push("INSIDE_NUMBER"),a();break;case"{":n=i,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START"),a();break;case"[":n=i,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START"),a()}}function l(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop(),o=i.pop()}}function u(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break;case"]":n=r,t.pop(),o=i.pop()}}for(let d=0;d<e.length;d++){const a=e[d];switch(t[t.length-1]){case"ROOT":s(a,d,"FINISH");break;case"INSIDE_OBJECT_START":switch(a){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break;case"}":n=d,t.pop(),o=i.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===a&&(t.pop(),t.push("INSIDE_OBJECT_KEY"),o="");break;case"INSIDE_OBJECT_KEY":switch(a){case'"':t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"\\":t.push("INSIDE_STRING_ESCAPE"),o+=a;break;default:o+=a}break;case"INSIDE_OBJECT_AFTER_KEY":":"===a&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":s(a,d,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":l(a,d);break;case"INSIDE_STRING":switch(a){case'"':t.pop(),n=d,o=i.pop();break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=d}break;case"INSIDE_ARRAY_START":"]"===a?(n=d,t.pop(),o=i.pop()):(n=d,o="0",s(a,d,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(a){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break;case"]":n=d,t.pop(),o=i.pop();break;default:n=d}break;case"INSIDE_ARRAY_AFTER_COMMA":s(a,d,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),"INSIDE_STRING"===t[t.length-1]?n=d:"INSIDE_OBJECT_KEY"===t[t.length-1]&&(o+=a);break;case"INSIDE_NUMBER":switch(a){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=d;break;case"e":case"E":case"-":case".":break;case",":t.pop(),o=i.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(a,d),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&l(a,d);break;case"}":t.pop(),o=i.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&l(a,d);break;case"]":t.pop(),o=i.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(a,d);break;default:t.pop(),o=i.pop()}break;case"INSIDE_LITERAL":{const i=e.substring(r,d+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=d:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?l(a,d):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&u(a,d));break}}}let c=e.slice(0,n+1);for(let d=t.length-1;d>=0;d--)switch(t[d]){case"INSIDE_STRING":c+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":c+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":c+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?c+="true".slice(t.length):"false".startsWith(t)?c+="false".slice(t.length):"null".startsWith(t)&&(c+="null".slice(t.length))}}return[c,i]}(e),r=fe.parse(t);if("object"!=typeof r||null===r)throw new Error("argsText is expected to be an object");return r[he]={state:"partial",partialPath:n},r}catch{return}}},ge=(e,t,n)=>{const{role:r,id:i,createdAt:o,attachments:a,status:s,metadata:l}=e,u={id:i??t,createdAt:o??new Date},c="string"==typeof e.content?[{type:"text",text:e.content}]:e.content;if("user"!==r&&a?.length)throw new Error("attachments are only supported for user messages");if("assistant"!==r&&s)throw new Error("status is only supported for assistant messages");if("assistant"!==r&&l?.steps)throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:c.map(e=>{const t=e.type;switch(t){case"text":case"reasoning":return 0===e.text.trim().length?null:e;case"file":case"source":return e;case"image":return(({image:e,...t})=>e.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...t,image:e}:(console.warn("Invalid image data format detected"),null))(e);case"tool-call":{const{parentId:t,...n}=e,r={...n,toolCallId:e.toolCallId??"tool-"+Q(),...void 0!==t&&{parentId:t}};return e.args?{...r,args:e.args,argsText:JSON.stringify(e.args)}:{...r,args:e.args??me(e.argsText??"")??{},argsText:e.argsText??""}}default:throw new Error(`Unsupported assistant message part type: ${t}`)}}).filter(e=>!!e),status:s??n,metadata:{unstable_state:l?.unstable_state??null,unstable_annotations:l?.unstable_annotations??[],unstable_data:l?.unstable_data??[],custom:l?.custom??{},steps:l?.steps??[]}};case"user":return{...u,role:r,content:c.map(e=>{const t=e.type;switch(t){case"text":case"image":case"audio":case"file":return e;default:throw new Error(`Unsupported user message part type: ${t}`)}}),attachments:a??[],metadata:{custom:l?.custom??{}}};case"system":if(1!==c.length||"text"!==c[0].type)throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:c,metadata:{custom:l?.custom??{}}};default:throw new Error(`Unknown message role: ${r}`)}},ve=e=>{const t=e.map(e=>ge(e,Q(),oe(!1,!1,!1)));return{messages:t.map((e,n)=>({parentId:n>0?t[n-1].id:null,message:e}))}},ye=e=>e.next?ye(e.next):"current"in e?e:null,be=class{constructor(e){this.func=e}_value=null;get value(){return null===this._value&&(this._value=this.func()),this._value}dirty(){this._value=null}},xe=class{messages=new Map;head=null;root={children:[],next:null};performOp(e,t,n){const r=t.prev??this.root,i=e??this.root;if("relink"!==n||r!==i){if("link"!==n&&(r.children=r.children.filter(e=>e!==t.current.id),r.next===t)){const e=r.children.at(-1),t=e?this.messages.get(e):null;if(void 0===t)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");r.next=t}if("cut"!==n){for(let n=e;n;n=n.prev)if(n.current.id===t.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");i.children=[...i.children,t.current.id],ye(t)!==this.head&&null!==i.next||(i.next=t),t.prev=e}}}_messages=new be(()=>{const e=new Array(this.head?.level??0);for(let t=this.head;t;t=t.prev)e[t.level]=t.current;return e});get headId(){return this.head?.current.id??null}getMessages(){return this._messages.value}addOrUpdateMessage(e,t){const n=this.messages.get(t.id),r=e?this.messages.get(e):null;if(void 0===r)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(n)return n.current=t,this.performOp(r,n,"relink"),void this._messages.dirty();const i={prev:r,current:t,next:null,children:[],level:r?r.level+1:0};this.messages.set(t.id,i),this.performOp(r,i,"link"),this.head===r&&(this.head=i),this._messages.dirty()}getMessage(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:t.prev?.current.id??null,message:t.current}}appendOptimisticMessage(e,t){let n;do{n=ee()}while(this.messages.has(n));return this.addOrUpdateMessage(e,ge(t,n,{type:"running"})),n}deleteMessage(e,t){const n=this.messages.get(e);if(!n)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const r=void 0===t?n.prev:null===t?null:this.messages.get(t);if(void 0===r)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const i of n.children){const e=this.messages.get(i);if(!e)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(r,e,"relink")}this.performOp(null,n,"cut"),this.messages.delete(e),this.head===n&&(this.head=ye(r??this.root)),this._messages.dirty()}getBranches(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:n}=t.prev??this.root;return n}switchToBranch(e){const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");(t.prev??this.root).next=t,this.head=ye(t),this._messages.dirty()}resetHead(e){if(null===e)return this.head=null,void this._messages.dirty();const t=this.messages.get(e);if(!t)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");this.head=t;for(let n=t;n;n=n.prev)n.prev&&(n.prev.next=n);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){const e=[];for(const[,t]of this.messages)e.push({message:t.current,parentId:t.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:e}}import({headId:e,messages:t}){for(const{message:n,parentId:r}of t)this.addOrUpdateMessage(r,n);this.resetHead(e??t.at(-1)?.message.id??null)}},we=class{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(const e of this._subscriptions)e()}_updateConnection(){if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else this._connection?.(),this._connection=void 0}subscribe(e){return this._subscriptions.add(e),this._updateConnection(),()=>{this._subscriptions.delete(e),this._updateConnection()}}},_e=Symbol("skip-update"),ke=class extends we{constructor(e){super(),this.binding=e}get path(){return this.binding.path}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){const e=this.binding.getState();e!==_e&&(this._previousState=e),this._previousStateDirty=!1}if(void 0===this._previousState)throw new Error("Entry not available in the store");return this._previousState};_connect(){return this.binding.subscribe(()=>{this._previousStateDirty=!0,this.notifySubscribers()})}},Se=class{constructor(e,t){this._core=e,this._threadListBinding=t}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const e=this._core.getState();return this._threadListBinding.switchToThread(e.id)}rename(e){const t=this._core.getState();return this._threadListBinding.rename(t.id,e)}archive(){const e=this._core.getState();return this._threadListBinding.archive(e.id)}unarchive(){const e=this._core.getState();return this._threadListBinding.unarchive(e.id)}delete(){const e=this._core.getState();return this._threadListBinding.delete(e.id)}initialize(){const e=this._core.getState();return this._threadListBinding.initialize(e.id)}generateTitle(){const e=this._core.getState();return this._threadListBinding.generateTitle(e.id)}unstable_on(e,t){let n=this._core.getState().isMain;return this.subscribe(()=>{const r=this._core.getState().isMain;n!==r&&(n=r,("switched-to"!==e||r)&&("switched-away"===e&&r||t()))})}subscribe(e){return this._core.subscribe(e)}detach(){const e=this._core.getState();this._threadListBinding.detach(e.id)}};var Ie=class extends we{constructor(e){super(),this.binding=e;const t=e.getState();if(t===_e)throw new Error("Entry not available in the store");this._previousState=t}get path(){return this.binding.path}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){const e=this.binding.getState();return e!==_e&&(!function(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e)return!1;if(void 0===t)return!1;for(const n of Object.keys(e)){const r=e[n],i=t[n];if(!Object.is(r,i))return!1}return!0}(e,this._previousState)&&(this._previousState=e,!0))}_connect(){return this.binding.subscribe(()=>{this._syncState()&&this.notifySubscribers()})}},$e=Symbol("innerMessage"),Ee=Symbol("innerMessages"),Te=e=>e[$e],je=[],Ne=e=>{const t="messages"in e?e.messages:e,n=t[Ee]||t[$e];return n?Array.isArray(n)?n:(t[Ee]=[n],t[Ee]):je},Ce=e=>e.content.filter(e=>"text"===e.type).map(e=>e.text).join("\n\n"),Oe=class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(e){return this._core.subscribe(e)}},Ae=class extends Oe{constructor(e,t){super(e),this._composerApi=t}remove(){const e=this._composerApi.getState();if(!e)throw new Error("Composer is not available");return e.removeAttachment(this.getState().id)}},ze=class extends Ae{get source(){return"thread-composer"}},Pe=class extends Ae{get source(){return"edit-composer"}},Re=class extends Oe{get source(){return"message"}constructor(e){super(e)}remove(){throw new Error("Message attachments cannot be removed")}},De=class extends we{constructor(e){super(),this.config=e}getState(){return this.config.binding.getState()}outerSubscribe(e){return this.config.binding.subscribe(e)}_connect(){const e=()=>{this.notifySubscribers()};let t=this.config.binding.getState(),n=t?.unstable_on(this.config.event,e);const r=this.outerSubscribe(()=>{const r=this.config.binding.getState();r!==t&&(t=r,n?.(),n=this.config.binding.getState()?.unstable_on(this.config.event,e))});return()=>{r?.(),n?.()}}},Me=Object.freeze([]),Ue=Object.freeze({}),Le=class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentAccept=this.getAttachmentAccept.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setText(e)}setRunConfig(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setRunConfig(e)}addAttachment(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.addAttachment(e)}reset(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.reset()}clearAttachments(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.clearAttachments()}send(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.send()}cancel(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.cancel()}setRole(e){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.setRole(e)}subscribe(e){return this._core.subscribe(e)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let n=this._eventSubscriptionSubjects.get(e);return n||(n=new De({event:e,binding:this._core}),this._eventSubscriptionSubjects.set(e,n)),n.subscribe(t)}getAttachmentAccept(){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.getAttachmentAccept()}},Fe=class extends Le{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(e){const t=new ke({path:e.path,getState:()=>{return t=e.getState(),Object.freeze({type:"thread",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,attachments:t?.attachments??Me,text:t?.text??"",role:t?.role??"user",runConfig:t?.runConfig??Ue,value:t?.text??""});var t},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>t.subscribe(e)}),this._getState=t.getState.bind(t)}getState(){return this._getState()}getAttachmentByIndex(e){return new ze(new Ie({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{const t=this.getState().attachments[e];return t?{...t,source:"thread-composer"}:_e},subscribe:e=>this._core.subscribe(e)}),this._core)}},Ze=class extends Le{constructor(e,t){const n=new ke({path:e.path,getState:()=>{return t=e.getState(),Object.freeze({type:"edit",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,text:t?.text??"",role:t?.role??"user",attachments:t?.attachments??Me,runConfig:t?.runConfig??Ue,value:t?.text??""});var t},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>n.subscribe(e)}),this._beginEdit=t,this._getState=n.getState.bind(n)}get path(){return this._core.path}get type(){return"edit"}_getState;__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(e){return new Pe(new Ie({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{const t=this.getState().attachments[e];return t?{...t,source:"edit-composer"}:_e},subscribe:e=>this._core.subscribe(e)}),this._core)}},Be=X("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),Ve=class e{_state;constructor(e=null){this._state=e}get state(){return this._state}append(t){this._state=t.reduce((t,n)=>e.apply(t,n),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return e.updatePath(t,n.path,()=>n.value);case"append-text":return e.updatePath(t,n.path,e=>{if("string"!=typeof e)throw new Error(`Expected string at path [${n.path.join(", ")}]`);return e+n.value});default:throw new Error(`Invalid operation type: ${r}`)}}static updatePath(e,t,n){if(0===t.length)return n(e);if(e??={},"object"!=typeof e)throw new Error(`Invalid path: [${t.join(", ")}]`);const[r,...i]=t;if(Array.isArray(e)){const o=Number(r);if(isNaN(o))throw new Error(`Expected array index at [${t.join(", ")}]`);if(o>e.length||o<0)throw new Error("Insert array index out of bounds");const a=[...e];return a[o]=this.updatePath(a[o],i,n),a}const o={...e};return o[r]=this.updatePath(o[r],i,n),o}},We=()=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),Je=(e,t,n)=>{if(0===e.parts.length)throw new Error("No parts available to update.");if(1!==t.path.length)throw new Error("Nested paths are not supported yet.");const r=t.path[0],i=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),i,...e.parts.slice(r+1)],get content(){return this.parts}}},He=(e,t)=>{const n=t.part;if("text"===n.type||"reasoning"===n.type){const t={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("tool-call"===n.type){const t={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("source"===n.type){const t={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}if("file"===n.type){const t={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,t],get content(){return this.parts}}}throw new Error(`Unsupported part type: ${n.type}`)},qe=(e,t)=>{if("incomplete"===e.status?.type&&"error"===e.status?.reason)return e;const n=Ke(t);return{...e,status:n}},Ke=e=>"tool-calls"===e.finishReason?{type:"requires-action",reason:"tool-calls"}:"stop"===e.finishReason||"unknown"===e.finishReason?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},Ge=class extends TransformStream{constructor({initialMessage:e}={}){let t=e??We();super({transform(e,n){const r=e.type;switch(r){case"part-start":t=He(t,e);break;case"tool-call-args-text-finish":t=((e,t)=>Je(e,t,e=>{if("tool-call"!==e.type)throw new Error("Last is not a tool call");return"partial-call"!==e.state?e:{...e,state:"call"}}))(t,e);break;case"part-finish":t=((e,t)=>Je(e,t,e=>({...e,status:{type:"complete",reason:"unknown"}})))(t,e);break;case"text-delta":t=((e,t)=>Je(e,t,e=>{if("text"===e.type||"reasoning"===e.type)return{...e,text:e.text+t.textDelta};if("tool-call"===e.type){const n=e.argsText+t.textDelta,r=me(n)??e.args;return{...e,argsText:n,args:r}}throw new Error("text-delta received but part is neither text nor tool-call")}))(t,e);break;case"result":t=((e,t)=>Je(e,t,e=>{if("tool-call"===e.type)return{...e,state:"result",...void 0!==t.artifact?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}))(t,e);break;case"message-finish":t=qe(t,e);break;case"annotations":t=((e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}))(t,e);break;case"data":t=((e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}))(t,e);break;case"step-start":t=((e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}))(t,e);break;case"step-finish":t=((e,t)=>{const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&"started"===n[r]?.state?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:Be(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}})(t,e);break;case"error":t=((e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}))(t,e);break;case"update-state":t=((e,t)=>{const n=new Ve(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}})(t,e);break;default:throw new Error(`Unsupported chunk type: ${r}`)}n.enqueue(t)},flush(e){if("running"===t.status?.type){const n="tool-call"===t.parts?.at(-1)?.type;t=qe(t,{finishReason:n?"tool-calls":"unknown"}),e.enqueue(t)}}})}},Ye=class e{constructor(e){this.readable=e,this.readable=e}static fromAssistantStream(t){return new e(t.pipeThrough(new Ge))}async unstable_result(){let e;for await(const t of this)e=t;return e||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const e=this.readable.getReader();return{async next(){const{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}}tee(){const[t,n]=this.readable.tee();return[new e(t),new e(n)]}},Xe=Symbol.for("aui.tool-response"),Qe=class e{get[Xe](){return!0}artifact;result;isError;constructor(e){void 0!==e.artifact&&(this.artifact=e.artifact),this.result=e.result,this.isError=e.isError??!1}static[Symbol.hasInstance](e){return"object"==typeof e&&null!==e&&Xe in e}static toResponse(t){return t instanceof e?t:new e({result:void 0===t?"<no result>":t})}},et=class{constructor(e,t,n){this.contentBinding=e,this.messageApi=t,this.threadApi=n}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(e){const t=this.contentBinding.getState();if(!t)throw new Error("Message part is not available");if("tool-call"!==t.type)throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const n=this.messageApi.getState();if(!n)throw new Error("Message is not available");const r=t.toolName,i=t.toolCallId,o=Qe.toResponse(e);this.threadApi.getState().addToolResult({messageId:n.id,toolName:r,toolCallId:i,result:o.result,artifact:o.artifact,isError:o.isError})}subscribe(e){return this.contentBinding.subscribe(e)}},tt=class extends we{constructor(e){super(),this.binding=e}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(e){return this.binding.subscribe(e)}_connect(){const e=()=>{this.notifySubscribers()};let t=this.binding.getState(),n=t?.subscribe(e);const r=this.outerSubscribe(()=>{const r=this.binding.getState();r!==t&&(t=r,n?.(),n=this.binding.getState()?.subscribe(e),e())});return()=>{r?.(),n?.()}}},nt=Object.freeze({type:"complete"}),rt=(e,t)=>{const n=e.content[t];if(!n)return _e;const r=((e,t,n)=>{if("assistant"!==e.role)return nt;if("tool-call"===n.type)return n.result?nt:e.status;const r=t===Math.max(0,e.content.length-1);return"requires-action"===e.status.type?nt:r?e.status:nt})(e,t,n);return Object.freeze({...n,[$e]:n[$e],status:r})},it=class{constructor(e,t){this._core=e,this._threadBinding=t,this.composer=new Ze(new tt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:e=>this._threadBinding.subscribe(e)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id))}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(e={}){const t=this._getEditComposerRuntimeCore(),n=t??this._threadBinding.getState().composer,r=t??n,{runConfig:i=r.runConfig}=e,o=this._core.getState();if("assistant"!==o.role)throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:o.parentId,sourceId:o.id,runConfig:i})}speak(){const e=this._core.getState();return this._threadBinding.getState().speak(e.id)}stopSpeaking(){const e=this._core.getState(),t=this._threadBinding.getState();if(t.speech?.messageId!==e.id)throw new Error("Message is not being spoken");this._threadBinding.getState().stopSpeaking()}submitFeedback({type:e}){const t=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:t.id,type:e})}switchToBranch({position:e,branchId:t}){const n=this._core.getState();if(t&&e)throw new Error("May not specify both branchId and position");if(!t&&!e)throw new Error("Must specify either branchId or position");const r=this._threadBinding.getState().getBranches(n.id);let i=t;if("previous"===e?i=r[n.branchNumber-2]:"next"===e&&(i=r[n.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Ce(this.getState())}subscribe(e){return this._core.subscribe(e)}getMessagePartByIndex(e){if(e<0)throw new Error("Message part index must be >= 0");return new et(new Ie({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[${e}]`,messagePartSelector:{type:"index",index:e}},getState:()=>rt(this.getState(),e),subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getMessagePartByToolCallId(e){return new et(new Ie({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(e)}]`,messagePartSelector:{type:"toolCallId",toolCallId:e}},getState:()=>{const t=this._core.getState(),n=t.content.findIndex(t=>"tool-call"===t.type&&t.toolCallId===e);return-1===n?_e:rt(t,n)},subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getAttachmentByIndex(e){return new Re(new Ie({path:{...this.path,ref:this.path.ref+`${this.path.ref}.attachments[${e}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:e}},getState:()=>{const t=this.getState().attachments,n=t?.[e];return n?{...n,source:"message"}:_e},subscribe:e=>this._core.subscribe(e)}))}},ot=class{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(e,t){const n=new Ie({path:e.path,getState:()=>((e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:"assistant"===n?.role&&"running"===n.status.type,messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})})(e.getState(),t.getState()),subscribe:n=>{const r=e.subscribe(n),i=t.subscribe(n);return()=>{r(),i()}}});this._threadBinding={path:e.path,getState:()=>e.getState(),getStateState:()=>n.getState(),outerSubscribe:t=>e.outerSubscribe(t),subscribe:t=>e.subscribe(t)},this.composer=new Fe(new tt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:e=>this._threadBinding.subscribe(e)}))}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMesssageByIndex=this.getMesssageByIndex.bind(this),this.getMesssageById=this.getMesssageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(e){this._threadBinding.getState().append(((e,t)=>"string"==typeof t?{createdAt:new Date,parentId:e.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??e.at(-1)?.id??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun})(this._threadBinding.getState().messages,e))}subscribe(e){return this._threadBinding.subscribe(e)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(e){const t=null===e||"string"==typeof e?{parentId:e}:e;return this._threadBinding.getState().startRun({parentId:(n=t).parentId??null,sourceId:n.sourceId??null,runConfig:n.runConfig??{}});var n}unstable_resumeRun(e){return this._threadBinding.getState().resumeRun({parentId:(t=e).parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{},stream:t.stream});var t}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(e){this._threadBinding.getState().import(e)}reset(e){this._threadBinding.getState().reset(e)}getMesssageByIndex(e){if(e<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[${e}]`,messageSelector:{type:"index",index:e}},()=>{const t=this._threadBinding.getState().messages,n=t[e];if(n)return{message:n,parentId:t[e-1]?.id??null}})}getMesssageById(e){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(e)}]`,messageSelector:{type:"messageId",messageId:e}},()=>this._threadBinding.getState().getMessageById(e))}_getMessageRuntime(e,t){return new it(new Ie({path:e,getState:()=>{const{message:e,parentId:n}=t()??{},{messages:r,speech:i}=this._threadBinding.getState();if(!e||void 0===n)return _e;const o=this._threadBinding.getState(),a=o.getBranches(e.id),s=o.getSubmittedFeedback(e.id);return{...e,[$e]:e[$e],isLast:r.at(-1)?.id===e.id,parentId:n,branchNumber:a.indexOf(e.id)+1,branchCount:a.length,speech:i?.messageId===e.id?i:void 0,submittedFeedback:s}},subscribe:e=>this._threadBinding.subscribe(e)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let n=this._eventSubscriptionSubjects.get(e);return n||(n=new De({event:e,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(e,n)),n.subscribe(t)}},at=(e,t)=>{if(void 0===t)return _e;const n=e.getItemById(t);return n?{id:n.threadId,threadId:n.threadId,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.threadId===e.mainThreadId}:_e},st=class{constructor(e,t=ot){this._core=e,this._runtimeFactory=t;const n=new ke({path:{},getState:()=>{return{mainThreadId:(t=e).mainThreadId,newThread:t.newThreadId,threads:t.threadIds,archivedThreads:t.archivedThreadIds,isLoading:t.isLoading};var t},subscribe:t=>e.subscribe(t)});this._getState=n.getState.bind(n),this._mainThreadListItemRuntime=new Se(new Ie({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>at(this._core,this._core.mainThreadId),subscribe:e=>this._core.subscribe(e)}),this._core),this.main=new t(new tt({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>e.getMainThreadRuntimeCore(),subscribe:t=>e.subscribe(t)}),this._mainThreadListItemRuntime)}_getState;__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(e){return this._core.switchToThread(e)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}get isLoading(){return this._core.isLoading}subscribe(e){return this._core.subscribe(e)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(e){return new this._runtimeFactory(new tt({path:{ref:"threads[threadId="+JSON.stringify(e)+"]",threadSelector:{type:"threadId",threadId:e}},getState:()=>this._core.getThreadRuntimeCore(e),subscribe:e=>this._core.subscribe(e)}),this.mainItem)}getItemByIndex(e){return new Se(new Ie({path:{ref:`threadItems[${e}]`,threadSelector:{type:"index",index:e}},getState:()=>at(this._core,this._core.threadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getArchivedItemByIndex(e){return new Se(new Ie({path:{ref:`archivedThreadItems[${e}]`,threadSelector:{type:"archiveIndex",index:e}},getState:()=>at(this._core,this._core.archivedThreadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getItemById(e){return new Se(new Ie({path:{ref:`threadItems[threadId=${e}]`,threadSelector:{type:"threadId",threadId:e}},getState:()=>at(this._core,e),subscribe:e=>this._core.subscribe(e)}),this._core)}},lt=V.createContext(null),ut=({adapters:e,children:t})=>{const n=V.useContext(lt);return u.jsx(lt.Provider,{value:{...n,...e},children:t})},ct=()=>V.useContext(lt),dt=Object.freeze([]),pt="DEFAULT_THREAD_ID",ft=Object.freeze([pt]),ht=Object.freeze({threadId:pt,status:"regular"}),mt=Promise.resolve(),gt=class{constructor(e={},t){this.adapter=e,this.threadFactory=t,this._mainThread=this.threadFactory()}_mainThreadId=pt;_threads=ft;_archivedThreads=dt;get isLoading(){return this.adapter.isLoading??!1}get newThreadId(){}get threadIds(){return this._threads}get archivedThreadIds(){return this._archivedThreads}getLoadThreadsPromise(){return mt}_mainThread;get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){return this._mainThread}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getItemById(e){for(const t of this.adapter.threads??[])if(t.threadId===e)return t;for(const t of this.adapter.archivedThreads??[])if(t.threadId===e)return t;if(e===pt)return ht}__internal_setAdapter(e){const t=this.adapter;this.adapter=e;const n=e.threadId??pt,r=e.threads??dt,i=e.archivedThreads??dt,o=t.threadId??pt,a=t.threads??dt,s=t.archivedThreads??dt;o===n&&a===r&&s===i||(a!==r&&(this._threads=this.adapter.threads?.map(e=>e.threadId)??dt),s!==i&&(this._archivedThreads=this.adapter.archivedThreads?.map(e=>e.threadId)??dt),o!==n&&(this._mainThreadId=n,this._mainThread=this.threadFactory()),this._notifySubscribers())}async switchToThread(e){if(this._mainThreadId===e)return;const t=this.adapter.onSwitchToThread;if(!t)throw new Error("External store adapter does not support switching to thread");t(e)}async switchToNewThread(){const e=this.adapter.onSwitchToNewThread;if(!e)throw new Error("External store adapter does not support switching to new thread");e()}async rename(e,t){const n=this.adapter.onRename;if(!n)throw new Error("External store adapter does not support renaming");n(e,t)}async detach(){}async archive(e){const t=this.adapter.onArchive;if(!t)throw new Error("External store adapter does not support archiving");t(e)}async unarchive(e){const t=this.adapter.onUnarchive;if(!t)throw new Error("External store adapter does not support unarchiving");t(e)}async delete(e){const t=this.adapter.onDelete;if(!t)throw new Error("External store adapter does not support deleting");t(e)}initialize(){throw new Error("Method not implemented.")}generateTitle(){throw new Error("Method not implemented.")}_subscriptions=new Set;subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}_notifySubscribers(){for(const e of this._subscriptions)e()}},vt=class{cache=new WeakMap;convertMessages(e,t){return e.map((e,n)=>{const r=this.cache.get(e),i=t(r,e,n);return this.cache.set(e,i),i})}},yt=class extends G{constructor(e,t,{parentId:n,message:r}){super(),this.runtime=e,this.endEditCallback=t,this._parentId=n,this._sourceId=r.id,this._previousText=Ce(r),this.setText(this._previousText),this.setRole(r.role),this.setAttachments(r.attachments??[]),this._nonTextParts=r.content.filter(e=>"text"!==e.type),this.setRunConfig({...e.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){return this.runtime.adapters?.attachments}_nonTextParts;_previousText;_parentId;_sourceId;async handleSend(e){Ce(e)!==this._previousText&&this.runtime.append({...e,content:[...e.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}},bt=class{constructor(e){this._contextProvider=e}_subscriptions=new Set;_isInitialized=!1;repository=new xe;get messages(){return this.repository.getMessages()}get state(){let e;for(const t of this.messages)if("assistant"===t.role){e=t;break}return e?.metadata.unstable_state??null}composer=new Y(this);getModelContext(){return this._contextProvider.getModelContext()}_editComposers=new Map;getEditComposer(e){return this._editComposers.get(e)}beginEdit(e){if(this._editComposers.has(e))throw new Error("Edit already in progress");this._editComposers.set(e,new yt(this,()=>this._editComposers.delete(e),this.repository.getMessage(e))),this._notifySubscribers()}getMessageById(e){return this.repository.getMessage(e)}getBranches(e){return this.repository.getBranches(e)}switchToBranch(e){this.repository.switchToBranch(e),this._notifySubscribers()}_notifySubscribers(){for(const e of this._subscriptions)e()}_notifyEventSubscribers(e){const t=this._eventSubscribers.get(e);if(t)for(const n of t)n()}subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}_submittedFeedback={};getSubmittedFeedback(e){return this._submittedFeedback[e]}submitFeedback({messageId:e,type:t}){const n=this.adapters?.feedback;if(!n)throw new Error("Feedback adapter not configured");const{message:r}=this.repository.getMessage(e);n.submit({message:r,type:t}),this._submittedFeedback[e]={type:t},this._notifySubscribers()}_stopSpeaking;speech;speak(e){const t=this.adapters?.speech;if(!t)throw new Error("Speech adapter not configured");const{message:n}=this.repository.getMessage(e);this._stopSpeaking?.();const r=t.speak(Ce(n)),i=r.subscribe(()=>{"ended"===r.status.type?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:e,status:r.status},this._notifySubscribers()});this.speech={messageId:e,status:r.status},this._notifySubscribers(),this._stopSpeaking=()=>{r.cancel(),i(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(e){this.ensureInitialized(),this.repository.clear(),this.repository.import(e),this._notifySubscribers()}reset(e){this.import(ve(e??[]))}_eventSubscribers=new Map;unstable_on(e,t){if("model-context-update"===e)return this._contextProvider.subscribe?.(t)??(()=>{});const n=this._eventSubscribers.get(e);return n?n.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{this._eventSubscribers.get(e).delete(t)}}},xt=Object.freeze([]),wt=class extends bt{assistantOptimisticId=null;_capabilities={switchToBranch:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,attachments:!1,feedback:!1};get capabilities(){return this._capabilities}_messages;isDisabled;get isLoading(){return this._store.isLoading??!1}get messages(){return this._messages}get adapters(){return this._store.adapters}suggestions=[];extras=void 0;_converter=new vt;_store;beginEdit(e){if(!this._store.onEdit)throw new Error("Runtime does not support editing.");super.beginEdit(e)}constructor(e,t){super(e),this.__internal_setAdapter(t)}__internal_setAdapter(e){if(this._store===e)return;const t=e.isRunning??!1;this.isDisabled=e.isDisabled??!1;const n=this._store;let r;if(this._store=e,this.extras=e.extras,this.suggestions=e.suggestions??xt,this._capabilities={switchToBranch:void 0!==this._store.setMessages,edit:void 0!==this._store.onEdit,reload:void 0!==this._store.onReload,cancel:void 0!==this._store.onCancel,speech:void 0!==this._store.adapters?.speech,unstable_copy:!1!==this._store.unstable_capabilities?.copy,attachments:!!this._store.adapters?.attachments,feedback:!!this._store.adapters?.feedback},e.messageRepository){if(n&&n.isRunning===e.isRunning&&n.messageRepository===e.messageRepository)return void this._notifySubscribers();this.repository.clear(),this.assistantOptimisticId=null,this.repository.import(e.messageRepository),r=this.repository.getMessages()}else{if(!e.messages)throw new Error("ExternalStoreAdapter must provide either 'messages' or 'messageRepository'");if(n)if(n.convertMessage!==e.convertMessage)this._converter=new vt;else if(n.isRunning===e.isRunning&&n.messages===e.messages)return void this._notifySubscribers();r=e.convertMessage?this._converter.convertMessages(e.messages,(n,r,i)=>{if(!e.convertMessage)return r;const o=i===e.messages.length-1,a=oe(o,t,!1);if(n&&("assistant"!==n.role||!ie(n.status)||n.status===a))return n;const s=e.convertMessage(r,i),l=ge(s,i.toString(),a);return l[$e]=r,l}):e.messages;for(let e=0;e<r.length;e++){const t=r[e],n=r[e-1];this.repository.addOrUpdateMessage(n?.id??null,t)}}r.length>0&&this.ensureInitialized(),(n?.isRunning??!1)!==(e.isRunning??!1)&&(e.isRunning?this._notifyEventSubscribers("run-start"):this._notifyEventSubscribers("run-end")),this.assistantOptimisticId&&(this.repository.deleteMessage(this.assistantOptimisticId),this.assistantOptimisticId=null),((e,t)=>e&&"assistant"!==t[t.length-1]?.role)(t,r)&&(this.assistantOptimisticId=this.repository.appendOptimisticMessage(r.at(-1)?.id??null,{role:"assistant",content:[]})),this.repository.resetHead(this.assistantOptimisticId??r.at(-1)?.id??null),this._messages=this.repository.getMessages(),this._notifySubscribers()}switchToBranch(e){if(!this._store.setMessages)throw new Error("Runtime does not support switching branches.");this.repository.switchToBranch(e),this.updateMessages(this.repository.getMessages())}async append(e){if(e.parentId!==(this.messages.at(-1)?.id??null)){if(!this._store.onEdit)throw new Error("Runtime does not support editing messages.");await this._store.onEdit(e)}else await this._store.onNew(e)}async startRun(e){if(!this._store.onReload)throw new Error("Runtime does not support reloading messages.");await this._store.onReload(e.parentId,e)}async resumeRun(){throw new Error("Runtime does not support resuming runs.")}cancelRun(){if(!this._store.onCancel)throw new Error("Runtime does not support cancelling runs.");this._store.onCancel(),this.assistantOptimisticId&&(this.repository.deleteMessage(this.assistantOptimisticId),this.assistantOptimisticId=null);let e=this.repository.getMessages();const t=e[e.length-1];"user"===t?.role&&t.id===e.at(-1)?.id?(this.repository.deleteMessage(t.id),this.composer.text.trim()||this.composer.setText(Ce(t)),e=this.repository.getMessages()):this._notifySubscribers(),setTimeout(()=>{this.updateMessages(e)},0)}addToolResult(e){if(!this._store.onAddToolResult&&!this._store.onAddToolResult)throw new Error("Runtime does not support tool results.");this._store.onAddToolResult?.(e)}updateMessages=e=>{void 0!==this._store.convertMessage?this._store.setMessages?.(e.flatMap(Te).filter(e=>null!=e)):this._store.setMessages?.(e)}},_t=e=>e.adapters?.threadList??{},kt=class extends q{threads;constructor(e){super(),this.threads=new gt(_t(e),()=>new wt(this._contextProvider,e))}setAdapter(e){this.threads.__internal_setAdapter(_t(e)),this.threads.getMainThreadRuntimeCore().__internal_setAdapter(e)}},St=e=>{const t={role:"assistant",content:[]};for(const n of e)if("tool"===n.role){const e=t.content.findIndex(e=>"tool-call"===e.type&&e.toolCallId===n.toolCallId);if(-1===e)throw new Error(`Tool call ${n.toolCallId} ${n.toolName} not found in assistant message`);{const r=t.content[e];if(n.toolName&&r.toolName!==n.toolName)throw new Error(`Tool call name ${n.toolCallId} ${n.toolName} does not match existing tool call ${r.toolName}`);t.content[e]={...r,[$e]:[...r[$e]??[],n],result:n.result,artifact:n.artifact,isError:n.isError}}}else{const e=n.role,r=("string"==typeof n.content?[{type:"text",text:n.content}]:n.content).map(e=>({...e,[$e]:[n]}));switch(e){case"system":case"user":return{...n,content:r};case"assistant":0===t.content.length&&(t.id=n.id,t.createdAt??=n.createdAt,t.status??=n.status,n.attachments&&(t.attachments=[...t.attachments??[],...n.attachments]),n.metadata&&(t.metadata??={},n.metadata.unstable_state&&(t.metadata.unstable_state=n.metadata.unstable_state),n.metadata.unstable_annotations&&(t.metadata.unstable_annotations=[...t.metadata.unstable_annotations??[],...n.metadata.unstable_annotations]),n.metadata.unstable_data&&(t.metadata.unstable_data=[...t.metadata.unstable_data??[],...n.metadata.unstable_data]),n.metadata.steps&&(t.metadata.steps=[...t.metadata.steps??[],...n.metadata.steps]),n.metadata.custom&&(t.metadata.custom={...t.metadata.custom??{},...n.metadata.custom}))),t.content.push(...r);break;default:throw new Error(`Unknown message role: ${e}`)}}return t},It=(e,t)=>{const n=[];let r=!1,i=!1,o=[],a=[];const s=()=>{a.length&&n.push({inputs:o,outputs:a}),o=[],a=[],r=!1,i=!1};for(const l of e)for(const e of l.outputs)(i&&"tool"!==e.role||!r||"user"===e.role||"system"===e.role)&&s(),r="assistant"===e.role||"tool"===e.role,o.at(-1)!==l.input&&o.push(l.input),a.push(e),"assistant"!==e.role||"none"!==e.convertConfig?.joinStrategy&&"none"!==t||(i=!0);return s(),n},$t=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};function Et(e,t){return function(n){const r=V.useContext(e);if(!n?.optional&&!r)throw new Error(`This component must be used within ${t}.`);return r}}function Tt(e,t){function n(n){const r=e(n);return r?r[t]:null}return{[t]:function(e){let t,r=!1;"function"==typeof e?t=e:e&&"object"==typeof e&&(r=!!e.optional,t=e.selector);const i=n({optional:r});return i?t?i(t):i():null},[`${t}Store`]:n}}var jt=e=>{const t=e;t.__isBound||(t.__internal_bindMethods?.(),t.__isBound=!0)};var Nt=e=>e;function Ct(e){return function(t){let n,r=!1;"function"==typeof t?n=t:t&&(r=!!t.optional,n=t.selector);const i=e({optional:r});return i?function(e,t=Nt){jt(e);const n=V.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return V.useDebugValue(n),n}(i,n):null}}var Ot=V.createContext(null),At=Et(Ot,"AssistantRuntimeProvider");function zt(e){const t=At(e);return t?t.useAssistantRuntime():null}var{useToolUIs:Pt,useToolUIsStore:Rt}=Tt(At,"useToolUIs");const Dt=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,o);return o},Mt=e=>e;const Ut=e=>{const t=(e=>e?Dt(e):Dt)(e),n=e=>function(e,t=Mt){const n=W.useSyncExternalStore(e.subscribe,W.useCallback(()=>t(e.getState()),[e,t]),W.useCallback(()=>t(e.getInitialState()),[e,t]));return W.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Lt=e=>e?Ut(e):Ut;var Ft=V.createContext(null),Zt=Et(Ft,"AssistantRuntimeProvider");function Bt(e){const t=Zt(e);return t?t.useThreadRuntime():null}var Vt=Ct(Bt),Wt=V.createContext(null),Jt=Et(Wt,"a component passed to <ThreadListPrimitive.Items components={...}>");function Ht(e){const t=Jt(e);return t?t.useThreadListItemRuntime():null}var qt=Ct(Ht),Kt=({runtime:e,children:t})=>{const n=(e=>{const[t]=V.useState(()=>Lt(()=>e));return V.useEffect(()=>{jt(e),t.setState(e,!0)},[e,t]),t})(e),[r]=V.useState(()=>({useThreadListItemRuntime:n}));return u.jsx(Wt.Provider,{value:r,children:t})},Gt=V.createContext(null),Yt=Et(Gt,"ThreadPrimitive.Viewport"),{useThreadViewport:Xt,useThreadViewportStore:Qt}=Tt(Yt,"useThreadViewport"),en=()=>{const e=Qt({optional:!0}),[t]=V.useState(()=>(()=>{const e=new Set;return Lt(()=>({isAtBottom:!0,scrollToBottom:()=>{for(const t of e)t()},onScrollToBottom:t=>(e.add(t),()=>{e.delete(t)})}))})());return V.useEffect(()=>e?.getState().onScrollToBottom(()=>{t.getState().scrollToBottom()}),[e,t]),V.useEffect(()=>{if(e)return t.subscribe(t=>{e.getState().isAtBottom!==t.isAtBottom&&e.setState({isAtBottom:t.isAtBottom})})},[t,e]),t},tn=({children:e})=>{const t=en(),[n]=V.useState(()=>({useThreadViewport:t}));return u.jsx(Gt.Provider,{value:n,children:e})},nn=({children:e,listItemRuntime:t,runtime:n})=>{const r=(e=>{const[t]=V.useState(()=>Lt(()=>e));return V.useEffect(()=>{jt(e),jt(e.composer),t.setState(e,!0)},[e,t]),t})(n),[i]=V.useState(()=>({useThreadRuntime:r}));return u.jsx(Kt,{runtime:t,children:u.jsx(Ft.Provider,{value:i,children:u.jsx(tn,{children:e})})})},rn=()=>V.useMemo(()=>Lt(e=>{const t=new Map;return Object.freeze({getToolUI:e=>{const n=t.get(e),r=n?.at(-1);return r||null},setToolUI:(n,r)=>{let i=t.get(n);return i||(i=[],t.set(n,i)),i.push(r),e({}),()=>{const t=i.indexOf(r);-1!==t&&i.splice(t,1),t===i.length&&e({})}}})}),[]),on=V.memo(({children:e,runtime:t})=>{const n=(e=>{const[t]=V.useState(()=>Lt(()=>e));return V.useEffect(()=>{jt(e),jt(e.threads),t.setState(e,!0)},[e,t]),t})(t),r=rn(),[i]=V.useState(()=>({useToolUIs:r,useAssistantRuntime:n})),o=(e=>e._core?.RenderComponent)(t);return u.jsxs(Ot.Provider,{value:i,children:[o&&u.jsx(o,{}),u.jsx(nn,{runtime:t.thread,listItemRuntime:t.threads.mainItem,children:e})]})}),an=V.createContext(null),sn=Et(an,"a component passed to <MessagePrimitive.Parts components={...}>");function ln(e){const t=sn(e);return t?t.useMessagePartRuntime():null}var un=Ct(ln),cn={type:"complete"},dn={type:"running"},pn=({children:e,text:t,isRunning:n})=>{const[r]=V.useState(()=>{const e=Lt(()=>({status:n?dn:cn,type:"text",text:t})),r=new et({path:{ref:"text",threadSelector:{type:"main"},messageSelector:{type:"messageId",messageId:""},messagePartSelector:{type:"index",index:0}},getState:e.getState,subscribe:e.subscribe});jt(r);return{useMessagePartRuntime:Lt(()=>r),useMessagePart:e}});return V.useEffect(()=>{const e=r.useMessagePart.getState(),i=e.text!==t,o=n?dn:cn,a=e.status!==o;(i||a)&&r.useMessagePart.setState({type:"text",text:t,status:o},!0)},[r,n,t]),u.jsx(an.Provider,{value:r,children:e})},fn=V.createContext(null),hn=Et(fn,"a component passed to <ThreadPrimitive.Messages components={...} />");function mn(e){const t=hn(e);return t?t.useMessageRuntime():null}var gn=Ct(mn),vn=Ct(e=>mn(e)?.composer??null),{useMessageUtils:yn,useMessageUtilsStore:bn}=Tt(hn,"useMessageUtils");function xn(e){const t=mn({optional:!0}),n=Bt(e);return t?t.composer:n?.composer??null}var wn=Ct(xn);function _n(e,t=0){return!(t>100)&&(null===e||"string"==typeof e||"boolean"==typeof e||("number"==typeof e?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(e=>_n(e,t+1)):"object"==typeof e&&Object.entries(e).every(([e,n])=>"string"==typeof e&&_n(n,t+1))))}var kn=e=>({role:e.role,content:e.content.map(e=>{const t=e.type;switch(t){case"text":return{type:"text",text:e.text};case"reasoning":return{type:"reasoning",text:e.text};case"source":return{type:"source",sourceType:e.sourceType,id:e.id,url:e.url,...e.title?{title:e.title}:void 0};case"tool-call":return _n(e.result)||console.warn("tool-call result is not JSON! "+JSON.stringify(e)),{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,...JSON.stringify(e.args)===e.argsText?{args:e.args}:{argsText:e.argsText},...e.result?{result:e.result}:{},...e.isError?{isError:!0}:{}};default:throw new Error(`Message part type not supported by aui/v0: ${t}`)}}),metadata:e.metadata,...e.status?{status:"running"===e.status?.type?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}),Sn=e=>{const t=e.content,n=ge({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},In=class{constructor(e,t){this.parent=e,this.formatAdapter=t}async append(e){const t=this.formatAdapter.encode(e),n=this.formatAdapter.getId(e.message);return this.parent._appendWithFormat(e.parentId,n,this.formatAdapter.format,t)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,e=>this.formatAdapter.decode(e))}},$n=class{constructor(e,t){this.cloudRef=e,this.threadListItemRuntime=t}_getIdForLocalId={};withFormat(e){return new In(this,e)}async append({parentId:e,message:t}){const{remoteId:n}=await this.threadListItemRuntime.initialize(),r=this.cloudRef.current.threads.messages.create(n,{parent_id:e?await this._getIdForLocalId[e]??e:null,format:"aui/v0",content:kn(t)}).then(({message_id:e})=>(this._getIdForLocalId[t.id]=e,e));return this._getIdForLocalId[t.id]=r,r.then(()=>{})}async load(){const e=this.threadListItemRuntime.getState().remoteId;if(!e)return{messages:[]};const{messages:t}=await this.cloudRef.current.threads.messages.list(e,{format:"aui/v0"});return{messages:t.filter(e=>"aui/v0"===e.format).map(Sn).reverse()}}async _appendWithFormat(e,t,n,r){const{remoteId:i}=await this.threadListItemRuntime.initialize(),o=this.cloudRef.current.threads.messages.create(i,{parent_id:e?await this._getIdForLocalId[e]??e:null,format:n,content:r}).then(({message_id:e})=>(this._getIdForLocalId[t]=e,e));return this._getIdForLocalId[t]=o,o.then(()=>{})}async _loadWithFormat(e,t){const n=this.threadListItemRuntime.getState().remoteId;if(!n)return{messages:[]};const{messages:r}=await this.cloudRef.current.threads.messages.list(n,{format:e});return{messages:r.filter(t=>t.format===e).map(e=>t({id:e.id,parent_id:e.parent_id,format:e.format,content:e.content})).reverse()}}},En=class{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(e){return Promise.resolve({remoteId:e,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}},Tn=void 0,jn=e=>{const t=V.useRef(e);V.useEffect(()=>{t.current=e},[e]);const n=V.useCallback(function({children:e}){const n=(e=>{const t=Ht(),[n]=V.useState(()=>new $n(e,t));return n})({get current(){return t.current.cloud??Tn}}),r=V.useMemo(()=>({history:n}),[n]);return u.jsx(ut,{adapters:r,children:e})},[]),r=e.cloud??Tn;return r?{list:async()=>{const{threads:e}=await r.threads.list();return{threads:e.map(e=>({status:e.is_archived?"archived":"regular",remoteId:e.id,title:e.title,externalId:e.external_id??void 0}))}},initialize:async()=>{const t=e.create?.()??Promise.resolve(),n=await t,i=n?n.externalId:void 0,{thread_id:o}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:o}},rename:async(e,t)=>r.threads.update(e,{title:t}),archive:async e=>r.threads.update(e,{is_archived:!0}),unarchive:async e=>r.threads.update(e,{is_archived:!1}),delete:async t=>(await(e.delete?.(t)),r.threads.delete(t)),generateTitle:async(e,t)=>r.runs.stream({thread_id:e,assistant_id:"system/thread_title",messages:t}),unstable_Provider:n}:new En},Nn=class{constructor(e){this._core=e,this.threads=new st(e.threads),this._thread=this.threads.main}threads;get threadList(){return this.threads}_thread;__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(e){return this._core.threads.switchToThread(e)}registerModelContextProvider(e){return this._core.registerModelContextProvider(e)}registerModelConfigProvider(e){return this.registerModelContextProvider(e)}reset({initialMessages:e}={}){return this._core.threads.getMainThreadRuntimeCore().import(ve(e??[]))}};function Cn(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...e)=>t.current?.(...e),[])}var On=V.createContext(null),An=({children:e})=>{const t=zn({optional:!0}),n=ln(),[r]=V.useState(()=>{return e=n.getState().status,{useSmoothStatus:Lt(()=>e)};var e});return t?e:u.jsx(On.Provider,{value:r,children:e})};function zn(e){const t=V.useContext(On);if(!e?.optional&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}var{useSmoothStatus:Pn,useSmoothStatusStore:Rn}=Tt(zn,"useSmoothStatus"),Dn=class{constructor(e,t){this.currentText=e,this.setText=t}animationFrameId=null;lastUpdateTime=Date.now();targetText="";start(){null===this.animationFrameId&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}animate=()=>{const e=Date.now();let t=e-this.lastUpdateTime;const n=this.targetText.length-this.currentText.length,r=Math.min(5,250/n);let i=0;for(;t>=r&&i<n;)i++,t-=r;this.animationFrameId=i!==n?requestAnimationFrame(this.animate):null,0!==i&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=e-t,this.setText(this.currentText))}},Mn=Object.freeze({type:"running"}),Un=(e,t=!1)=>{const{text:n}=e,r=gn({optional:!0,selector:e=>e.id}),i=V.useRef(r),[o,a]=V.useState(n),s=Rn({optional:!0}),l=Cn(t=>{if(a(t),s){const n=o!==t||"running"===e.status.type?Mn:e.status;s.setState(n,!0)}});V.useEffect(()=>{if(s){const t=o!==n||"running"===e.status.type?Mn:e.status;s.setState(t,!0)}},[s,n,o,e.status]);const[u]=V.useState(new Dn(n,l));return V.useEffect(()=>{if(t){if(i.current!==r||!n.startsWith(u.targetText))return i.current=r,l(n),u.currentText=n,u.targetText=n,void u.stop();u.targetText=n,u.start()}else u.stop()},[l,u,r,t,n]),V.useEffect(()=>()=>{u.stop()},[u]),V.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:Mn}:e,[t,o,e,n])};const Ln=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:Nn,BaseAssistantRuntimeCore:q,CompositeContextProvider:H,DefaultThreadComposerRuntimeCore:Y,MessageRepository:xe,ThreadRuntimeImpl:ot,fromThreadMessageLike:ge,generateId:Q,getAutoStatus:oe,splitLocalRuntimeOptions:e=>{const{cloud:t,initialMessages:n,maxSteps:r,adapters:i,unstable_humanToolNames:o,...a}=e;return{localRuntimeOptions:{cloud:t,initialMessages:n,maxSteps:r,adapters:i,unstable_humanToolNames:o},otherOptions:a}},useSmooth:Un,useSmoothStatus:Pn,withSmoothContextProvider:e=>{const t=V.forwardRef((t,n)=>u.jsx(An,{children:u.jsx(e,{...t,ref:n})}));return t.displayName=e.displayName,t}},Symbol.toStringTag,{value:"Module"}));var Fn=class extends K{useRuntimeHook;instances=new Map;useAliveThreadsKeysChanged=Lt(()=>({}));constructor(e){super(),this.useRuntimeHook=Lt(()=>({useRuntime:e}))}startThreadRuntime(e){return this.instances.has(e)||(this.instances.set(e,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((t,n)=>{const r=()=>{const r=this.instances.get(e);if(r){if(!r.runtime)return;i(),t(r.runtime)}else i(),n(new Error("Thread was deleted before runtime was started"))},i=this.subscribe(r);r()})}getThreadRuntimeCore(e){const t=this.instances.get(e);if(t)return t.runtime}stopThreadRuntime(e){this.instances.delete(e),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(e){this.useRuntimeHook.getState().useRuntime!==e&&this.useRuntimeHook.setState({useRuntime:e},!0)}_InnerActiveThreadProvider=()=>{const{id:e}=qt(),{useRuntime:t}=this.useRuntimeHook(),n=t(),r=n.thread.__internal_threadBinding,i=V.useCallback(()=>{const t=this.instances.get(e);if(!t)throw new Error("Thread not found. This is a bug in assistant-ui.");t.runtime=r.getState(),o&&this._notifySubscribers()},[e,r]),o=V.useRef(!1);o.current||i(),V.useEffect(()=>(o.current=!0,i(),r.outerSubscribe(i)),[r,i]);const a=Ht();return V.useEffect(()=>n.threads.main.unstable_on("initialize",()=>{if("new"===a.getState().status){a.initialize();const e=n.thread.unstable_on("run-end",()=>{e(),a.generateTitle()})}}),[n,a]),null};_OuterActiveThreadProvider=V.memo(({threadId:e,provider:t})=>{const n=zt(),r=V.useMemo(()=>n.threads.getItemById(e),[n,e]);return u.jsx(Kt,{runtime:r,children:u.jsx(t,{children:u.jsx(this._InnerActiveThreadProvider,{})})})});__internal_RenderThreadRuntimes=({provider:e})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(t=>u.jsx(this._OuterActiveThreadProvider,{threadId:t,provider:e},t)))},Zn=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),Bn={getMessageById(){},getBranches:()=>[],switchToBranch(){throw Zn},append(){throw Zn},startRun(){throw Zn},resumeRun(){throw Zn},cancelRun(){throw Zn},addToolResult(){throw Zn},speak(){throw Zn},stopSpeaking(){throw Zn},getSubmittedFeedback(){},submitFeedback(){throw Zn},getModelContext:()=>({}),composer:{attachments:[],getAttachmentAccept:()=>"*",async addAttachment(){throw Zn},async removeAttachment(){throw Zn},isEditing:!1,canCancel:!1,isEmpty:!0,text:"",setText(){throw Zn},role:"user",setRole(){throw Zn},runConfig:{},setRunConfig(){throw Zn},async reset(){},async clearAttachments(){},send(){throw Zn},cancel(){},subscribe:()=>()=>{},unstable_on:()=>()=>{}},getEditComposer(){},beginEdit(){throw Zn},speech:void 0,capabilities:{switchToBranch:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,attachments:!1,feedback:!1},isDisabled:!0,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe:()=>()=>{},import(){throw Zn},export:()=>({messages:[]}),reset(){throw Zn},unstable_on:()=>()=>{}},Vn=(e,t,n)=>n.reduce((e,n)=>n?.(e,t)??e,e),Wn=class extends K{_pendingTransforms=[];_baseValue;_cachedValue;constructor(e){super(),this._baseValue=e,this._cachedValue=e}_updateState(){this._cachedValue=this._pendingTransforms.reduce((e,t)=>Vn(e,t.task,[t.loading,t.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(e){this._baseValue=e,this._updateState()}async optimisticUpdate(e){const t=e.execute(),n={...e,task:t};try{this._pendingTransforms.push(n),this._updateState();const r=await t;return this._baseValue=Vn(this._baseValue,r,[e.optimistic,e.then]),r}finally{const e=this._pendingTransforms.indexOf(n);e>-1&&this._pendingTransforms.splice(e,1),this._updateState()}}};function Jn(e){return e}var Hn=(e,t)=>{const n=e.threadIdMap[t];if(void 0!==n)return e.threadData[n]},qn=(e,t,n)=>{const r=Hn(e,t);if(!r)return e;const{threadId:i,remoteId:o,status:a}=r;if(a===n)return e;const s={...e};switch(a){case"new":s.newThreadId=void 0;break;case"regular":s.threadIds=s.threadIds.filter(e=>e!==i);break;case"archived":s.archivedThreadIds=s.archivedThreadIds.filter(e=>e!==i);break;default:throw new Error(`Unsupported state: ${a}`)}switch(n){case"regular":s.threadIds=[i,...s.threadIds];break;case"archived":s.archivedThreadIds=[i,...s.archivedThreadIds];break;case"deleted":s.threadData=Object.fromEntries(Object.entries(s.threadData).filter(([e])=>e!==i)),s.threadIdMap=Object.fromEntries(Object.entries(s.threadIdMap).filter(([e])=>e!==i&&e!==o));break;default:throw new Error(`Unsupported state: ${n}`)}return"deleted"!==n&&(s.threadData={...s.threadData,[i]:{...r,status:n}}),s},Kn=class extends K{constructor(e,t){super(),this.contextProvider=t,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new Fn(e.runtimeHook),this.useProvider=Lt(()=>({Provider:e.adapter.unstable_Provider??V.Fragment})),this.__internal_setOptions(e),this.switchToNewThread()}_options;_hookManager;_loadThreadsPromise;_mainThreadId;_state=new Wn({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}});getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:e=>({...e,isLoading:!0}),then:(e,t)=>{const n=[],r=[],i={},o={};for(const a of t.threads){switch(a.status){case"regular":n.push(a.remoteId);break;case"archived":r.push(a.remoteId);break;default:{const e=a.status;throw new Error(`Unsupported state: ${e}`)}}const e=Jn(a.remoteId);i[a.remoteId]=e,o[e]={threadId:a.remoteId,remoteId:a.remoteId,externalId:a.externalId,status:a.status,title:a.title,initializeTask:Promise.resolve({remoteId:a.remoteId,externalId:a.externalId})}}return{...e,threadIds:n,archivedThreadIds:r,threadIdMap:{...e.threadIdMap,...i},threadData:{...e.threadData,...o}}}}).then(()=>{})),this._loadThreadsPromise}useProvider;__internal_setOptions(e){if(this._options===e)return;this._options=e;const t=e.adapter.unstable_Provider??V.Fragment;t!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:t},!0),this._hookManager.setRuntimeHook(e.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const e=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return e||Bn}getThreadRuntimeCore(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");const n=this._hookManager.getThreadRuntimeCore(t.threadId);if(!n)throw new Error("Thread not found");return n}getItemById(e){return Hn(this._state.value,e)}async switchToThread(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if(this._mainThreadId===t.threadId)return;const n=this._hookManager.startThreadRuntime(t.threadId);void 0!==this.mainThreadId?await n:n.then(()=>this._notifySubscribers()),"archived"===t.status&&await this.unarchive(t.threadId),this._mainThreadId=t.threadId,this._notifySubscribers()}async switchToNewThread(){for(;void 0!==this._state.baseValue.newThreadId&&void 0===this._state.value.newThreadId;)await this._state.waitForUpdate();const e=this._state.value;let t=this._state.value.newThreadId;if(void 0===t){do{t=`__LOCALID_${Q()}`}while(e.threadIdMap[t]);const n=t;this._state.update({...e,newThreadId:t,threadIdMap:{...e.threadIdMap,[t]:n},threadData:{...e.threadData,[t]:{status:"new",threadId:t}}})}return this.switchToThread(t)}initialize=async e=>{if(this._state.value.newThreadId!==e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("new"===t.status)throw new Error("Unexpected new state");return t.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(e),optimistic:t=>qn(t,e,"regular"),loading:(t,n)=>{const r=e;return{...t,threadData:{...t.threadData,[r]:{...t.threadData[r],initializeTask:n}}}},then:(t,{remoteId:n,externalId:r})=>{const i=Hn(t,e);if(!i)return t;const o=e;return{...t,threadIdMap:{...t.threadIdMap,[n]:o},threadData:{...t.threadData,[o]:{...i,initializeTask:Promise.resolve({remoteId:n,externalId:r}),remoteId:n,externalId:r}}}}})};generateTitle=async e=>{const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("new"===t.status)throw new Error("Thread is not yet initialized");const{remoteId:n}=await t.initializeTask,r=this._hookManager.getThreadRuntimeCore(t.threadId);if(!r)return;const i=r.messages,o=await this._options.adapter.generateTitle(n,i),a=Ye.fromAssistantStream(o);for await(const s of a){const e=s.parts.filter(e=>"text"===e.type)[0]?.text,n=this._state.baseValue;this._state.update({...n,threadData:{...n.threadData,[t.threadId]:{...t,title:e}}})}};rename(e,t){const n=this.getItemById(e);if(!n)throw new Error("Thread not found");if("new"===n.status)throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:e}=await n.initializeTask;return this._options.adapter.rename(e,t)},optimistic:n=>{const r=Hn(n,e);return r?{...n,threadData:{...n.threadData,[r.threadId]:{...r,title:t}}}:n}})}async _ensureThreadIsNotMain(e){if(e===this.newThreadId)throw new Error("Cannot ensure new thread is not main");e===this._mainThreadId&&await this.switchToNewThread()}async archive(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status)throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(t.threadId);const{remoteId:e}=await t.initializeTask;return this._options.adapter.archive(e)},optimistic:e=>qn(e,t.threadId,"archived")})}unarchive(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("archived"!==t.status)throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:e}=await t.initializeTask;return await this._options.adapter.unarchive(e)}catch(Sl){throw await this._ensureThreadIsNotMain(t.threadId),Sl}},optimistic:e=>qn(e,t.threadId,"regular")})}async delete(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status&&"archived"!==t.status)throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(t.threadId);const{remoteId:e}=await t.initializeTask;return await this._options.adapter.delete(e)},optimistic:e=>qn(e,t.threadId,"deleted")})}async detach(e){const t=this.getItemById(e);if(!t)throw new Error("Thread not found");if("regular"!==t.status&&"archived"!==t.status)throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(t.threadId),this._hookManager.stopThreadRuntime(t.threadId)}useBoundIds=Lt(()=>[]);__internal_RenderComponent=()=>{const e=V.useId();V.useEffect(()=>(this.useBoundIds.setState(t=>[...t,e],!0),()=>{this.useBoundIds.setState(t=>t.filter(t=>t!==e),!0)}),[e]);const t=this.useBoundIds(),{Provider:n}=this.useProvider(),r={modelContext:this.contextProvider};return(0===t.length||t[0]===e)&&u.jsx(ut,{adapters:r,children:u.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:n})})}},Gn=class extends q{threads;constructor(e){super(),this.threads=new Kn(e,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}},Yn=e=>{const t=zt(),n=Rt();V.useEffect(()=>e.render?n.getState().setToolUI(e.toolName,e.render):void 0,[n,e.toolName,e.render]),V.useEffect(()=>{const{toolName:n,render:r,...i}=e,o={tools:{[n]:i}};return t.registerModelContextProvider({getModelContext:()=>o})},[t,e])};const Xn=Object.freeze({status:"aborted"});function Qn(e,t,n){function r(n,r){var i;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(i=n._zod).traits??(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in a.prototype)e in n||Object.defineProperty(n,e,{value:a.prototype[e].bind(n)});n._zod.constr=a,n._zod.def=r}const i=n?.Parent??Object;class o extends i{}function a(e){var t;const i=n?.Parent?new o:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const n of i._zod.deferred)n();return i}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}const er=Symbol("zod_brand");class tr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class nr extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const rr={};function ir(e){return e&&Object.assign(rr,e),rr}function or(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function ar(e,t="|"){return e.map(e=>Tr(e)).join(t)}function sr(e,t){return"bigint"==typeof t?t.toString():t}function lr(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ur(e){return null==e}function cr(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function dr(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}const pr=Symbol("evaluating");function fr(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==pr)return void 0===r&&(r=pr,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function hr(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function mr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function gr(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function vr(e){return JSON.stringify(e)}const yr="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function br(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const xr=lr(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function wr(e){if(!1===br(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==br(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function _r(e){return wr(e)?{...e}:e}const kr=new Set(["string","number","symbol"]),Sr=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Ir(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $r(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function Er(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function Tr(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function jr(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}const Nr={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Cr={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Or(e,t){const n=e._zod.def;return $r(e,gr(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return mr(this,"shape",e),e},checks:[]}))}function Ar(e,t){const n=e._zod.def,r=gr(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return mr(this,"shape",r),r},checks:[]});return $r(e,r)}function zr(e,t){if(!wr(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=gr(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return mr(this,"shape",n),n},checks:[]});return $r(e,r)}function Pr(e,t){if(!wr(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return mr(this,"shape",n),n},checks:e._zod.def.checks};return $r(e,n)}function Rr(e,t){const n=gr(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return mr(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return $r(e,n)}function Dr(e,t,n){const r=gr(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return mr(this,"shape",i),i},checks:[]});return $r(t,r)}function Mr(e,t,n){const r=gr(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return mr(this,"shape",i),i},checks:[]});return $r(t,r)}function Ur(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function Lr(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Fr(e){return"string"==typeof e?e:e?.message}function Zr(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=Fr(e.inst?._zod.def?.error?.(e))??Fr(t?.error?.(e))??Fr(n.customError?.(e))??Fr(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Br(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Vr(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Wr(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}function Jr(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function Hr(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}const qr=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:Cr,Class:class{constructor(...e){}},NUMBER_FORMAT_RANGES:Nr,aborted:Ur,allowsEval:xr,assert:function(e){},assertEqual:function(e){return e},assertIs:function(e){},assertNever:function(e){throw new Error},assertNotEqual:function(e){return e},assignProp:mr,base64ToUint8Array:Jr,base64urlToUint8Array:function(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return Jr(t+"=".repeat((4-t.length%4)%4))},cached:lr,captureStackTrace:yr,cleanEnum:function(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])},cleanRegex:cr,clone:$r,cloneDef:function(e){return gr(e._zod.def)},createTransparentProxy:function(e){let t;return new Proxy({},{get:(n,r,i)=>(t??(t=e()),Reflect.get(t,r,i)),set:(n,r,i,o)=>(t??(t=e()),Reflect.set(t,r,i,o)),has:(n,r)=>(t??(t=e()),Reflect.has(t,r)),deleteProperty:(n,r)=>(t??(t=e()),Reflect.deleteProperty(t,r)),ownKeys:n=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(n,r)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)),defineProperty:(n,r,i)=>(t??(t=e()),Reflect.defineProperty(t,r,i))})},defineLazy:fr,esc:vr,escapeRegex:Ir,extend:zr,finalizeIssue:Zr,floatSafeRemainder:dr,getElementAtPath:function(e,t){return t?t.reduce((e,t)=>e?.[t],e):e},getEnumValues:or,getLengthableOrigin:Vr,getParsedType:e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":null===e?"null":e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?"promise":"undefined"!=typeof Map&&e instanceof Map?"map":"undefined"!=typeof Set&&e instanceof Set?"set":"undefined"!=typeof Date&&e instanceof Date?"date":"undefined"!=typeof File&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},getSizableOrigin:Br,hexToUint8Array:function(e){const t=e.replace(/^0x/,"");if(t.length%2!=0)throw new Error("Invalid hex string length");const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=Number.parseInt(t.slice(r,r+2),16);return n},isObject:br,isPlainObject:wr,issue:Wr,joinValues:ar,jsonStringifyReplacer:sr,merge:Rr,mergeDefs:gr,normalizeParams:Er,nullish:ur,numKeys:function(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t},objectClone:hr,omit:Ar,optionalKeys:jr,partial:Dr,pick:Or,prefixIssues:Lr,primitiveTypes:Sr,promiseAllObject:function(e){const t=Object.keys(e),n=t.map(t=>e[t]);return Promise.all(n).then(e=>{const n={};for(let r=0;r<t.length;r++)n[t[r]]=e[r];return n})},propertyKeyTypes:kr,randomString:function(e=10){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(26*Math.random())];return n},required:Mr,safeExtend:Pr,shallowClone:_r,stringifyPrimitive:Tr,uint8ArrayToBase64:Hr,uint8ArrayToBase64url:function(e){return Hr(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},uint8ArrayToHex:function(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")},unwrapMessage:Fr},Symbol.toStringTag,{value:"Module"})),Kr=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,sr,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Gr=Qn("$ZodError",Kr),Yr=Qn("$ZodError",Kr,{Parent:Error});function Xr(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function Qr(e,t){const n=t||function(e){return e.message},r={_errors:[]},i=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,i=0;for(;i<t.path.length;){const r=t.path[i];i===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function ei(e,t){const n=t||function(e){return e.message},r={errors:[]},i=(e,t=[])=>{var o,a;for(const s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>i({issues:e},s.path));else if("invalid_key"===s.code)i({issues:s.issues},s.path);else if("invalid_element"===s.code)i({issues:s.issues},s.path);else{const e=[...t,...s.path];if(0===e.length){r.errors.push(n(s));continue}let i=r,l=0;for(;l<e.length;){const t=e[l],r=l===e.length-1;"string"==typeof t?(i.properties??(i.properties={}),(o=i.properties)[t]??(o[t]={errors:[]}),i=i.properties[t]):(i.items??(i.items=[]),(a=i.items)[t]??(a[t]={errors:[]}),i=i.items[t]),r&&i.errors.push(n(s)),l++}}};return i(e),r}function ti(e){const t=[],n=e.map(e=>"object"==typeof e?e.key:e);for(const r of n)"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function ni(e){const t=[],n=[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length);for(const r of n)t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${ti(r.path)}`);return t.join("\n")}const ri=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},o);if(a instanceof Promise)throw new tr;if(a.issues.length){const t=new(i?.Err??e)(a.issues.map(e=>Zr(e,o,ir())));throw yr(t,i?.callee),t}return a.value},ii=ri(Yr),oi=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const t=new(i?.Err??e)(a.issues.map(e=>Zr(e,o,ir())));throw yr(t,i?.callee),t}return a.value},ai=oi(Yr),si=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new tr;return o.issues.length?{success:!1,error:new(e??Gr)(o.issues.map(e=>Zr(e,i,ir())))}:{success:!0,data:o.value}},li=si(Yr),ui=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>Zr(e,i,ir())))}:{success:!0,data:o.value}},ci=ui(Yr),di=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ri(e)(t,n,i)},pi=di(Yr),fi=e=>(t,n,r)=>ri(e)(t,n,r),hi=fi(Yr),mi=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return oi(e)(t,n,i)},gi=mi(Yr),vi=e=>async(t,n,r)=>oi(e)(t,n,r),yi=vi(Yr),bi=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return si(e)(t,n,i)},xi=bi(Yr),wi=e=>(t,n,r)=>si(e)(t,n,r),_i=wi(Yr),ki=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ui(e)(t,n,i)},Si=ki(Yr),Ii=e=>async(t,n,r)=>ui(e)(t,n,r),$i=Ii(Yr),Ei=/^[cC][^\s-]{8,}$/,Ti=/^[0-9a-z]+$/,ji=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Ni=/^[0-9a-vA-V]{20}$/,Ci=/^[A-Za-z0-9]{27}$/,Oi=/^[a-zA-Z0-9_-]{21}$/,Ai=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,zi=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Pi=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Ri=Pi(4),Di=Pi(6),Mi=Pi(7),Ui=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;function Li(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}const Fi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Zi=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Bi=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Vi=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wi=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ji=/^[A-Za-z0-9_-]*$/,Hi=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,qi=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Ki=/^\+(?:[0-9]){6,14}[0-9]$/,Gi="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Yi=new RegExp(`^${Gi}$`);function Xi(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Qi(e){return new RegExp(`^${Xi(e)}$`)}function eo(e){const t=Xi({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Gi}T(?:${r})$`)}const to=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),no=/^\d+n?$/,ro=/^\d+$/,io=/^-?\d+(?:\.\d+)?/i,oo=/true|false/i,ao=/null/i,so=/undefined/i,lo=/^[^A-Z]*$/,uo=/^[^a-z]*$/,co=/^[0-9a-fA-F]*$/;function po(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function fo(e){return new RegExp(`^[A-Za-z0-9-_]{${e}}$`)}const ho=po(22,"=="),mo=fo(22),go=po(27,"="),vo=fo(27),yo=po(43,"="),bo=fo(43),xo=po(64,""),wo=fo(64),_o=po(86,"=="),ko=fo(86),So=Object.freeze(Object.defineProperty({__proto__:null,base64:Wi,base64url:Ji,bigint:no,boolean:oo,browserEmail:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cidrv4:Bi,cidrv6:Vi,cuid:Ei,cuid2:Ti,date:Yi,datetime:eo,domain:qi,duration:Ai,e164:Ki,email:Ui,emoji:Li,extendedDuration:/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,guid:zi,hex:co,hostname:Hi,html5Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,idnEmail:/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,integer:ro,ipv4:Fi,ipv6:Zi,ksuid:Ci,lowercase:lo,md5_base64:ho,md5_base64url:mo,md5_hex:/^[0-9a-fA-F]{32}$/,nanoid:Oi,null:ao,number:io,rfc5322Email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sha1_base64:go,sha1_base64url:vo,sha1_hex:/^[0-9a-fA-F]{40}$/,sha256_base64:yo,sha256_base64url:bo,sha256_hex:/^[0-9a-fA-F]{64}$/,sha384_base64:xo,sha384_base64url:wo,sha384_hex:/^[0-9a-fA-F]{96}$/,sha512_base64:_o,sha512_base64url:ko,sha512_hex:/^[0-9a-fA-F]{128}$/,string:to,time:Qi,ulid:ji,undefined:so,unicodeEmail:/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,uppercase:uo,uuid:Pi,uuid4:Ri,uuid6:Di,uuid7:Mi,xid:Ni},Symbol.toStringTag,{value:"Module"})),Io=Qn("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),$o={number:"number",bigint:"bigint",object:"date"},Eo=Qn("$ZodCheckLessThan",(e,t)=>{Io.init(e,t);const n=$o[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),To=Qn("$ZodCheckGreaterThan",(e,t)=>{Io.init(e,t);const n=$o[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),jo=Qn("$ZodCheckMultipleOf",(e,t)=>{Io.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===dr(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),No=Qn("$ZodCheckNumberFormat",(e,t)=>{Io.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=Nr[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=o,n&&(r.pattern=ro)}),e._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s))return void a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}s<i&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>o&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Co=Qn("$ZodCheckBigIntFormat",(e,t)=>{Io.init(e,t);const[n,r]=Cr[t.format];e._zod.onattach.push(e=>{const i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=r}),e._zod.check=i=>{const o=i.value;o<n&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>r&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:r,inst:e})}}),Oo=Qn("$ZodCheckMaxSize",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;r.size<=t.maximum||n.issues.push({origin:Br(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Ao=Qn("$ZodCheckMinSize",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;r.size>=t.minimum||n.issues.push({origin:Br(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),zo=Qn("$ZodCheckSizeEquals",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{const r=n.value,i=r.size;if(i===t.size)return;const o=i>t.size;n.issues.push({origin:Br(r),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Po=Qn("$ZodCheckMaxLength",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Vr(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Ro=Qn("$ZodCheckMinLength",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Vr(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Do=Qn("$ZodCheckLengthEquals",(e,t)=>{var n;Io.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ur(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const o=Vr(r),a=i>t.length;n.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Mo=Qn("$ZodCheckStringFormat",(e,t)=>{var n,r;Io.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Uo=Qn("$ZodCheckRegex",(e,t)=>{Mo.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Lo=Qn("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=lo),Mo.init(e,t)}),Fo=Qn("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=uo),Mo.init(e,t)}),Zo=Qn("$ZodCheckIncludes",(e,t)=>{Io.init(e,t);const n=Ir(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),Bo=Qn("$ZodCheckStartsWith",(e,t)=>{Io.init(e,t);const n=new RegExp(`^${Ir(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Vo=Qn("$ZodCheckEndsWith",(e,t)=>{Io.init(e,t);const n=new RegExp(`.*${Ir(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function Wo(e,t,n){e.issues.length&&t.issues.push(...Lr(n,e.issues))}const Jo=Qn("$ZodCheckProperty",(e,t)=>{Io.init(e,t),e._zod.check=e=>{const n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>Wo(n,e,t.property));Wo(n,e,t.property)}}),Ho=Qn("$ZodCheckMimeType",(e,t)=>{Io.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),qo=Qn("$ZodCheckOverwrite",(e,t)=>{Io.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Ko{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const i of r)this.content.push(i)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const Go={major:4,minor:1,patch:3},Yo=Qn("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Go;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const t of i._zod.onattach)t(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=Ur(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,a=o._zod.check(e);if(a instanceof Promise&&!1===n?.async)throw new tr;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a;e.issues.length!==t&&(i||(i=Ur(e,t)))});else{if(e.issues.length===t)continue;i||(i=Ur(e,t))}}return r?r.then(()=>e):e},n=(n,i,o)=>{if(Ur(n))return n.aborted=!0,n;const a=t(i,r,o);if(a instanceof Promise){if(!1===o.async)throw new tr;return a.then(t=>e._zod.parse(t,o))}return e._zod.parse(a,o)};e._zod.run=(i,o)=>{if(o.skipChecks)return e._zod.parse(i,o);if("backward"===o.direction){const t=e._zod.parse({value:i.value,issues:[]},{...o,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,o)):n(t,i,o)}const a=e._zod.parse(i,o);if(a instanceof Promise){if(!1===o.async)throw new tr;return a.then(e=>t(e,r,o))}return t(a,r,o)}}e["~standard"]={validate:t=>{try{const n=li(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return ci(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),Xo=Qn("$ZodString",(e,t)=>{Yo.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??to(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Qo=Qn("$ZodStringFormat",(e,t)=>{Mo.init(e,t),Xo.init(e,t)}),ea=Qn("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=zi),Qo.init(e,t)}),ta=Qn("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Pi(e))}else t.pattern??(t.pattern=Pi());Qo.init(e,t)}),na=Qn("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Ui),Qo.init(e,t)}),ra=Qn("$ZodURL",(e,t)=>{Qo.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Hi.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ia=Qn("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Li()),Qo.init(e,t)}),oa=Qn("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Oi),Qo.init(e,t)}),aa=Qn("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ei),Qo.init(e,t)}),sa=Qn("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ti),Qo.init(e,t)}),la=Qn("$ZodULID",(e,t)=>{t.pattern??(t.pattern=ji),Qo.init(e,t)}),ua=Qn("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Ni),Qo.init(e,t)}),ca=Qn("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Ci),Qo.init(e,t)}),da=Qn("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=eo(t)),Qo.init(e,t)}),pa=Qn("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Yi),Qo.init(e,t)}),fa=Qn("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Qi(t)),Qo.init(e,t)}),ha=Qn("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ai),Qo.init(e,t)}),ma=Qn("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Fi),Qo.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),ga=Qn("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Zi),Qo.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),va=Qn("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Bi),Qo.init(e,t)}),ya=Qn("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Vi),Qo.init(e,t),e._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const e=Number(i);if(`${e}`!==i)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ba(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const xa=Qn("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Wi),Qo.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{ba(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function wa(e){if(!Ji.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return ba(t.padEnd(4*Math.ceil(t.length/4),"="))}const _a=Qn("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ji),Qo.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{wa(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),ka=Qn("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Ki),Qo.init(e,t)});function Sa(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return(!("typ"in i)||"JWT"===i?.typ)&&(!!i.alg&&(!t||"alg"in i&&i.alg===t))}catch{return!1}}const Ia=Qn("$ZodJWT",(e,t)=>{Qo.init(e,t),e._zod.check=n=>{Sa(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),$a=Qn("$ZodCustomStringFormat",(e,t)=>{Qo.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),Ea=Qn("$ZodNumber",(e,t)=>{Yo.init(e,t),e._zod.pattern=e._zod.bag.pattern??io,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(a){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),Ta=Qn("$ZodNumber",(e,t)=>{No.init(e,t),Ea.init(e,t)}),ja=Qn("$ZodBoolean",(e,t)=>{Yo.init(e,t),e._zod.pattern=oo,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(o){}const i=n.value;return"boolean"==typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Na=Qn("$ZodBigInt",(e,t)=>{Yo.init(e,t),e._zod.pattern=no,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(i){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),Ca=Qn("$ZodBigInt",(e,t)=>{Co.init(e,t),Na.init(e,t)}),Oa=Qn("$ZodSymbol",(e,t)=>{Yo.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),Aa=Qn("$ZodUndefined",(e,t)=>{Yo.init(e,t),e._zod.pattern=so,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),za=Qn("$ZodNull",(e,t)=>{Yo.init(e,t),e._zod.pattern=ao,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),Pa=Qn("$ZodAny",(e,t)=>{Yo.init(e,t),e._zod.parse=e=>e}),Ra=Qn("$ZodUnknown",(e,t)=>{Yo.init(e,t),e._zod.parse=e=>e}),Da=Qn("$ZodNever",(e,t)=>{Yo.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),Ma=Qn("$ZodVoid",(e,t)=>{Yo.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),Ua=Qn("$ZodDate",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(a){}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function La(e,t,n){e.issues.length&&t.issues.push(...Lr(n,e.issues)),t.value[n]=e.value}const Fa=Qn("$ZodArray",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const a=i[e],s=t.element._zod.run({value:a,issues:[]},r);s instanceof Promise?o.push(s.then(t=>La(t,n,e))):La(s,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Za(e,t,n,r){e.issues.length&&t.issues.push(...Lr(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Ba(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape[r]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=jr(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Va(e,t,n,r,i,o){const a=[],s=i.keySet,l=i.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(s.has(c))continue;if("never"===u){a.push(c);continue}const i=l.run({value:t[c],issues:[]},r);i instanceof Promise?e.push(i.then(e=>Za(e,n,c,t))):Za(i,n,c,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Wa=Qn("$ZodObject",(e,t)=>{Yo.init(e,t);const n=lr(()=>Ba(t));fr(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const r=br,i=t.catchall;let o;e._zod.parse=(t,a)=>{o??(o=n.value);const s=t.value;if(!r(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};const l=[],u=o.shape;for(const e of o.keys){const n=u[e]._zod.run({value:s[e],issues:[]},a);n instanceof Promise?l.push(n.then(n=>Za(n,t,e,s))):Za(n,t,e,s)}return i?Va(l,s,t,a,n.value,e):l.length?Promise.all(l).then(()=>t):t}}),Ja=Qn("$ZodObjectJIT",(e,t)=>{Wa.init(e,t);const n=e._zod.parse,r=lr(()=>Ba(t));let i;const o=br,a=!rr.jitless,s=a&&xr.value,l=t.catchall;let u;e._zod.parse=(c,d)=>{u??(u=r.value);const p=c.value;return o(p)?a&&s&&!1===d?.async&&!0!==d.jitless?(i||(i=(e=>{const t=new Ko(["shape","payload","ctx"]),n=r.value,i=e=>{const t=vr(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const o=Object.create(null);let a=0;for(const r of n.keys)o[r]="key_"+a++;t.write("const newResult = {}");for(const r of n.keys){const e=o[r],n=vr(r);t.write(`const ${e} = ${i(r)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${n}, ...iss.path] : [${n}]\n          })));\n        }\n        \n        if (${e}.value === undefined) {\n          if (${n} in input) {\n            newResult[${n}] = undefined;\n          }\n        } else {\n          newResult[${n}] = ${e}.value;\n        }\n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=i(c,d),l?Va([],p,c,d,u,e):c):n(c,d):(c.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),c)}});function Ha(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const i=e.filter(e=>!Ur(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>Zr(e,r,ir())))}),t)}const qa=Qn("$ZodUnion",(e,t)=>{Yo.init(e,t),fr(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),fr(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),fr(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),fr(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>cr(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let a=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)s.push(t),a=!0;else{if(0===t.issues.length)return t;s.push(t)}}return a?Promise.all(s).then(t=>Ha(t,i,e,o)):Ha(s,i,e,o)}}),Ka=Qn("$ZodDiscriminatedUnion",(e,t)=>{qa.init(e,t);const n=e._zod.parse;fr(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=lr(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(i,o)=>{const a=i.value;if(!br(a))return i.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),i;const s=r.value.get(a?.[t.discriminator]);return s?s._zod.run(i,o):t.unionFallback?n(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),i)}}),Ga=Qn("$ZodIntersection",(e,t)=>{Yo.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>Xa(e,t,n)):Xa(e,i,o)}});function Ya(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(wr(e)&&wr(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const o of r){const n=Ya(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};i[o]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=Ya(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Xa(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ur(e))return e;const r=Ya(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Qa=Qn("$ZodTuple",(e,t)=>{Yo.init(e,t);const n=t.items,r=n.length-[...n].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(i,o)=>{const a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];const s=[];if(!t.rest){const t=a.length>n.length,o=a.length<r-1;if(t||o)return i.issues.push({...t?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:a,inst:e,origin:"array"}),i}let l=-1;for(const e of n){if(l++,l>=a.length&&l>=r)continue;const t=e._zod.run({value:a[l],issues:[]},o);t instanceof Promise?s.push(t.then(e=>es(e,i,l))):es(t,i,l)}if(t.rest){const e=a.slice(n.length);for(const n of e){l++;const e=t.rest._zod.run({value:n,issues:[]},o);e instanceof Promise?s.push(e.then(e=>es(e,i,l))):es(e,i,l)}}return s.length?Promise.all(s).then(()=>i):i}});function es(e,t,n){e.issues.length&&t.issues.push(...Lr(n,e.issues)),t.value[n]=e.value}const ts=Qn("$ZodRecord",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!wr(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const a=t.keyType._zod.values;n.value={};for(const e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){const a=t.valueType._zod.run({value:i[e],issues:[]},r);a instanceof Promise?o.push(a.then(t=>{t.issues.length&&n.issues.push(...Lr(e,t.issues)),n.value[e]=t.value})):(a.issues.length&&n.issues.push(...Lr(e,a.issues)),n.value[e]=a.value)}let s;for(const e in i)a.has(e)||(s=s??[],s.push(e));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:s})}else{n.value={};for(const a of Reflect.ownKeys(i)){if("__proto__"===a)continue;const s=t.keyType._zod.run({value:a,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(e=>Zr(e,r,ir())),input:a,path:[a],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:i[a],issues:[]},r);l instanceof Promise?o.push(l.then(e=>{e.issues.length&&n.issues.push(...Lr(a,e.issues)),n.value[s.value]=e.value})):(l.issues.length&&n.issues.push(...Lr(a,l.issues)),n.value[s.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),ns=Qn("$ZodMap",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;const o=[];n.value=new Map;for(const[a,s]of i){const l=t.keyType._zod.run({value:a,issues:[]},r),u=t.valueType._zod.run({value:s,issues:[]},r);l instanceof Promise||u instanceof Promise?o.push(Promise.all([l,u]).then(([t,o])=>{rs(t,o,n,a,i,e,r)})):rs(l,u,n,a,i,e,r)}return o.length?Promise.all(o).then(()=>n):n}});function rs(e,t,n,r,i,o,a){e.issues.length&&(kr.has(typeof r)?n.issues.push(...Lr(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:e.issues.map(e=>Zr(e,a,ir()))})),t.issues.length&&(kr.has(typeof r)?n.issues.push(...Lr(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:r,issues:t.issues.map(e=>Zr(e,a,ir()))})),n.value.set(e.value,t.value)}const is=Qn("$ZodSet",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;const o=[];n.value=new Set;for(const e of i){const i=t.valueType._zod.run({value:e,issues:[]},r);i instanceof Promise?o.push(i.then(e=>os(e,n))):os(i,n)}return o.length?Promise.all(o).then(()=>n):n}});function os(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const as=Qn("$ZodEnum",(e,t)=>{Yo.init(e,t);const n=or(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>kr.has(typeof e)).map(e=>"string"==typeof e?Ir(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}}),ss=Qn("$ZodLiteral",(e,t)=>{if(Yo.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?Ir(e):e?Ir(e.toString()):String(e)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),ls=Qn("$ZodFile",(e,t)=>{Yo.init(e,t),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),us=Qn("$ZodTransform",(e,t)=>{Yo.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new nr(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new tr;return n.value=i,n}});function cs(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const ds=Qn("$ZodOptional",(e,t)=>{Yo.init(e,t),e._zod.optin="optional",e._zod.optout="optional",fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),fr(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${cr(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>cs(t,e.value)):cs(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),ps=Qn("$ZodNullable",(e,t)=>{Yo.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${cr(e.source)}|null)$`):void 0}),fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),fs=Qn("$ZodDefault",(e,t)=>{Yo.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>hs(e,t)):hs(r,t)}});function hs(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const ms=Qn("$ZodPrefault",(e,t)=>{Yo.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),gs=Qn("$ZodNonOptional",(e,t)=>{Yo.init(e,t),fr(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>vs(t,e)):vs(i,e)}});function vs(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ys=Qn("$ZodSuccess",(e,t)=>{Yo.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new nr("ZodSuccess");const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),bs=Qn("$ZodCatch",(e,t)=>{Yo.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Zr(e,n,ir()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Zr(e,n,ir()))},input:e.value}),e.issues=[]),e)}}),xs=Qn("$ZodNaN",(e,t)=>{Yo.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),ws=Qn("$ZodPipe",(e,t)=>{Yo.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>_s(e,t.in,n)):_s(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>_s(e,t.out,n)):_s(r,t.out,n)}});function _s(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ks=Qn("$ZodCodec",(e,t)=>{Yo.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Ss(e,t,n)):Ss(r,t,n)}{const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Ss(e,t,n)):Ss(r,t,n)}}});function Ss(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>Is(e,r,t.out,n)):Is(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>Is(e,r,t.in,n)):Is(e,r,t.in,n)}}function Is(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}const $s=Qn("$ZodReadonly",(e,t)=>{Yo.init(e,t),fr(e._zod,"propValues",()=>t.innerType._zod.propValues),fr(e._zod,"values",()=>t.innerType._zod.values),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Es):Es(r)}});function Es(e){return e.value=Object.freeze(e.value),e}const Ts=Qn("$ZodTemplateLiteral",(e,t)=>{Yo.init(e,t);const n=[];for(const r of t.parts)if("object"==typeof r&&null!==r){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);const e=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!e)throw new Error(`Invalid template literal part: ${r._zod.traits}`);const t=e.startsWith("^")?1:0,i=e.endsWith("$")?e.length-1:e.length;n.push(e.slice(t,i))}else{if(null!==r&&!Sr.has(typeof r))throw new Error(`Invalid template literal part: ${r}`);n.push(Ir(`${r}`))}e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>"string"!=typeof n.value?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),js=Qn("$ZodFunction",(e,t)=>(Yo.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?ii(e._def.input,n):n,i=Reflect.apply(t,this,r);return e._def.output?ii(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await ai(e._def.input,n):n,i=await Reflect.apply(t,this,r);return e._def.output?await ai(e._def.output,i):i}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...t)=>{const n=e.constructor;return Array.isArray(t[0])?new n({type:"function",input:new Qa({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new n({type:"function",input:t[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),Ns=Qn("$ZodPromise",(e,t)=>{Yo.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),Cs=Qn("$ZodLazy",(e,t)=>{Yo.init(e,t),fr(e._zod,"innerType",()=>t.getter()),fr(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),fr(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),fr(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),fr(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),Os=Qn("$ZodCustom",(e,t)=>{Io.init(e,t),Yo.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>As(t,n,r,e));As(i,n,r,e)}});function As(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Wr(e))}}const zs=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}const n={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  :   ${e.expected}    ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`  :   ${Tr(e.values[0])}`:`  :     : ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`   :    ${e.origin??""} ${n} ${e.maximum.toString()} ${r.unit??""}`:`  :    ${e.origin??""} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`  :   ${e.origin}   ${n} ${e.minimum.toString()} ${r.unit}`:`  :   ${e.origin}   ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`  :     "${e.prefix}"`:"ends_with"===t.format?`  :     "${t.suffix}"`:"includes"===t.format?`  :    "${t.includes}"`:"regex"===t.format?`  :     ${t.pattern}`:`${n[t.format]??e.format}  `}case"not_multiple_of":return`  :      ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""} ${e.keys.length>1?"":""}: ${ar(e.keys," ")}`;case"invalid_key":return`    ${e.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${e.origin}`}}};const Ps=()=>{const e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Yanl dyr: gzlniln ${e.expected}, daxil olan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Yanl dyr: gzlniln ${Tr(e.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ox byk: gzlniln ${e.origin??"dyr"} ${n}${e.maximum.toString()} ${r.unit??"element"}`:`ox byk: gzlniln ${e.origin??"dyr"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`ox kiik: gzlniln ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`ox kiik: gzlniln ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Yanl mtn: "${t.prefix}" il balamaldr`:"ends_with"===t.format?`Yanl mtn: "${t.suffix}" il bitmlidir`:"includes"===t.format?`Yanl mtn: "${t.includes}" daxil olmaldr`:"regex"===t.format?`Yanl mtn: ${t.pattern} ablonuna uyun olmaldr`:`Yanl ${n[t.format]??e.format}`}case"not_multiple_of":return`Yanl dd: ${e.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${e.keys.length>1?"lar":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilind yanl aar`;case"invalid_union":default:return"Yanl dyr";case"invalid_element":return`${e.origin} daxilind yanl dyr`}}};function Rs(e,t,n,r){const i=Math.abs(e),o=i%10,a=i%100;return a>=11&&a<=19?r:1===o?t:o>=2&&o<=4?n:r}const Ds=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])}`:` :    ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=Rs(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return` : ,  ${e.origin??""}  ${r.verb} ${n}${e.maximum.toString()} ${t}`}return` : ,  ${e.origin??""}   ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=Rs(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return` : ,  ${e.origin}  ${r.verb} ${n}${e.minimum.toString()} ${t}`}return` : ,  ${e.origin}   ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` :    "${t.prefix}"`:"ends_with"===t.format?` :    "${t.suffix}"`:"includes"===t.format?` :   "${t.includes}"`:"regex"===t.format?` :    ${t.pattern}`:` ${n[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return" ";case"invalid_element":return`   ${e.origin}`}}};const Ms=()=>{const e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(t){return e[t]??null}const n={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipus invlid: s'esperava ${e.expected}, s'ha rebut ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Valor invlid: s'esperava ${Tr(e.values[0])}`:`Opci invlida: s'esperava una de ${ar(e.values," o ")}`;case"too_big":{const n=e.inclusive?"com a mxim":"menys de",r=t(e.origin);return r?`Massa gran: s'esperava que ${e.origin??"el valor"} contingus ${n} ${e.maximum.toString()} ${r.unit??"elements"}`:`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"com a mnim":"ms de",r=t(e.origin);return r?`Massa petit: s'esperava que ${e.origin} contingus ${n} ${e.minimum.toString()} ${r.unit}`:`Massa petit: s'esperava que ${e.origin} fos ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Format invlid: ha de comenar amb "${t.prefix}"`:"ends_with"===t.format?`Format invlid: ha d'acabar amb "${t.suffix}"`:"includes"===t.format?`Format invlid: ha d'incloure "${t.includes}"`:"regex"===t.format?`Format invlid: ha de coincidir amb el patr ${t.pattern}`:`Format invlid per a ${n[t.format]??e.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Clau invlida a ${e.origin}`;case"invalid_union":default:return"Entrada invlida";case"invalid_element":return`Element invlid a ${e.origin}`}}};const Us=()=>{const e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(t){return e[t]??null}const n={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return e=>{switch(e.code){case"invalid_type":return`Neplatn vstup: oekvno ${e.expected}, obdreno ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neplatn vstup: oekvno ${Tr(e.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Hodnota je pli velk: ${e.origin??"hodnota"} mus mt ${n}${e.maximum.toString()} ${r.unit??"prvk"}`:`Hodnota je pli velk: ${e.origin??"hodnota"} mus bt ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Hodnota je pli mal: ${e.origin??"hodnota"} mus mt ${n}${e.minimum.toString()} ${r.unit??"prvk"}`:`Hodnota je pli mal: ${e.origin??"hodnota"} mus bt ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neplatn etzec: mus zanat na "${t.prefix}"`:"ends_with"===t.format?`Neplatn etzec: mus konit na "${t.suffix}"`:"includes"===t.format?`Neplatn etzec: mus obsahovat "${t.includes}"`:"regex"===t.format?`Neplatn etzec: mus odpovdat vzoru ${t.pattern}`:`Neplatn formt ${n[t.format]??e.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${e.divisor}`;case"unrecognized_keys":return`Neznm kle: ${ar(e.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${e.origin}`;case"invalid_union":default:return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${e.origin}`}}};const Ls=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function n(t){return e[t]??null}function r(e){return t[e]??e}const i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldigt input: forventede ${r(e.expected)}, fik ${r((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":return Array.isArray(e)?"liste":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objekt"}return t})(e.input))}`;case"invalid_value":return 1===e.values.length?`Ugyldig vrdi: forventede ${Tr(e.values[0])}`:`Ugyldigt valg: forventede en af flgende ${ar(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",i=n(e.origin),o=r(e.origin);return i?`For stor: forventede ${o??"value"} ${i.verb} ${t} ${e.maximum.toString()} ${i.unit??"elementer"}`:`For stor: forventede ${o??"value"} havde ${t} ${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",i=n(e.origin),o=r(e.origin);return i?`For lille: forventede ${o} ${i.verb} ${t} ${e.minimum.toString()} ${i.unit}`:`For lille: forventede ${o} havde ${t} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: skal starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: skal ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: skal indeholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: skal matche mnsteret ${t.pattern}`:`Ugyldig ${i[t.format]??e.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${e.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${e.origin}`;default:return"Ugyldigt input"}}};const Fs=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(t){return e[t]??null}const n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return e=>{switch(e.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${e.expected}, erhalten ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ungltige Eingabe: erwartet ${Tr(e.values[0])}`:`Ungltige Option: erwartet eine von ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Zu gro: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ${r.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ist`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ${r.unit} hat`:`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ist`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ungltiger String: muss mit "${t.prefix}" beginnen`:"ends_with"===t.format?`Ungltiger String: muss mit "${t.suffix}" enden`:"includes"===t.format?`Ungltiger String: muss "${t.includes}" enthalten`:"regex"===t.format?`Ungltiger String: muss dem Muster ${t.pattern} entsprechen`:`Ungltig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${e.origin}`;case"invalid_union":default:return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${e.origin}`}}};const Zs=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${Tr(e.values[0])}`:`Invalid option: expected one of ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${n}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Too small: expected ${e.origin} to have ${n}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}};function Bs(){return{localeError:Zs()}}const Vs=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(t){return e[t]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendiis ${e.expected}, riceviis ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Nevalida enigo: atendiis ${Tr(e.values[0])}`:`Nevalida opcio: atendiis unu el ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Tro granda: atendiis ke ${e.origin??"valoro"} havu ${n}${e.maximum.toString()} ${r.unit??"elementojn"}`:`Tro granda: atendiis ke ${e.origin??"valoro"} havu ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Tro malgranda: atendiis ke ${e.origin} havu ${n}${e.minimum.toString()} ${r.unit}`:`Tro malgranda: atendiis ke ${e.origin} estu ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nevalida karaktraro: devas komencii per "${t.prefix}"`:"ends_with"===t.format?`Nevalida karaktraro: devas finii per "${t.suffix}"`:"includes"===t.format?`Nevalida karaktraro: devas inkluzivi "${t.includes}"`:"regex"===t.format?`Nevalida karaktraro: devas kongrui kun la modelo ${t.pattern}`:`Nevalida ${n[t.format]??e.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} losilo${e.keys.length>1?"j":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}}};const Ws=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(t){return e[t]??null}const n={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Entrada invlida: se esperaba ${e.expected}, recibido ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"arreglo";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrada invlida: se esperaba ${Tr(e.values[0])}`:`Opcin invlida: se esperaba una de ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Demasiado grande: se esperaba que ${e.origin??"valor"} tuviera ${n}${e.maximum.toString()} ${r.unit??"elementos"}`:`Demasiado grande: se esperaba que ${e.origin??"valor"} fuera ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Demasiado pequeo: se esperaba que ${e.origin} tuviera ${n}${e.minimum.toString()} ${r.unit}`:`Demasiado pequeo: se esperaba que ${e.origin} fuera ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Cadena invlida: debe comenzar con "${t.prefix}"`:"ends_with"===t.format?`Cadena invlida: debe terminar en "${t.suffix}"`:"includes"===t.format?`Cadena invlida: debe incluir "${t.includes}"`:"regex"===t.format?`Cadena invlida: debe coincidir con el patrn ${t.pattern}`:`Invlido ${n[t.format]??e.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${e.divisor}`;case"unrecognized_keys":return`Llave${e.keys.length>1?"s":""} desconocida${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Llave invlida en ${e.origin}`;case"invalid_union":default:return"Entrada invlida";case"invalid_element":return`Valor invlido en ${e.origin}`}}};const Js=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}const n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected}  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}  `;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])} `:` :    ${ar(e.values,"|")} `;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` : ${e.origin??""}  ${n}${e.maximum.toString()} ${r.unit??""} `:` : ${e.origin??""}  ${n}${e.maximum.toString()} `}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` : ${e.origin}  ${n}${e.minimum.toString()} ${r.unit} `:` : ${e.origin}  ${n}${e.minimum.toString()} `}case"invalid_format":{const t=e;return"starts_with"===t.format?` :   "${t.prefix}"  `:"ends_with"===t.format?` :   "${t.suffix}"  `:"includes"===t.format?` :   "${t.includes}" `:"regex"===t.format?` :    ${t.pattern}   `:`${n[t.format]??e.format} `}case"not_multiple_of":return` :   ${e.divisor} `;case"unrecognized_keys":return`${e.keys.length>1?"":""} : ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return" ";case"invalid_element":return`   ${e.origin}`}}};const Hs=()=>{const e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(t){return e[t]??null}const n={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Virheellinen syte: tytyy olla ${Tr(e.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Liian suuri: ${r.subject} tytyy olla ${n}${e.maximum.toString()} ${r.unit}`.trim():`Liian suuri: arvon tytyy olla ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Liian pieni: ${r.subject} tytyy olla ${n}${e.minimum.toString()} ${r.unit}`.trim():`Liian pieni: arvon tytyy olla ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Virheellinen syte: tytyy alkaa "${t.prefix}"`:"ends_with"===t.format?`Virheellinen syte: tytyy loppua "${t.suffix}"`:"includes"===t.format?`Virheellinen syte: tytyy sislt "${t.includes}"`:"regex"===t.format?`Virheellinen syte: tytyy vastata snnllist lauseketta ${t.pattern}`:`Virheellinen ${n[t.format]??e.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ar(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};const qs=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return e=>{switch(e.code){case"invalid_type":return`Entre invalide : ${e.expected} attendu, ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} reu`;case"invalid_value":return 1===e.values.length?`Entre invalide : ${Tr(e.values[0])} attendu`:`Option invalide : une valeur parmi ${ar(e.values,"|")} attendue`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Trop grand : ${e.origin??"valeur"} doit ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"lment(s)"}`:`Trop grand : ${e.origin??"valeur"} doit tre ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Trop petit : ${e.origin} doit ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : ${e.origin} doit tre ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chane invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chane invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chane invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chane invalide : doit correspondre au modle ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${ar(e.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${e.origin}`;case"invalid_union":default:return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};const Ks=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return e=>{switch(e.code){case"invalid_type":return`Entre invalide : attendu ${e.expected}, reu ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entre invalide : attendu ${Tr(e.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"":"<",r=t(e.origin);return r?`Trop grand : attendu que ${e.origin??"la valeur"} ait ${n}${e.maximum.toString()} ${r.unit}`:`Trop grand : attendu que ${e.origin??"la valeur"} soit ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"":">",r=t(e.origin);return r?`Trop petit : attendu que ${e.origin} ait ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : attendu que ${e.origin} soit ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chane invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chane invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chane invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chane invalide : doit correspondre au motif ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${ar(e.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${e.origin}`;case"invalid_union":default:return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};const Gs=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  :  ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`  :  ${Tr(e.values[0])}`:`  :     ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` : ${e.origin??"value"}   ${n}${e.maximum.toString()} ${r.unit??"elements"}`:` : ${e.origin??"value"}   ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` : ${e.origin}   ${n}${e.minimum.toString()} ${r.unit}`:` : ${e.origin}   ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`  :   "${t.prefix}"`:"ends_with"===t.format?`  :    "${t.suffix}"`:"includes"===t.format?`  :   "${t.includes}"`:"regex"===t.format?`  :    ${t.pattern}`:`${n[t.format]??e.format}  `}case"not_multiple_of":return`  :     ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""}  ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`   ${e.origin}`}}};const Ys=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(t){return e[t]??null}const n={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return e=>{switch(e.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${e.expected}, a kapott rtk ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`rvnytelen bemenet: a vrt rtk ${Tr(e.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Tl nagy: ${e.origin??"rtk"} mrete tl nagy ${n}${e.maximum.toString()} ${r.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${e.origin??"rtk"} tl nagy: ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Tl kicsi: a bemeneti rtk ${e.origin} mrete tl kicsi ${n}${e.minimum.toString()} ${r.unit}`:`Tl kicsi: a bemeneti rtk ${e.origin} tl kicsi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`rvnytelen string: "${t.prefix}" rtkkel kell kezddnie`:"ends_with"===t.format?`rvnytelen string: "${t.suffix}" rtkkel kell vgzdnie`:"includes"===t.format?`rvnytelen string: "${t.includes}" rtket kell tartalmaznia`:"regex"===t.format?`rvnytelen string: ${t.pattern} mintnak kell megfelelnie`:`rvnytelen ${n[t.format]??e.format}`}case"not_multiple_of":return`rvnytelen szm: ${e.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${e.origin}`;case"invalid_union":default:return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${e.origin}`}}};const Xs=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak valid: diharapkan ${Tr(e.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: diharapkan ${e.origin} memiliki ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: diharapkan ${e.origin} menjadi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak valid: harus dimulai dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak valid: harus berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak valid: harus menyertakan "${t.includes}"`:"regex"===t.format?`String tidak valid: harus sesuai pola ${t.pattern}`:`${n[t.format]??e.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}}};const Qs=()=>{const e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(t){return e[t]??null}const n={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return e=>{switch(e.code){case"invalid_type":return`Rangt gildi:  slst inn ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} ar sem  a vera ${e.expected}`;case"invalid_value":return 1===e.values.length?`Rangt gildi: gert r fyrir ${Tr(e.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Of strt: gert er r fyrir a ${e.origin??"gildi"} hafi ${n}${e.maximum.toString()} ${r.unit??"hluti"}`:`Of strt: gert er r fyrir a ${e.origin??"gildi"} s ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Of lti: gert er r fyrir a ${e.origin} hafi ${n}${e.minimum.toString()} ${r.unit}`:`Of lti: gert er r fyrir a ${e.origin} s ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`gildur strengur: verur a byrja  "${t.prefix}"`:"ends_with"===t.format?`gildur strengur: verur a enda  "${t.suffix}"`:"includes"===t.format?`gildur strengur: verur a innihalda "${t.includes}"`:"regex"===t.format?`gildur strengur: verur a fylgja mynstri ${t.pattern}`:`Rangt ${n[t.format]??e.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`ekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${e.origin}`}}};const el=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(t){return e[t]??null}const n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input non valido: atteso ${Tr(e.values[0])}`:`Opzione non valida: atteso uno tra ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Troppo grande: ${e.origin??"valore"} deve avere ${n}${e.maximum.toString()} ${r.unit??"elementi"}`:`Troppo grande: ${e.origin??"valore"} deve essere ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Troppo piccolo: ${e.origin} deve avere ${n}${e.minimum.toString()} ${r.unit}`:`Troppo piccolo: ${e.origin} deve essere ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Stringa non valida: deve iniziare con "${t.prefix}"`:"ends_with"===t.format?`Stringa non valida: deve terminare con "${t.suffix}"`:"includes"===t.format?`Stringa non valida: deve includere "${t.includes}"`:"regex"===t.format?`Stringa non valida: deve corrispondere al pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}}};const tl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`: ${e.expected}${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`: ${Tr(e.values[0])}`:`: ${ar(e.values,"")}`;case"too_big":{const n=e.inclusive?"":"",r=t(e.origin);return r?`: ${e.origin??""}${e.maximum.toString()}${r.unit??""}${n}`:`: ${e.origin??""}${e.maximum.toString()}${n}`}case"too_small":{const n=e.inclusive?"":"",r=t(e.origin);return r?`: ${e.origin}${e.minimum.toString()}${r.unit}${n}`:`: ${e.origin}${e.minimum.toString()}${n}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`: "${t.prefix}"`:"ends_with"===t.format?`: "${t.suffix}"`:"includes"===t.format?`: "${t.includes}"`:"regex"===t.format?`: ${t.pattern}`:`${n[t.format]??e.format}`}case"not_multiple_of":return`: ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""}: ${ar(e.keys,"")}`;case"invalid_key":return`${e.origin}`;case"invalid_union":default:return"";case"invalid_element":return`${e.origin}`}}};const nl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  ${e.expected}  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`  ${Tr(e.values[0])}`:`  ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`  ${e.origin??""} ${n} ${e.maximum.toString()} ${r.unit??""}`:`  ${e.origin??""} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`  ${e.origin} ${n} ${e.minimum.toString()} ${r.unit}`:`  ${e.origin} ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`  "${t.prefix}"`:"ends_with"===t.format?`  "${t.suffix}"`:"includes"===t.format?`  "${t.includes}"`:"regex"===t.format?`  ${t.pattern}`:` ${n[t.format]??e.format}`}case"not_multiple_of":return`  ${e.divisor}`;case"unrecognized_keys":return` ${ar(e.keys,", ")}`;case"invalid_key":return` ${e.origin}`;case"invalid_union":default:return"";case"invalid_element":return` ${e.origin}`}}};const rl=()=>{const e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :   ${e.expected},   ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])}  `:` : ${ar(e.values," ")}   `;case"too_big":{const n=e.inclusive?"":"",r=""===n?" ":" ",i=t(e.origin),o=i?.unit??"";return i?`${e.origin??""}  : ${e.maximum.toString()}${o} ${n}${r}`:`${e.origin??""}  : ${e.maximum.toString()} ${n}${r}`}case"too_small":{const n=e.inclusive?"":"",r=""===n?" ":" ",i=t(e.origin),o=i?.unit??"";return i?`${e.origin??""}  : ${e.minimum.toString()}${o} ${n}${r}`:`${e.origin??""}  : ${e.minimum.toString()} ${n}${r}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` : "${t.prefix}"()  `:"ends_with"===t.format?` : "${t.suffix}"()  `:"includes"===t.format?` : "${t.includes}"()  `:"regex"===t.format?` :  ${t.pattern}   `:` ${n[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}  `;case"unrecognized_keys":return`   : ${ar(e.keys,", ")}`;case"invalid_key":return` : ${e.origin}`;case"invalid_union":default:return" ";case"invalid_element":return` : ${e.origin}`}}};const il=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}const n={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :   ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${Tr(e.values[0])}`:` :    ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` :   ${e.origin??""}   ${n}${e.maximum.toString()} ${r.unit??""}`:` :   ${e.origin??""}   ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` :   ${e.origin}   ${n}${e.minimum.toString()} ${r.unit}`:` :   ${e.origin}   ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` :     "${t.prefix}"`:"ends_with"===t.format?` :     "${t.suffix}"`:"includes"===t.format?` :    "${t.includes}"`:"regex"===t.format?` :      ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return` :      ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?" ":" "}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return" ";case"invalid_element":return`   ${e.origin}`}}};const ol=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak sah: dijangka ${Tr(e.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: dijangka ${e.origin??"nilai"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: dijangka ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: dijangka ${e.origin} adalah ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak sah: mesti bermula dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak sah: mesti berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak sah: mesti mengandungi "${t.includes}"`:"regex"===t.format?`String tidak sah: mesti sepadan dengan corak ${t.pattern}`:`${n[t.format]??e.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ar(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}}};const al=()=>{const e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(t){return e[t]??null}const n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ongeldige invoer: verwacht ${Tr(e.values[0])}`:`Ongeldige optie: verwacht n van ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Te lang: verwacht dat ${e.origin??"waarde"} ${n}${e.maximum.toString()} ${r.unit??"elementen"} bevat`:`Te lang: verwacht dat ${e.origin??"waarde"} ${n}${e.maximum.toString()} is`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Te kort: verwacht dat ${e.origin} ${n}${e.minimum.toString()} ${r.unit} bevat`:`Te kort: verwacht dat ${e.origin} ${n}${e.minimum.toString()} is`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ongeldige tekst: moet met "${t.prefix}" beginnen`:"ends_with"===t.format?`Ongeldige tekst: moet op "${t.suffix}" eindigen`:"includes"===t.format?`Ongeldige tekst: moet "${t.includes}" bevatten`:"regex"===t.format?`Ongeldige tekst: moet overeenkomen met patroon ${t.pattern}`:`Ongeldig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}}};const sl=()=>{const e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(t){return e[t]??null}const n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ugyldig verdi: forventet ${Tr(e.values[0])}`:`Ugyldig valg: forventet en av ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`For stor(t): forventet ${e.origin??"value"} til  ha ${n}${e.maximum.toString()} ${r.unit??"elementer"}`:`For stor(t): forventet ${e.origin??"value"} til  ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`For lite(n): forventet ${e.origin} til  ha ${n}${e.minimum.toString()} ${r.unit}`:`For lite(n): forventet ${e.origin} til  ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: m starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: m ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: m inneholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: m matche mnsteret ${t.pattern}`:`Ugyldig ${n[t.format]??e.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}}};const ll=()=>{const e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(t){return e[t]??null}const n={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return e=>{switch(e.code){case"invalid_type":return`Fsit giren: umulan ${e.expected}, alnan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Fsit giren: umulan ${Tr(e.values[0])}`:`Fsit tercih: mteberler ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Fazla byk: ${e.origin??"value"}, ${n}${e.maximum.toString()} ${r.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${e.origin??"value"}, ${n}${e.maximum.toString()} olmalyd.`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Fazla kk: ${e.origin}, ${n}${e.minimum.toString()} ${r.unit} sahip olmalyd.`:`Fazla kk: ${e.origin}, ${n}${e.minimum.toString()} olmalyd.`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Fsit metin: "${t.prefix}" ile balamal.`:"ends_with"===t.format?`Fsit metin: "${t.suffix}" ile bitmeli.`:"includes"===t.format?`Fsit metin: "${t.includes}" ihtiv etmeli.`:"regex"===t.format?`Fsit metin: ${t.pattern} nakna uymal.`:`Fsit ${n[t.format]??e.format}`}case"not_multiple_of":return`Fsit say: ${e.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`${e.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${e.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};const ul=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected} ,  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}  `;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])} `:` :    ${ar(e.values,"|")}  `;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` : ${e.origin??""}  ${n}${e.maximum.toString()} ${r.unit??""} `:` : ${e.origin??""}  ${n}${e.maximum.toString()} `}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` : ${e.origin}  ${n}${e.minimum.toString()} ${r.unit} `:` : ${e.origin}  ${n}${e.minimum.toString()} `}case"invalid_format":{const t=e;return"starts_with"===t.format?` :   "${t.prefix}"   `:"ends_with"===t.format?` :   "${t.suffix}"    `:"includes"===t.format?` :  "${t.includes}" `:"regex"===t.format?` :   ${t.pattern}   `:`${n[t.format]??e.format}  `}case"not_multiple_of":return` :   ${e.divisor}  `;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin} `;case"invalid_union":default:return" ";case"invalid_element":return`   ${e.origin} `}}};const cl=()=>{const e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(t){return e[t]??null}const n={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return e=>{switch(e.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${e.expected}, otrzymano ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Nieprawidowe dane wejciowe: oczekiwano ${Tr(e.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Za dua warto: oczekiwano, e ${e.origin??"warto"} bdzie mie ${n}${e.maximum.toString()} ${r.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${e.origin??"warto"} bdzie wynosi ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Za maa warto: oczekiwano, e ${e.origin??"warto"} bdzie mie ${n}${e.minimum.toString()} ${r.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${e.origin??"warto"} bdzie wynosi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nieprawidowy cig znakw: musi zaczyna si od "${t.prefix}"`:"ends_with"===t.format?`Nieprawidowy cig znakw: musi koczy si na "${t.suffix}"`:"includes"===t.format?`Nieprawidowy cig znakw: musi zawiera "${t.includes}"`:"regex"===t.format?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${t.pattern}`:`Nieprawidow(y/a/e) ${n[t.format]??e.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${e.origin}`;case"invalid_union":default:return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${e.origin}`}}};const dl=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(t){return e[t]??null}const n={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipo invlido: esperado ${e.expected}, recebido ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrada invlida: esperado ${Tr(e.values[0])}`:`Opo invlida: esperada uma das ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Muito grande: esperado que ${e.origin??"valor"} tivesse ${n}${e.maximum.toString()} ${r.unit??"elementos"}`:`Muito grande: esperado que ${e.origin??"valor"} fosse ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Muito pequeno: esperado que ${e.origin} tivesse ${n}${e.minimum.toString()} ${r.unit}`:`Muito pequeno: esperado que ${e.origin} fosse ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Texto invlido: deve comear com "${t.prefix}"`:"ends_with"===t.format?`Texto invlido: deve terminar com "${t.suffix}"`:"includes"===t.format?`Texto invlido: deve incluir "${t.includes}"`:"regex"===t.format?`Texto invlido: deve corresponder ao padro ${t.pattern}`:`${n[t.format]??e.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`Chave invlida em ${e.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${e.origin}`;default:return"Campo invlido"}}};function pl(e,t,n,r){const i=Math.abs(e),o=i%10,a=i%100;return a>=11&&a<=19?r:1===o?t:o>=2&&o<=4?n:r}const fl=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])}`:` :    ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=pl(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return`  : ,  ${e.origin??""}   ${n}${e.maximum.toString()} ${t}`}return`  : ,  ${e.origin??""}  ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=pl(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return`  : ,  ${e.origin}   ${n}${e.minimum.toString()} ${t}`}return`  : ,  ${e.origin}  ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` :    "${t.prefix}"`:"ends_with"===t.format?` :    "${t.suffix}"`:"includes"===t.format?` :   "${t.includes}"`:"regex"===t.format?` :    ${t.pattern}`:` ${n[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""} ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`   ${e.origin}`}}};const hl=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(t){return e[t]??null}const n={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: priakovano ${e.expected}, prejeto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neveljaven vnos: priakovano ${Tr(e.values[0])}`:`Neveljavna monost: priakovano eno izmed ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Preveliko: priakovano, da bo ${e.origin??"vrednost"} imelo ${n}${e.maximum.toString()} ${r.unit??"elementov"}`:`Preveliko: priakovano, da bo ${e.origin??"vrednost"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Premajhno: priakovano, da bo ${e.origin} imelo ${n}${e.minimum.toString()} ${r.unit}`:`Premajhno: priakovano, da bo ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neveljaven niz: mora se zaeti z "${t.prefix}"`:"ends_with"===t.format?`Neveljaven niz: mora se konati z "${t.suffix}"`:"includes"===t.format?`Neveljaven niz: mora vsebovati "${t.includes}"`:"regex"===t.format?`Neveljaven niz: mora ustrezati vzorcu ${t.pattern}`:`Neveljaven ${n[t.format]??e.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i kljui":" klju"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}}};const ml=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(t){return e[t]??null}const n={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${e.expected}, fick ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ogiltig inmatning: frvntat ${Tr(e.values[0])}`:`Ogiltigt val: frvntade en av ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Fr stor(t): frvntade ${e.origin??"vrdet"} att ha ${n}${e.maximum.toString()} ${r.unit??"element"}`:`Fr stor(t): frvntat ${e.origin??"vrdet"} att ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Fr lite(t): frvntade ${e.origin??"vrdet"} att ha ${n}${e.minimum.toString()} ${r.unit}`:`Fr lite(t): frvntade ${e.origin??"vrdet"} att ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ogiltig strng: mste brja med "${t.prefix}"`:"ends_with"===t.format?`Ogiltig strng: mste sluta med "${t.suffix}"`:"includes"===t.format?`Ogiltig strng: mste innehlla "${t.includes}"`:"regex"===t.format?`Ogiltig strng: mste matcha mnstret "${t.pattern}"`:`Ogiltig(t) ${n[t.format]??e.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${ar(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${e.origin??"vrdet"}`}}};const gl=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}const n={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` :  ${Tr(e.values[0])}`:` :  ${ar(e.values,"|")}  `;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` :  ${e.origin??""} ${n}${e.maximum.toString()} ${r.unit??""}   `:` :  ${e.origin??""} ${n}${e.maximum.toString()}   `}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` :  ${e.origin} ${n}${e.minimum.toString()} ${r.unit}   `:` :  ${e.origin} ${n}${e.minimum.toString()}   `}case"invalid_format":{const t=e;return"starts_with"===t.format?` : "${t.prefix}"   `:"ends_with"===t.format?` : "${t.suffix}"   `:"includes"===t.format?` : "${t.includes}"   `:"regex"===t.format?` : ${t.pattern}   `:` ${n[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}    `;case"unrecognized_keys":return`  ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`${e.origin}   `;case"invalid_union":default:return" ";case"invalid_element":return`${e.origin}   `}}};const vl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`:  ${e.expected}  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`:  ${Tr(e.values[0])}`:`:  ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"":"",r=t(e.origin);return r?`: ${e.origin??""} ${n} ${e.maximum.toString()} ${r.unit??""}`:`: ${e.origin??""} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"":"",r=t(e.origin);return r?`: ${e.origin} ${n} ${e.minimum.toString()} ${r.unit}`:`: ${e.origin} ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`:  "${t.prefix}"`:"ends_with"===t.format?`:  "${t.suffix}"`:"includes"===t.format?`:  "${t.includes}" `:"regex"===t.format?`:  ${t.pattern}`:`: ${n[t.format]??e.format}`}case"not_multiple_of":return`:  ${e.divisor} `;case"unrecognized_keys":return`: ${ar(e.keys,", ")}`;case"invalid_key":return` ${e.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${e.origin}`;default:return""}}};const yl=()=>{const e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(t){return e[t]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return e=>{switch(e.code){case"invalid_type":return`Geersiz deer: beklenen ${e.expected}, alnan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Geersiz deer: beklenen ${Tr(e.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ok byk: beklenen ${e.origin??"deer"} ${n}${e.maximum.toString()} ${r.unit??"e"}`:`ok byk: beklenen ${e.origin??"deer"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`ok kk: beklenen ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`ok kk: beklenen ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Geersiz metin: "${t.prefix}" ile balamal`:"ends_with"===t.format?`Geersiz metin: "${t.suffix}" ile bitmeli`:"includes"===t.format?`Geersiz metin: "${t.includes}" iermeli`:"regex"===t.format?`Geersiz metin: ${t.pattern} desenine uymal`:`Geersiz ${n[t.format]??e.format}`}case"not_multiple_of":return`Geersiz say: ${e.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${e.keys.length>1?"lar":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`${e.origin} iinde geersiz anahtar`;case"invalid_union":default:return"Geersiz deer";case"invalid_element":return`${e.origin} iinde geersiz deer`}}};const bl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return e=>{switch(e.code){case"invalid_type":return`  :  ${e.expected},  ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`  :  ${Tr(e.values[0])}`:` :    ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` : ,  ${e.origin??""} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??""}`:` : ,  ${e.origin??""}  ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` : ,  ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:` : ,  ${e.origin}  ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` :    "${t.prefix}"`:"ends_with"===t.format?` :    "${t.suffix}"`:"includes"===t.format?` :   "${t.includes}"`:"regex"===t.format?` :    ${t.pattern}`:` ${n[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${ar(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`   ${e.origin}`}}};const xl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return e=>{switch(e.code){case"invalid_type":return`  : ${e.expected}   ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}  `;case"invalid_value":return 1===e.values.length?`  : ${Tr(e.values[0])}  `:` : ${ar(e.values,"|")}     `;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` : ${e.origin??""}  ${n}${e.maximum.toString()} ${r.unit??""}   `:` : ${e.origin??""}  ${n}${e.maximum.toString()}   `}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` : ${e.origin}  ${n}${e.minimum.toString()} ${r.unit}   `:` : ${e.origin}  ${n}${e.minimum.toString()}   `}case"invalid_format":{const t=e;return"starts_with"===t.format?` : "${t.prefix}"    `:"ends_with"===t.format?` : "${t.suffix}"    `:"includes"===t.format?` : "${t.includes}"   `:"regex"===t.format?` :  ${t.pattern}    `:` ${n[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}    `;case"unrecognized_keys":return`   ${e.keys.length>1?"":""}: ${ar(e.keys," ")}`;case"invalid_key":return`${e.origin}   `;case"invalid_union":default:return"  ";case"invalid_element":return`${e.origin}   `}}};const wl=()=>{const e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(t){return e[t]??null}const n={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return e=>{switch(e.code){case"invalid_type":return`u vo khng hp l: mong i ${e.expected}, nhn c ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`u vo khng hp l: mong i ${Tr(e.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Qu ln: mong i ${e.origin??"gi tr"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"phn t"}`:`Qu ln: mong i ${e.origin??"gi tr"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Qu nh: mong i ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Qu nh: mong i ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chui khng hp l: phi bt u bng "${t.prefix}"`:"ends_with"===t.format?`Chui khng hp l: phi kt thc bng "${t.suffix}"`:"includes"===t.format?`Chui khng hp l: phi bao gm "${t.includes}"`:"regex"===t.format?`Chui khng hp l: phi khp vi mu ${t.pattern}`:`${n[t.format]??e.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${e.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${ar(e.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${e.origin}`;case"invalid_union":default:return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${e.origin}`}}};const _l=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` ${e.expected} ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` ${Tr(e.values[0])}`:` ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` ${e.origin??""} ${n}${e.maximum.toString()} ${r.unit??""}`:` ${e.origin??""} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:` ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` "${t.prefix}" `:"ends_with"===t.format?` "${t.suffix}" `:"includes"===t.format?` "${t.includes}"`:"regex"===t.format?` ${t.pattern}`:`${n[t.format]??e.format}`}case"not_multiple_of":return` ${e.divisor} `;case"unrecognized_keys":return`(key): ${ar(e.keys,", ")}`;case"invalid_key":return`${e.origin} (key)`;case"invalid_union":default:return"";case"invalid_element":return`${e.origin} (value)`}}};const kl=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}const n={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` ${e.expected} ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?` ${Tr(e.values[0])}`:` ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` ${e.origin??""}  ${n}${e.maximum.toString()} ${r.unit??""}`:` ${e.origin??""}  ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?` ${e.origin}  ${n}${e.minimum.toString()} ${r.unit}`:` ${e.origin}  ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?` "${t.prefix}" `:"ends_with"===t.format?` "${t.suffix}" `:"includes"===t.format?` "${t.includes}"`:"regex"===t.format?` ${t.pattern}`:` ${n[t.format]??e.format}`}case"not_multiple_of":return` ${e.divisor} `;case"unrecognized_keys":return`${e.keys.length>1?"":""}${ar(e.keys,"")}`;case"invalid_key":return`${e.origin} `;case"invalid_union":default:return"";case"invalid_element":return`${e.origin} `}}};const Sl=()=>{const e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(t){return e[t]??null}const n={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return e=>{switch(e.code){case"invalid_type":return`bwl ae: a n lti fi ${e.expected}, m a r ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`bwl ae: a n lti fi ${Tr(e.values[0])}`:`yn ae: yan kan lra ${ar(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`T p j: a n lti j p ${e.origin??"iye"} ${r.verb} ${n}${e.maximum} ${r.unit}`:`T p j: a n lti j ${n}${e.maximum}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Kr ju: a n lti j p ${e.origin} ${r.verb} ${n}${e.minimum} ${r.unit}`:`Kr ju: a n lti j ${n}${e.minimum}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`r ae: gbd br pl "${t.prefix}"`:"ends_with"===t.format?`r ae: gbd par pl "${t.suffix}"`:"includes"===t.format?`r ae: gbd n "${t.includes}"`:"regex"===t.format?`r ae: gbd b pr mu ${t.pattern}`:`Ae: ${n[t.format]??e.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${e.divisor}`;case"unrecognized_keys":return`Btn m: ${ar(e.keys,", ")}`;case"invalid_key":return`Btn ae nn ${e.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye ae nn ${e.origin}`}}};const Il=Object.freeze(Object.defineProperty({__proto__:null,ar:function(){return{localeError:zs()}},az:function(){return{localeError:Ps()}},be:function(){return{localeError:Ds()}},ca:function(){return{localeError:Ms()}},cs:function(){return{localeError:Us()}},da:function(){return{localeError:Ls()}},de:function(){return{localeError:Fs()}},en:Bs,eo:function(){return{localeError:Vs()}},es:function(){return{localeError:Ws()}},fa:function(){return{localeError:Js()}},fi:function(){return{localeError:Hs()}},fr:function(){return{localeError:qs()}},frCA:function(){return{localeError:Ks()}},he:function(){return{localeError:Gs()}},hu:function(){return{localeError:Ys()}},id:function(){return{localeError:Xs()}},is:function(){return{localeError:Qs()}},it:function(){return{localeError:el()}},ja:function(){return{localeError:tl()}},kh:function(){return{localeError:nl()}},ko:function(){return{localeError:rl()}},mk:function(){return{localeError:il()}},ms:function(){return{localeError:ol()}},nl:function(){return{localeError:al()}},no:function(){return{localeError:sl()}},ota:function(){return{localeError:ll()}},pl:function(){return{localeError:cl()}},ps:function(){return{localeError:ul()}},pt:function(){return{localeError:dl()}},ru:function(){return{localeError:fl()}},sl:function(){return{localeError:hl()}},sv:function(){return{localeError:ml()}},ta:function(){return{localeError:gl()}},th:function(){return{localeError:vl()}},tr:function(){return{localeError:yl()}},ua:function(){return{localeError:bl()}},ur:function(){return{localeError:xl()}},vi:function(){return{localeError:wl()}},yo:function(){return{localeError:Sl()}},zhCN:function(){return{localeError:_l()}},zhTW:function(){return{localeError:kl()}}},Symbol.toStringTag,{value:"Module"})),$l=Symbol("ZodOutput"),El=Symbol("ZodInput");class Tl{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function jl(){return new Tl}const Nl=jl();function Cl(e,t){return new e({type:"string",...Er(t)})}function Ol(e,t){return new e({type:"string",coerce:!0,...Er(t)})}function Al(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Er(t)})}function zl(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Er(t)})}function Pl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Er(t)})}function Rl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Er(t)})}function Dl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Er(t)})}function Ml(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Er(t)})}function Ul(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Er(t)})}function Ll(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Er(t)})}function Fl(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Er(t)})}function Zl(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Er(t)})}function Bl(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Er(t)})}function Vl(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Er(t)})}function Wl(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Er(t)})}function Jl(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Er(t)})}function Hl(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Er(t)})}function ql(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Er(t)})}function Kl(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Er(t)})}function Gl(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Er(t)})}function Yl(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Er(t)})}function Xl(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Er(t)})}function Ql(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Er(t)})}function eu(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Er(t)})}const tu={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function nu(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Er(t)})}function ru(e,t){return new e({type:"string",format:"date",check:"string_format",...Er(t)})}function iu(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Er(t)})}function ou(e,t){return new e({type:"string",format:"duration",check:"string_format",...Er(t)})}function au(e,t){return new e({type:"number",checks:[],...Er(t)})}function su(e,t){return new e({type:"number",coerce:!0,checks:[],...Er(t)})}function lu(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Er(t)})}function uu(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...Er(t)})}function cu(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...Er(t)})}function du(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...Er(t)})}function pu(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...Er(t)})}function fu(e,t){return new e({type:"boolean",...Er(t)})}function hu(e,t){return new e({type:"boolean",coerce:!0,...Er(t)})}function mu(e,t){return new e({type:"bigint",...Er(t)})}function gu(e,t){return new e({type:"bigint",coerce:!0,...Er(t)})}function vu(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Er(t)})}function yu(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Er(t)})}function bu(e,t){return new e({type:"symbol",...Er(t)})}function xu(e,t){return new e({type:"undefined",...Er(t)})}function wu(e,t){return new e({type:"null",...Er(t)})}function _u(e){return new e({type:"any"})}function ku(e){return new e({type:"unknown"})}function Su(e,t){return new e({type:"never",...Er(t)})}function Iu(e,t){return new e({type:"void",...Er(t)})}function $u(e,t){return new e({type:"date",...Er(t)})}function Eu(e,t){return new e({type:"date",coerce:!0,...Er(t)})}function Tu(e,t){return new e({type:"nan",...Er(t)})}function ju(e,t){return new Eo({check:"less_than",...Er(t),value:e,inclusive:!1})}function Nu(e,t){return new Eo({check:"less_than",...Er(t),value:e,inclusive:!0})}function Cu(e,t){return new To({check:"greater_than",...Er(t),value:e,inclusive:!1})}function Ou(e,t){return new To({check:"greater_than",...Er(t),value:e,inclusive:!0})}function Au(e){return Cu(0,e)}function zu(e){return ju(0,e)}function Pu(e){return Nu(0,e)}function Ru(e){return Ou(0,e)}function Du(e,t){return new jo({check:"multiple_of",...Er(t),value:e})}function Mu(e,t){return new Oo({check:"max_size",...Er(t),maximum:e})}function Uu(e,t){return new Ao({check:"min_size",...Er(t),minimum:e})}function Lu(e,t){return new zo({check:"size_equals",...Er(t),size:e})}function Fu(e,t){return new Po({check:"max_length",...Er(t),maximum:e})}function Zu(e,t){return new Ro({check:"min_length",...Er(t),minimum:e})}function Bu(e,t){return new Do({check:"length_equals",...Er(t),length:e})}function Vu(e,t){return new Uo({check:"string_format",format:"regex",...Er(t),pattern:e})}function Wu(e){return new Lo({check:"string_format",format:"lowercase",...Er(e)})}function Ju(e){return new Fo({check:"string_format",format:"uppercase",...Er(e)})}function Hu(e,t){return new Zo({check:"string_format",format:"includes",...Er(t),includes:e})}function qu(e,t){return new Bo({check:"string_format",format:"starts_with",...Er(t),prefix:e})}function Ku(e,t){return new Vo({check:"string_format",format:"ends_with",...Er(t),suffix:e})}function Gu(e,t,n){return new Jo({check:"property",property:e,schema:t,...Er(n)})}function Yu(e,t){return new Ho({check:"mime_type",mime:e,...Er(t)})}function Xu(e){return new qo({check:"overwrite",tx:e})}function Qu(e){return Xu(t=>t.normalize(e))}function ec(){return Xu(e=>e.trim())}function tc(){return Xu(e=>e.toLowerCase())}function nc(){return Xu(e=>e.toUpperCase())}function rc(e,t,n){return new e({type:"array",element:t,...Er(n)})}function ic(e,t){return new e({type:"file",...Er(t)})}function oc(e,t,n){const r=Er(n);r.abort??(r.abort=!0);return new e({type:"custom",check:"custom",fn:t,...r})}function ac(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Er(n)})}function sc(e){const t=lc(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Wr(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Wr(r))}},e(n.value,n)));return t}function lc(e,t){const n=new Io({check:"custom",...Er(t)});return n._zod.check=e,n}function uc(e,t){const n=Er(t);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));const o=new Set(r),a=new Set(i),s=e.Codec??ks,l=e.Boolean??ja,u=new s({type:"pipe",in:new(e.String??Xo)({type:"string",error:n.error}),out:new l({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!o.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...a],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":i[0]||"false",error:n.error});return u}function cc(e,t,n,r={}){const i=Er(r),o={...Er(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...i};n instanceof RegExp&&(o.pattern=n);return new e(o)}class dc{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??Nl,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;const r=e._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o){o.count++;return t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema}const a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);const s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{const n={...t,schemaPath:[...t.schemaPath,e],path:t.path},o=e._zod.parent;if(o)a.ref=o,this.process(o,n),this.seen.get(o).isParent=!0;else{const t=a.schema;switch(r.type){case"string":{const n=t;n.type="string";const{minimum:r,maximum:o,format:s,patterns:l,contentEncoding:u}=e._zod.bag;if("number"==typeof r&&(n.minLength=r),"number"==typeof o&&(n.maxLength=o),s&&(n.format=i[s]??s,""===n.format&&delete n.format),u&&(n.contentEncoding=u),l&&l.size>0){const e=[...l];1===e.length?n.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{const n=t,{minimum:r,maximum:i,format:o,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"==typeof o&&o.includes("int")?n.type="integer":n.type="number","number"==typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(n.minimum=l,n.exclusiveMinimum=!0):n.exclusiveMinimum=l),"number"==typeof r&&(n.minimum=r,"number"==typeof l&&"draft-4"!==this.target&&(l>=r?delete n.minimum:delete n.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(n.maximum=s,n.exclusiveMaximum=!0):n.exclusiveMaximum=s),"number"==typeof i&&(n.maximum=i,"number"==typeof s&&"draft-4"!==this.target&&(s<=i?delete n.maximum:delete n.exclusiveMaximum)),"number"==typeof a&&(n.multipleOf=a);break}case"boolean":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const i=t,{minimum:o,maximum:a}=e._zod.bag;"number"==typeof o&&(i.minItems=o),"number"==typeof a&&(i.maxItems=a),i.type="array",i.items=this.process(r.element,{...n,path:[...n.path,"items"]});break}case"object":{const e=t;e.type="object",e.properties={};const i=r.shape;for(const t in i)e.properties[t]=this.process(i[t],{...n,path:[...n.path,"properties",t]});const o=new Set(Object.keys(i)),a=new Set([...o].filter(e=>{const t=r.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));a.size>0&&(e.required=Array.from(a)),"never"===r.catchall?._zod.def.type?e.additionalProperties=!1:r.catchall?r.catchall&&(e.additionalProperties=this.process(r.catchall,{...n,path:[...n.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":{const e=t,i=r.options.map((e,t)=>this.process(e,{...n,path:[...n.path,"anyOf",t]}));if("openapi-3.0"===this.target){const t=i.filter(e=>"null"!==e.type),n=t.length!==i.length;1===t.length?Object.assign(e,t[0]):e.anyOf=t,n&&(e.nullable=!0)}else e.anyOf=i;break}case"intersection":{const e=t,i=this.process(r.left,{...n,path:[...n.path,"allOf",0]}),o=this.process(r.right,{...n,path:[...n.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length,s=[...a(i)?i.allOf:[i],...a(o)?o.allOf:[o]];e.allOf=s;break}case"tuple":{const i=t;i.type="array";const o="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=r.items.map((e,t)=>this.process(e,{...n,path:[...n.path,o,t]})),l=r.rest?this.process(r.rest,{...n,path:[...n.path,a,..."openapi-3.0"===this.target?[r.items.length]:[]]}):null;"draft-2020-12"===this.target?(i.prefixItems=s,l&&(i.items=l)):"openapi-3.0"===this.target?(i.items={anyOf:[...s]},l&&i.items.anyOf.push(l),i.minItems=s.length,l||(i.maxItems=s.length)):(i.items=s,l&&(i.additionalItems=l));const{minimum:u,maximum:c}=e._zod.bag;"number"==typeof u&&(i.minItems=u),"number"==typeof c&&(i.maxItems=c);break}case"record":{const e=t;e.type="object","draft-7"!==this.target&&"draft-2020-12"!==this.target||(e.propertyNames=this.process(r.keyType,{...n,path:[...n.path,"propertyNames"]})),e.additionalProperties=this.process(r.valueType,{...n,path:[...n.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=t,n=or(r.entries);n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),e.enum=n;break}case"literal":{const e=t,n=[];for(const t of r.values)if(void 0===t){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");n.push(Number(t))}else n.push(t);if(0===n.length);else if(1===n.length){const t=n[0];e.type=null===t?"null":typeof t,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[t]:e.const=t}else n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),n.every(e=>"boolean"==typeof e)&&(e.type="string"),n.every(e=>null===e)&&(e.type="null"),e.enum=n;break}case"file":{const n=t,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:o,mime:a}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==o&&(r.maxLength=o),a?1===a.length?(r.contentMediaType=a[0],Object.assign(n,r)):n.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(n,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(r.innerType,n);"openapi-3.0"===this.target?(Object.assign(t,e),t.nullable=!0,a.ref=r.innerType):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(r.innerType,n),a.ref=r.innerType;break;case"success":t.type="boolean";break;case"default":this.process(r.innerType,n),a.ref=r.innerType,t.default=JSON.parse(JSON.stringify(r.defaultValue));break;case"prefault":this.process(r.innerType,n),a.ref=r.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break;case"catch":{let e;this.process(r.innerType,n),a.ref=r.innerType;try{e=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const n=t,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===r.in._zod.def.type?r.out:r.in:r.out;this.process(e,n),a.ref=e;break}case"readonly":this.process(r.innerType,n),a.ref=r.innerType,t.readOnly=!0;break;case"lazy":{const t=e._zod.innerType;this.process(t,n),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")}}}const l=this.metadataRegistry.get(e);l&&Object.assign(a.schema,l),"input"===this.io&&fc(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault;return this.seen.get(e).schema}emit(e,t){const n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=e=>{const t="draft-2020-12"===this.target?"$defs":"definitions";if(n.external){const r=n.external.registry.get(e[0])?.id,i=n.external.uri??(e=>e);if(r)return{ref:i(r)};const o=e[1].defId??e[1].schema.id??"schema"+this.counter++;return e[1].defId=o,{defId:o,ref:`${i("__shared")}#/${t}/${o}`}}if(e[1]===r)return{ref:"#"};const i=`#/${t}/`,o=e[1].schema.id??"__schema"+this.counter++;return{defId:o,ref:i+o}},o=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=i(e);t.def={...t.schema},r&&(t.defId=r);const o=t.schema;for(const i in o)delete o[i];o.$ref=n};if("throw"===n.cycles)for(const c of this.seen.entries()){const e=c[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of this.seen.entries()){const t=c[1];if(e===c[0]){o(c);continue}if(n.external){const t=n.external.registry.get(c[0])?.id;if(e!==c[0]&&t){o(c);continue}}const r=this.metadataRegistry.get(c[0])?.id;r?o(c):(t.cycle||t.count>1&&"ref"===n.reused)&&o(c)}const a=(e,t)=>{const n=this.seen.get(e),r=n.def??n.schema,i={...r};if(null===n.ref)return;const o=n.ref;if(n.ref=null,o){a(o,t);const e=this.seen.get(o).schema;!e.$ref||"draft-7"!==t.target&&"draft-4"!==t.target&&"openapi-3.0"!==t.target?(Object.assign(r,e),Object.assign(r,i)):(r.allOf=r.allOf??[],r.allOf.push(e))}n.isParent||this.override({zodSchema:e,jsonSchema:r,path:n.path??[]})};for(const c of[...this.seen.entries()].reverse())a(c[0],{target:this.target});const s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?s.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),n.external?.uri){const t=n.external.registry.get(e)?.id;if(!t)throw new Error("Schema is missing an `id` property");s.$id=n.external.uri(t)}Object.assign(s,r.def);const l=n.external?.defs??{};for(const c of this.seen.entries()){const e=c[1];e.def&&e.defId&&(l[e.defId]=e.def)}n.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(u){throw new Error("Error converting schema to JSON.")}}}function pc(e,t){if(e instanceof Tl){const n=new dc(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const i={},o={registry:e,uri:t?.uri,defs:r};for(const a of e._idmap.entries()){const[e,r]=a;i[e]=n.emit(r,{...t,external:o})}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";i.__shared={[e]:r}}return{schemas:i}}const n=new dc(t);return n.process(e),n.emit(e,t)}function fc(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return fc(r.element,n);case"object":for(const e in r.shape)if(fc(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(fc(e,n))return!0;return!1;case"intersection":return fc(r.left,n)||fc(r.right,n);case"tuple":for(const e of r.items)if(fc(e,n))return!0;return!(!r.rest||!fc(r.rest,n));case"record":case"map":return fc(r.keyType,n)||fc(r.valueType,n);case"set":return fc(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return fc(r.innerType,n);case"lazy":return fc(r.getter(),n);case"transform":return!0;case"pipe":return fc(r.in,n)||fc(r.out,n)}throw new Error(`Unknown schema type: ${r.type}`)}const hc=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),mc=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:Pa,$ZodArray:Fa,$ZodAsyncError:tr,$ZodBase64:xa,$ZodBase64URL:_a,$ZodBigInt:Na,$ZodBigIntFormat:Ca,$ZodBoolean:ja,$ZodCIDRv4:va,$ZodCIDRv6:ya,$ZodCUID:aa,$ZodCUID2:sa,$ZodCatch:bs,$ZodCheck:Io,$ZodCheckBigIntFormat:Co,$ZodCheckEndsWith:Vo,$ZodCheckGreaterThan:To,$ZodCheckIncludes:Zo,$ZodCheckLengthEquals:Do,$ZodCheckLessThan:Eo,$ZodCheckLowerCase:Lo,$ZodCheckMaxLength:Po,$ZodCheckMaxSize:Oo,$ZodCheckMimeType:Ho,$ZodCheckMinLength:Ro,$ZodCheckMinSize:Ao,$ZodCheckMultipleOf:jo,$ZodCheckNumberFormat:No,$ZodCheckOverwrite:qo,$ZodCheckProperty:Jo,$ZodCheckRegex:Uo,$ZodCheckSizeEquals:zo,$ZodCheckStartsWith:Bo,$ZodCheckStringFormat:Mo,$ZodCheckUpperCase:Fo,$ZodCodec:ks,$ZodCustom:Os,$ZodCustomStringFormat:$a,$ZodDate:Ua,$ZodDefault:fs,$ZodDiscriminatedUnion:Ka,$ZodE164:ka,$ZodEmail:na,$ZodEmoji:ia,$ZodEncodeError:nr,$ZodEnum:as,$ZodError:Gr,$ZodFile:ls,$ZodFunction:js,$ZodGUID:ea,$ZodIPv4:ma,$ZodIPv6:ga,$ZodISODate:pa,$ZodISODateTime:da,$ZodISODuration:ha,$ZodISOTime:fa,$ZodIntersection:Ga,$ZodJWT:Ia,$ZodKSUID:ca,$ZodLazy:Cs,$ZodLiteral:ss,$ZodMap:ns,$ZodNaN:xs,$ZodNanoID:oa,$ZodNever:Da,$ZodNonOptional:gs,$ZodNull:za,$ZodNullable:ps,$ZodNumber:Ea,$ZodNumberFormat:Ta,$ZodObject:Wa,$ZodObjectJIT:Ja,$ZodOptional:ds,$ZodPipe:ws,$ZodPrefault:ms,$ZodPromise:Ns,$ZodReadonly:$s,$ZodRealError:Yr,$ZodRecord:ts,$ZodRegistry:Tl,$ZodSet:is,$ZodString:Xo,$ZodStringFormat:Qo,$ZodSuccess:ys,$ZodSymbol:Oa,$ZodTemplateLiteral:Ts,$ZodTransform:us,$ZodTuple:Qa,$ZodType:Yo,$ZodULID:la,$ZodURL:ra,$ZodUUID:ta,$ZodUndefined:Aa,$ZodUnion:qa,$ZodUnknown:Ra,$ZodVoid:Ma,$ZodXID:ua,$brand:er,$constructor:Qn,$input:El,$output:$l,Doc:Ko,JSONSchema:hc,JSONSchemaGenerator:dc,NEVER:Xn,TimePrecision:tu,_any:_u,_array:rc,_base64:Yl,_base64url:Xl,_bigint:mu,_boolean:fu,_catch:function(e,t,n){return new e({type:"catch",innerType:t,catchValue:"function"==typeof n?n:()=>n})},_check:lc,_cidrv4:Kl,_cidrv6:Gl,_coercedBigint:gu,_coercedBoolean:hu,_coercedDate:Eu,_coercedNumber:su,_coercedString:Ol,_cuid:Zl,_cuid2:Bl,_custom:oc,_date:$u,_decode:fi,_decodeAsync:vi,_default:function(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():_r(n)}})},_discriminatedUnion:function(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...Er(r)})},_e164:Ql,_email:Al,_emoji:Ll,_encode:di,_encodeAsync:mi,_endsWith:Ku,_enum:function(e,t,n){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...Er(n)})},_file:ic,_float32:uu,_float64:cu,_gt:Cu,_gte:Ou,_guid:zl,_includes:Hu,_int:lu,_int32:du,_int64:vu,_intersection:function(e,t,n){return new e({type:"intersection",left:t,right:n})},_ipv4:Hl,_ipv6:ql,_isoDate:ru,_isoDateTime:nu,_isoDuration:ou,_isoTime:iu,_jwt:eu,_ksuid:Jl,_lazy:function(e,t){return new e({type:"lazy",getter:t})},_length:Bu,_literal:function(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...Er(n)})},_lowercase:Wu,_lt:ju,_lte:Nu,_map:function(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...Er(r)})},_max:Nu,_maxLength:Fu,_maxSize:Mu,_mime:Yu,_min:Ou,_minLength:Zu,_minSize:Uu,_multipleOf:Du,_nan:Tu,_nanoid:Fl,_nativeEnum:function(e,t,n){return new e({type:"enum",entries:t,...Er(n)})},_negative:zu,_never:Su,_nonnegative:Ru,_nonoptional:function(e,t,n){return new e({type:"nonoptional",innerType:t,...Er(n)})},_nonpositive:Pu,_normalize:Qu,_null:wu,_nullable:function(e,t){return new e({type:"nullable",innerType:t})},_number:au,_optional:function(e,t){return new e({type:"optional",innerType:t})},_overwrite:Xu,_parse:ri,_parseAsync:oi,_pipe:function(e,t,n){return new e({type:"pipe",in:t,out:n})},_positive:Au,_promise:function(e,t){return new e({type:"promise",innerType:t})},_property:Gu,_readonly:function(e,t){return new e({type:"readonly",innerType:t})},_record:function(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...Er(r)})},_refine:ac,_regex:Vu,_safeDecode:wi,_safeDecodeAsync:Ii,_safeEncode:bi,_safeEncodeAsync:ki,_safeParse:si,_safeParseAsync:ui,_set:function(e,t,n){return new e({type:"set",valueType:t,...Er(n)})},_size:Lu,_startsWith:qu,_string:Cl,_stringFormat:cc,_stringbool:uc,_success:function(e,t){return new e({type:"success",innerType:t})},_superRefine:sc,_symbol:bu,_templateLiteral:function(e,t,n){return new e({type:"template_literal",parts:t,...Er(n)})},_toLowerCase:tc,_toUpperCase:nc,_transform:function(e,t){return new e({type:"transform",transform:t})},_trim:ec,_tuple:function(e,t,n,r){const i=n instanceof Yo;return new e({type:"tuple",items:t,rest:i?n:null,...Er(i?r:n)})},_uint32:pu,_uint64:yu,_ulid:Vl,_undefined:xu,_union:function(e,t,n){return new e({type:"union",options:t,...Er(n)})},_unknown:ku,_uppercase:Ju,_url:Ul,_uuid:Pl,_uuidv4:Rl,_uuidv6:Dl,_uuidv7:Ml,_void:Iu,_xid:Wl,clone:$r,config:ir,decode:hi,decodeAsync:yi,encode:pi,encodeAsync:gi,flattenError:Xr,formatError:Qr,globalConfig:rr,globalRegistry:Nl,isValidBase64:ba,isValidBase64URL:wa,isValidJWT:Sa,locales:Il,parse:ii,parseAsync:ai,prettifyError:ni,regexes:So,registry:jl,safeDecode:_i,safeDecodeAsync:$i,safeEncode:xi,safeEncodeAsync:Si,safeParse:li,safeParseAsync:ci,toDotPath:ti,toJSONSchema:pc,treeifyError:ei,util:qr,version:Go},Symbol.toStringTag,{value:"Module"})),gc=Qn("ZodISODateTime",(e,t)=>{da.init(e,t),Vc.init(e,t)});function vc(e){return nu(gc,e)}const yc=Qn("ZodISODate",(e,t)=>{pa.init(e,t),Vc.init(e,t)});function bc(e){return ru(yc,e)}const xc=Qn("ZodISOTime",(e,t)=>{fa.init(e,t),Vc.init(e,t)});function wc(e){return iu(xc,e)}const _c=Qn("ZodISODuration",(e,t)=>{ha.init(e,t),Vc.init(e,t)});function kc(e){return ou(_c,e)}const Sc=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:yc,ZodISODateTime:gc,ZodISODuration:_c,ZodISOTime:xc,date:bc,datetime:vc,duration:kc,time:wc},Symbol.toStringTag,{value:"Module"})),Ic=(e,t)=>{Gr.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>Qr(e,t)},flatten:{value:t=>Xr(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,sr,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,sr,2)}},isEmpty:{get:()=>0===e.issues.length}})},$c=Qn("ZodError",Ic),Ec=Qn("ZodError",Ic,{Parent:Error}),Tc=ri(Ec),jc=oi(Ec),Nc=si(Ec),Cc=ui(Ec),Oc=di(Ec),Ac=fi(Ec),zc=mi(Ec),Pc=vi(Ec),Rc=bi(Ec),Dc=wi(Ec),Mc=ki(Ec),Uc=Ii(Ec),Lc=Qn("ZodType",(e,t)=>(Yo.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,n)=>$r(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Tc(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Nc(e,t,n),e.parseAsync=async(t,n)=>jc(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Cc(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Oc(e,t,n),e.decode=(t,n)=>Ac(e,t,n),e.encodeAsync=async(t,n)=>zc(e,t,n),e.decodeAsync=async(t,n)=>Pc(e,t,n),e.safeEncode=(t,n)=>Rc(e,t,n),e.safeDecode=(t,n)=>Dc(e,t,n),e.safeEncodeAsync=async(t,n)=>Mc(e,t,n),e.safeDecodeAsync=async(t,n)=>Uc(e,t,n),e.refine=(t,n)=>e.check(jp(t,n)),e.superRefine=t=>e.check(Np(t)),e.overwrite=t=>e.check(Xu(t)),e.optional=()=>rp(e),e.nullable=()=>op(e),e.nullish=()=>rp(op(e)),e.nonoptional=t=>dp(e,t),e.array=()=>Od(e),e.or=t=>Md([e,t]),e.and=t=>Zd(e,t),e.transform=t=>vp(e,tp(t)),e.default=t=>sp(e,t),e.prefault=t=>up(e,t),e.catch=t=>hp(e,t),e.pipe=t=>vp(e,t),e.readonly=()=>xp(e),e.describe=t=>{const n=e.clone();return Nl.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>Nl.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Nl.get(e);const n=e.clone();return Nl.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Fc=Qn("_ZodString",(e,t)=>{Xo.init(e,t),Lc.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(Vu(...t)),e.includes=(...t)=>e.check(Hu(...t)),e.startsWith=(...t)=>e.check(qu(...t)),e.endsWith=(...t)=>e.check(Ku(...t)),e.min=(...t)=>e.check(Zu(...t)),e.max=(...t)=>e.check(Fu(...t)),e.length=(...t)=>e.check(Bu(...t)),e.nonempty=(...t)=>e.check(Zu(1,...t)),e.lowercase=t=>e.check(Wu(t)),e.uppercase=t=>e.check(Ju(t)),e.trim=()=>e.check(ec()),e.normalize=(...t)=>e.check(Qu(...t)),e.toLowerCase=()=>e.check(tc()),e.toUpperCase=()=>e.check(nc())}),Zc=Qn("ZodString",(e,t)=>{Xo.init(e,t),Fc.init(e,t),e.email=t=>e.check(Al(Wc,t)),e.url=t=>e.check(Ul(qc,t)),e.jwt=t=>e.check(eu(cd,t)),e.emoji=t=>e.check(Ll(Kc,t)),e.guid=t=>e.check(zl(Jc,t)),e.uuid=t=>e.check(Pl(Hc,t)),e.uuidv4=t=>e.check(Rl(Hc,t)),e.uuidv6=t=>e.check(Dl(Hc,t)),e.uuidv7=t=>e.check(Ml(Hc,t)),e.nanoid=t=>e.check(Fl(Gc,t)),e.guid=t=>e.check(zl(Jc,t)),e.cuid=t=>e.check(Zl(Yc,t)),e.cuid2=t=>e.check(Bl(Xc,t)),e.ulid=t=>e.check(Vl(Qc,t)),e.base64=t=>e.check(Yl(ad,t)),e.base64url=t=>e.check(Xl(ld,t)),e.xid=t=>e.check(Wl(ed,t)),e.ksuid=t=>e.check(Jl(td,t)),e.ipv4=t=>e.check(Hl(nd,t)),e.ipv6=t=>e.check(ql(rd,t)),e.cidrv4=t=>e.check(Kl(id,t)),e.cidrv6=t=>e.check(Gl(od,t)),e.e164=t=>e.check(Ql(ud,t)),e.datetime=t=>e.check(vc(t)),e.date=t=>e.check(bc(t)),e.time=t=>e.check(wc(t)),e.duration=t=>e.check(kc(t))});function Bc(e){return Cl(Zc,e)}const Vc=Qn("ZodStringFormat",(e,t)=>{Qo.init(e,t),Fc.init(e,t)}),Wc=Qn("ZodEmail",(e,t)=>{na.init(e,t),Vc.init(e,t)});const Jc=Qn("ZodGUID",(e,t)=>{ea.init(e,t),Vc.init(e,t)});const Hc=Qn("ZodUUID",(e,t)=>{ta.init(e,t),Vc.init(e,t)});const qc=Qn("ZodURL",(e,t)=>{ra.init(e,t),Vc.init(e,t)});const Kc=Qn("ZodEmoji",(e,t)=>{ia.init(e,t),Vc.init(e,t)});const Gc=Qn("ZodNanoID",(e,t)=>{oa.init(e,t),Vc.init(e,t)});const Yc=Qn("ZodCUID",(e,t)=>{aa.init(e,t),Vc.init(e,t)});const Xc=Qn("ZodCUID2",(e,t)=>{sa.init(e,t),Vc.init(e,t)});const Qc=Qn("ZodULID",(e,t)=>{la.init(e,t),Vc.init(e,t)});const ed=Qn("ZodXID",(e,t)=>{ua.init(e,t),Vc.init(e,t)});const td=Qn("ZodKSUID",(e,t)=>{ca.init(e,t),Vc.init(e,t)});const nd=Qn("ZodIPv4",(e,t)=>{ma.init(e,t),Vc.init(e,t)});const rd=Qn("ZodIPv6",(e,t)=>{ga.init(e,t),Vc.init(e,t)});const id=Qn("ZodCIDRv4",(e,t)=>{va.init(e,t),Vc.init(e,t)});const od=Qn("ZodCIDRv6",(e,t)=>{ya.init(e,t),Vc.init(e,t)});const ad=Qn("ZodBase64",(e,t)=>{xa.init(e,t),Vc.init(e,t)});function sd(e){return Yl(ad,e)}const ld=Qn("ZodBase64URL",(e,t)=>{_a.init(e,t),Vc.init(e,t)});const ud=Qn("ZodE164",(e,t)=>{ka.init(e,t),Vc.init(e,t)});const cd=Qn("ZodJWT",(e,t)=>{Ia.init(e,t),Vc.init(e,t)});const dd=Qn("ZodCustomStringFormat",(e,t)=>{$a.init(e,t),Vc.init(e,t)});const pd=Qn("ZodNumber",(e,t)=>{Ea.init(e,t),Lc.init(e,t),e.gt=(t,n)=>e.check(Cu(t,n)),e.gte=(t,n)=>e.check(Ou(t,n)),e.min=(t,n)=>e.check(Ou(t,n)),e.lt=(t,n)=>e.check(ju(t,n)),e.lte=(t,n)=>e.check(Nu(t,n)),e.max=(t,n)=>e.check(Nu(t,n)),e.int=t=>e.check(md(t)),e.safe=t=>e.check(md(t)),e.positive=t=>e.check(Cu(0,t)),e.nonnegative=t=>e.check(Ou(0,t)),e.negative=t=>e.check(ju(0,t)),e.nonpositive=t=>e.check(Nu(0,t)),e.multipleOf=(t,n)=>e.check(Du(t,n)),e.step=(t,n)=>e.check(Du(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function fd(e){return au(pd,e)}const hd=Qn("ZodNumberFormat",(e,t)=>{Ta.init(e,t),pd.init(e,t)});function md(e){return lu(hd,e)}const gd=Qn("ZodBoolean",(e,t)=>{ja.init(e,t),Lc.init(e,t)});function vd(e){return fu(gd,e)}const yd=Qn("ZodBigInt",(e,t)=>{Na.init(e,t),Lc.init(e,t),e.gte=(t,n)=>e.check(Ou(t,n)),e.min=(t,n)=>e.check(Ou(t,n)),e.gt=(t,n)=>e.check(Cu(t,n)),e.gte=(t,n)=>e.check(Ou(t,n)),e.min=(t,n)=>e.check(Ou(t,n)),e.lt=(t,n)=>e.check(ju(t,n)),e.lte=(t,n)=>e.check(Nu(t,n)),e.max=(t,n)=>e.check(Nu(t,n)),e.positive=t=>e.check(Cu(BigInt(0),t)),e.negative=t=>e.check(ju(BigInt(0),t)),e.nonpositive=t=>e.check(Nu(BigInt(0),t)),e.nonnegative=t=>e.check(Ou(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(Du(t,n));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});const bd=Qn("ZodBigIntFormat",(e,t)=>{Ca.init(e,t),yd.init(e,t)});const xd=Qn("ZodSymbol",(e,t)=>{Oa.init(e,t),Lc.init(e,t)});const wd=Qn("ZodUndefined",(e,t)=>{Aa.init(e,t),Lc.init(e,t)});const _d=Qn("ZodNull",(e,t)=>{za.init(e,t),Lc.init(e,t)});function kd(e){return wu(_d,e)}const Sd=Qn("ZodAny",(e,t)=>{Pa.init(e,t),Lc.init(e,t)});const Id=Qn("ZodUnknown",(e,t)=>{Ra.init(e,t),Lc.init(e,t)});function $d(){return ku(Id)}const Ed=Qn("ZodNever",(e,t)=>{Da.init(e,t),Lc.init(e,t)});function Td(e){return Su(Ed,e)}const jd=Qn("ZodVoid",(e,t)=>{Ma.init(e,t),Lc.init(e,t)});const Nd=Qn("ZodDate",(e,t)=>{Ua.init(e,t),Lc.init(e,t),e.min=(t,n)=>e.check(Ou(t,n)),e.max=(t,n)=>e.check(Nu(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});const Cd=Qn("ZodArray",(e,t)=>{Fa.init(e,t),Lc.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(Zu(t,n)),e.nonempty=t=>e.check(Zu(1,t)),e.max=(t,n)=>e.check(Fu(t,n)),e.length=(t,n)=>e.check(Bu(t,n)),e.unwrap=()=>e.element});function Od(e,t){return rc(Cd,e,t)}const Ad=Qn("ZodObject",(e,t)=>{Ja.init(e,t),Lc.init(e,t),fr(e,"shape",()=>t.shape),e.keyof=()=>Gd(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:$d()}),e.loose=()=>e.clone({...e._zod.def,catchall:$d()}),e.strict=()=>e.clone({...e._zod.def,catchall:Td()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>zr(e,t),e.safeExtend=t=>Pr(e,t),e.merge=t=>Rr(e,t),e.pick=t=>Or(e,t),e.omit=t=>Ar(e,t),e.partial=(...t)=>Dr(np,e,t[0]),e.required=(...t)=>Mr(cp,e,t[0])});function zd(e,t){const n={type:"object",get shape(){return mr(this,"shape",e?hr(e):{}),this.shape},...Er(t)};return new Ad(n)}function Pd(e,t){return new Ad({type:"object",get shape(){return mr(this,"shape",hr(e)),this.shape},catchall:Td(),...Er(t)})}function Rd(e,t){return new Ad({type:"object",get shape(){return mr(this,"shape",hr(e)),this.shape},catchall:$d(),...Er(t)})}const Dd=Qn("ZodUnion",(e,t)=>{qa.init(e,t),Lc.init(e,t),e.options=t.options});function Md(e,t){return new Dd({type:"union",options:e,...Er(t)})}const Ud=Qn("ZodDiscriminatedUnion",(e,t)=>{Dd.init(e,t),Ka.init(e,t)});function Ld(e,t,n){return new Ud({type:"union",options:t,discriminator:e,...Er(n)})}const Fd=Qn("ZodIntersection",(e,t)=>{Ga.init(e,t),Lc.init(e,t)});function Zd(e,t){return new Fd({type:"intersection",left:e,right:t})}const Bd=Qn("ZodTuple",(e,t)=>{Qa.init(e,t),Lc.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function Vd(e,t,n){const r=t instanceof Yo;return new Bd({type:"tuple",items:e,rest:r?t:null,...Er(r?n:t)})}const Wd=Qn("ZodRecord",(e,t)=>{ts.init(e,t),Lc.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Jd(e,t,n){return new Wd({type:"record",keyType:e,valueType:t,...Er(n)})}const Hd=Qn("ZodMap",(e,t)=>{ns.init(e,t),Lc.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});const qd=Qn("ZodSet",(e,t)=>{is.init(e,t),Lc.init(e,t),e.min=(...t)=>e.check(Uu(...t)),e.nonempty=t=>e.check(Uu(1,t)),e.max=(...t)=>e.check(Mu(...t)),e.size=(...t)=>e.check(Lu(...t))});const Kd=Qn("ZodEnum",(e,t)=>{as.init(e,t),Lc.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const o of e){if(!n.has(o))throw new Error(`Key ${o} not found in enum`);i[o]=t.entries[o]}return new Kd({...t,checks:[],...Er(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new Kd({...t,checks:[],...Er(r),entries:i})}});function Gd(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Kd({type:"enum",entries:n,...Er(t)})}const Yd=Qn("ZodLiteral",(e,t)=>{ss.init(e,t),Lc.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Xd(e,t){return new Yd({type:"literal",values:Array.isArray(e)?e:[e],...Er(t)})}const Qd=Qn("ZodFile",(e,t)=>{ls.init(e,t),Lc.init(e,t),e.min=(t,n)=>e.check(Uu(t,n)),e.max=(t,n)=>e.check(Mu(t,n)),e.mime=(t,n)=>e.check(Yu(Array.isArray(t)?t:[t],n))});const ep=Qn("ZodTransform",(e,t)=>{us.init(e,t),Lc.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new nr(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Wr(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Wr(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function tp(e){return new ep({type:"transform",transform:e})}const np=Qn("ZodOptional",(e,t)=>{ds.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rp(e){return new np({type:"optional",innerType:e})}const ip=Qn("ZodNullable",(e,t)=>{ps.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});function op(e){return new ip({type:"nullable",innerType:e})}const ap=Qn("ZodDefault",(e,t)=>{fs.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function sp(e,t){return new ap({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():_r(t)}})}const lp=Qn("ZodPrefault",(e,t)=>{ms.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});function up(e,t){return new lp({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():_r(t)}})}const cp=Qn("ZodNonOptional",(e,t)=>{gs.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dp(e,t){return new cp({type:"nonoptional",innerType:e,...Er(t)})}const pp=Qn("ZodSuccess",(e,t)=>{ys.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});const fp=Qn("ZodCatch",(e,t)=>{bs.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function hp(e,t){return new fp({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}const mp=Qn("ZodNaN",(e,t)=>{xs.init(e,t),Lc.init(e,t)});const gp=Qn("ZodPipe",(e,t)=>{ws.init(e,t),Lc.init(e,t),e.in=t.in,e.out=t.out});function vp(e,t){return new gp({type:"pipe",in:e,out:t})}const yp=Qn("ZodCodec",(e,t)=>{gp.init(e,t),ks.init(e,t)});const bp=Qn("ZodReadonly",(e,t)=>{$s.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});function xp(e){return new bp({type:"readonly",innerType:e})}const wp=Qn("ZodTemplateLiteral",(e,t)=>{Ts.init(e,t),Lc.init(e,t)});const _p=Qn("ZodLazy",(e,t)=>{Cs.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.getter()});function kp(e){return new _p({type:"lazy",getter:e})}const Sp=Qn("ZodPromise",(e,t)=>{Ns.init(e,t),Lc.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Ip=Qn("ZodFunction",(e,t)=>{js.init(e,t),Lc.init(e,t)});function $p(e){return new Ip({type:"function",input:Array.isArray(e?.input)?Vd(e?.input):e?.input??Od($d()),output:e?.output??$d()})}const Ep=Qn("ZodCustom",(e,t)=>{Os.init(e,t),Lc.init(e,t)});function Tp(e,t){return oc(Ep,e??(()=>!0),t)}function jp(e,t={}){return ac(Ep,e,t)}function Np(e){return sc(e)}function Cp(e,t={error:`Input not instance of ${e.name}`}){const n=new Ep({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...Er(t)});return n._zod.bag.Class=e,n}var Op;Op||(Op={});const Ap=Object.freeze(Object.defineProperty({__proto__:null,bigint:function(e){return gu(yd,e)},boolean:function(e){return hu(gd,e)},date:function(e){return Eu(Nd,e)},number:function(e){return su(pd,e)},string:function(e){return Ol(Zc,e)}},Symbol.toStringTag,{value:"Module"}));ir(Bs());const zp=Object.freeze(Object.defineProperty({__proto__:null,$brand:er,$input:El,$output:$l,NEVER:Xn,TimePrecision:tu,ZodAny:Sd,ZodArray:Cd,ZodBase64:ad,ZodBase64URL:ld,ZodBigInt:yd,ZodBigIntFormat:bd,ZodBoolean:gd,ZodCIDRv4:id,ZodCIDRv6:od,ZodCUID:Yc,ZodCUID2:Xc,ZodCatch:fp,ZodCodec:yp,ZodCustom:Ep,ZodCustomStringFormat:dd,ZodDate:Nd,ZodDefault:ap,ZodDiscriminatedUnion:Ud,ZodE164:ud,ZodEmail:Wc,ZodEmoji:Kc,ZodEnum:Kd,ZodError:$c,ZodFile:Qd,get ZodFirstPartyTypeKind(){return Op},ZodFunction:Ip,ZodGUID:Jc,ZodIPv4:nd,ZodIPv6:rd,ZodISODate:yc,ZodISODateTime:gc,ZodISODuration:_c,ZodISOTime:xc,ZodIntersection:Fd,ZodIssueCode:{invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"},ZodJWT:cd,ZodKSUID:td,ZodLazy:_p,ZodLiteral:Yd,ZodMap:Hd,ZodNaN:mp,ZodNanoID:Gc,ZodNever:Ed,ZodNonOptional:cp,ZodNull:_d,ZodNullable:ip,ZodNumber:pd,ZodNumberFormat:hd,ZodObject:Ad,ZodOptional:np,ZodPipe:gp,ZodPrefault:lp,ZodPromise:Sp,ZodReadonly:bp,ZodRealError:Ec,ZodRecord:Wd,ZodSet:qd,ZodString:Zc,ZodStringFormat:Vc,ZodSuccess:pp,ZodSymbol:xd,ZodTemplateLiteral:wp,ZodTransform:ep,ZodTuple:Bd,ZodType:Lc,ZodULID:Qc,ZodURL:qc,ZodUUID:Hc,ZodUndefined:wd,ZodUnion:Dd,ZodUnknown:Id,ZodVoid:jd,ZodXID:ed,_ZodString:Fc,_default:sp,_function:$p,any:function(){return _u(Sd)},array:Od,base64:sd,base64url:function(e){return Xl(ld,e)},bigint:function(e){return mu(yd,e)},boolean:vd,catch:hp,check:function(e){const t=new Io({check:"custom"});return t._zod.check=e,t},cidrv4:function(e){return Kl(id,e)},cidrv6:function(e){return Gl(od,e)},clone:$r,codec:function(e,t,n){return new yp({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})},coerce:Ap,config:ir,core:mc,cuid:function(e){return Zl(Yc,e)},cuid2:function(e){return Bl(Xc,e)},custom:Tp,date:function(e){return $u(Nd,e)},decode:Ac,decodeAsync:Pc,discriminatedUnion:Ld,e164:function(e){return Ql(ud,e)},email:function(e){return Al(Wc,e)},emoji:function(e){return Ll(Kc,e)},encode:Oc,encodeAsync:zc,endsWith:Ku,enum:Gd,file:function(e){return ic(Qd,e)},flattenError:Xr,float32:function(e){return uu(hd,e)},float64:function(e){return cu(hd,e)},formatError:Qr,function:$p,getErrorMap:function(){return ir().customError},globalRegistry:Nl,gt:Cu,gte:Ou,guid:function(e){return zl(Jc,e)},hash:function(e,t){const n=`${e}_${t?.enc??"hex"}`,r=So[n];if(!r)throw new Error(`Unrecognized hash format: ${n}`);return cc(dd,n,r,t)},hex:function(e){return cc(dd,"hex",co,e)},hostname:function(e){return cc(dd,"hostname",Hi,e)},httpUrl:function(e){return Ul(qc,{protocol:/^https?$/,hostname:qi,...Er(e)})},includes:Hu,instanceof:Cp,int:md,int32:function(e){return du(hd,e)},int64:function(e){return vu(bd,e)},intersection:Zd,ipv4:function(e){return Hl(nd,e)},ipv6:function(e){return ql(rd,e)},iso:Sc,json:function(e){const t=kp(()=>Md([Bc(e),fd(),vd(),kd(),Od(t),Jd(Bc(),t)]));return t},jwt:function(e){return eu(cd,e)},keyof:function(e){const t=e._zod.def.shape;return Gd(Object.keys(t))},ksuid:function(e){return Jl(td,e)},lazy:kp,length:Bu,literal:Xd,locales:Il,looseObject:Rd,lowercase:Wu,lt:ju,lte:Nu,map:function(e,t,n){return new Hd({type:"map",keyType:e,valueType:t,...Er(n)})},maxLength:Fu,maxSize:Mu,mime:Yu,minLength:Zu,minSize:Uu,multipleOf:Du,nan:function(e){return Tu(mp,e)},nanoid:function(e){return Fl(Gc,e)},nativeEnum:function(e,t){return new Kd({type:"enum",entries:e,...Er(t)})},negative:zu,never:Td,nonnegative:Ru,nonoptional:dp,nonpositive:Pu,normalize:Qu,null:kd,nullable:op,nullish:function(e){return rp(op(e))},number:fd,object:zd,optional:rp,overwrite:Xu,parse:Tc,parseAsync:jc,partialRecord:function(e,t,n){const r=$r(e);return r._zod.values=void 0,new Wd({type:"record",keyType:r,valueType:t,...Er(n)})},pipe:vp,positive:Au,prefault:up,preprocess:function(e,t){return vp(tp(e),t)},prettifyError:ni,promise:function(e){return new Sp({type:"promise",innerType:e})},property:Gu,readonly:xp,record:Jd,refine:jp,regex:Vu,regexes:So,registry:jl,safeDecode:Dc,safeDecodeAsync:Uc,safeEncode:Rc,safeEncodeAsync:Mc,safeParse:Nc,safeParseAsync:Cc,set:function(e,t){return new qd({type:"set",valueType:e,...Er(t)})},setErrorMap:function(e){ir({customError:e})},size:Lu,startsWith:qu,strictObject:Pd,string:Bc,stringFormat:function(e,t,n={}){return cc(dd,e,t,n)},stringbool:(...e)=>uc({Codec:yp,Boolean:gd,String:Zc},...e),success:function(e){return new pp({type:"success",innerType:e})},superRefine:Np,symbol:function(e){return bu(xd,e)},templateLiteral:function(e,t){return new wp({type:"template_literal",parts:e,...Er(t)})},toJSONSchema:pc,toLowerCase:tc,toUpperCase:nc,transform:tp,treeifyError:ei,trim:ec,tuple:Vd,uint32:function(e){return pu(hd,e)},uint64:function(e){return yu(bd,e)},ulid:function(e){return Vl(Qc,e)},undefined:function(e){return xu(wd,e)},union:Md,unknown:$d,uppercase:Ju,url:function(e){return Ul(qc,e)},util:qr,uuid:function(e){return Pl(Hc,e)},uuidv4:function(e){return Rl(Hc,e)},uuidv6:function(e){return Dl(Hc,e)},uuidv7:function(e){return Ml(Hc,e)},void:function(e){return Iu(jd,e)},xid:function(e){return Wl(ed,e)}},Symbol.toStringTag,{value:"Module"}));function Pp(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Rp(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Pp(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Pp(e[t],null)}}}}function Dp(...e){return V.useCallback(Rp(...e),e)}var Mp={exports:{}},Up={},Lp=V;function Fp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zp(){}var Bp={d:{f:Zp,r:function(){throw Error(Fp(522))},D:Zp,C:Zp,L:Zp,m:Zp,X:Zp,S:Zp,M:Zp},p:0,findDOMNode:null},Vp=Symbol.for("react.portal");var Wp=Lp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Jp(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}Up.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bp,Up.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(Fp(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Vp,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Up.flushSync=function(e){var t=Wp.T,n=Bp.p;try{if(Wp.T=null,Bp.p=2,e)return e()}finally{Wp.T=t,Bp.p=n,Bp.d.f()}},Up.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,Bp.d.C(e,t))},Up.prefetchDNS=function(e){"string"==typeof e&&Bp.d.D(e)},Up.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=Jp(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?Bp.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&Bp.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},Up.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=Jp(t.as,t.crossOrigin);Bp.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&Bp.d.M(e)},Up.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=Jp(n,t.crossOrigin);Bp.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},Up.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=Jp(t.as,t.crossOrigin);Bp.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else Bp.d.m(e)},Up.requestFormReset=function(e){Bp.d.r(e)},Up.unstable_batchedUpdates=function(e,t){return e(t)},Up.useFormState=function(e,t,n){return Wp.H.useFormState(e,t,n)},Up.useFormStatus=function(){return Wp.H.useHostTransitionStatus()},Up.version="19.1.1",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),Mp.exports=Up;var Hp=Mp.exports;const qp=r(Hp);function Kp(e){const t=Yp(e),n=V.forwardRef((e,n)=>{const{children:r,...i}=e,o=V.Children.toArray(r),a=o.find(Qp);if(a){const e=a.props.children,r=o.map(t=>t===a?V.Children.count(e)>1?V.Children.only(null):V.isValidElement(e)?e.props.children:null:t);return u.jsx(t,{...i,ref:n,children:V.isValidElement(e)?V.cloneElement(e,void 0,r):null})}return u.jsx(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var Gp=Kp("Slot");function Yp(e){const t=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...e)=>{const t=o(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==V.Fragment&&(i.ref=t?Rp(t,e):e),V.cloneElement(n,i)}return V.Children.count(n)>1?V.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xp=Symbol("radix.slottable");function Qp(e){return V.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Xp}var ef=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Kp(`Primitive.${t}`),r=V.forwardRef((e,r)=>{const{asChild:i,...o}=e,a=i?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var tf=(e,t)=>{const n=V.useMemo(()=>(e=>{const t=t=>{const n=e.map(e=>e.subscribe(t));return()=>{for(const e of n)e()}};return n=>{const r=()=>n(...e.map(e=>e.getState()));return V.useSyncExternalStore(t,r,r)}})(e),e);return n(t)},nf=(e=>(e.Hidden="hidden",e.Floating="floating",e.Normal="normal",e))(nf||{}),rf=V.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},i)=>{const o=(({hideWhenRunning:e,autohide:t,autohideFloat:n})=>{const r=Bt(),i=mn(),o=bn();return tf([r,i,o],(r,i,o)=>e&&r.isRunning?"hidden":"always"===t||"not-last"===t&&!i.isLast?o.isHovering?"always"===n||"single-branch"===n&&i.branchCount<=1?"floating":"normal":"hidden":"normal")})({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===nf.Hidden?null:u.jsx(ef.div,{...o===nf.Floating?{"data-floating":"true"}:null,...r,ref:i})});function of(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}rf.displayName="ActionBarPrimitive.Root";var af=V.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},i)=>{const o=yn(e=>e.isCopied),a=(({copiedDuration:e=3e3}={})=>{const t=mn(),n=xn(),r=yn(e=>e.setIsCopied),i=gn(e=>("assistant"!==e.role||"running"!==e.status.type)&&e.content.some(e=>"text"===e.type&&e.text.length>0)),o=V.useCallback(()=>{const{isEditing:i,text:o}=n.getState(),a=i?o:t.unstable_getCopyText();navigator.clipboard.writeText(a).then(()=>{r(!0),setTimeout(()=>r(!1),e)})},[t,r,n,e]);return i?o:null})({copiedDuration:e});return u.jsx(ef.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:i,disabled:n||!a,onClick:of(t,()=>{a?.()})})});af.displayName="ActionBarPrimitive.Copy";var sf=(e,t,n=[])=>{const r=V.forwardRef((e,r)=>{const i={},o={};Object.keys(e).forEach(t=>{n.includes(t)?i[t]=e[t]:o[t]=e[t]});const a=t(i)??void 0;return u.jsx(ef.button,{type:"button",...o,ref:r,disabled:o.disabled||!a,onClick:of(o.onClick,a)})});return r.displayName=e,r},lf=sf("ActionBarPrimitive.Reload",()=>{const e=mn(),t=Bt(),n=tf([t,e],(e,t)=>e.isRunning||e.isDisabled||"assistant"!==t.role),r=V.useCallback(()=>{e.reload()},[e]);return n?null:r}),uf=sf("ActionBarPrimitive.Edit",()=>{const e=mn(),t=vn(e=>e.isEditing),n=V.useCallback(()=>{e.composer.beginEdit()},[e]);return t?null:n});function cf(e,t=globalThis?.document){const n=Cn(e);V.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}function df(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>V.createContext(e));return function(n){const r=n?.[e]||t;return V.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const i=V.createContext(r),o=n.length;n=[...n,r];const a=t=>{const{scope:n,children:r,...a}=t,s=n?.[e]?.[o]||i,l=V.useMemo(()=>a,Object.values(a));return u.jsx(s.Provider,{value:l,children:r})};return a.displayName=t+"Provider",[a,function(n,a){const s=a?.[e]?.[o]||i,l=V.useContext(s);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},pf(r,...t)]}function pf(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var ff,hf="dismissableLayer.update",mf="dismissableLayer.pointerDownOutside",gf="dismissableLayer.focusOutside",vf=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yf=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=V.useContext(vf),[d,p]=V.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=V.useState({}),m=Dp(t,e=>p(e)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,_=function(e,t=globalThis?.document){const n=Cn(e),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){wf(mf,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));w&&!n&&(i?.(e),a?.(e),e.defaultPrevented||s?.())},f),k=function(e,t=globalThis?.document){const n=Cn(e),r=V.useRef(!1);return V.useEffect(()=>{const e=e=>{if(e.target&&!r.current){wf(gf,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(o?.(e),a?.(e),e.defaultPrevented||s?.())},f);return cf(e=>{b===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),V.useEffect(()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(ff=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),xf(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=ff)}},[d,f,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),xf())},[d,c]),V.useEffect(()=>{const e=()=>h({});return document.addEventListener(hf,e),()=>document.removeEventListener(hf,e)},[]),u.jsx(ef.div,{...l,ref:m,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:of(e.onFocusCapture,k.onFocusCapture),onBlurCapture:of(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:of(e.onPointerDownCapture,_.onPointerDownCapture)})});yf.displayName="DismissableLayer";var bf=V.forwardRef((e,t)=>{const n=V.useContext(vf),r=V.useRef(null),i=Dp(t,r);return V.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),u.jsx(ef.div,{...e,ref:i})});function xf(){const e=new CustomEvent(hf);document.dispatchEvent(e)}function wf(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Hp.flushSync(()=>e.dispatchEvent(t))}(i,o):i.dispatchEvent(o)}bf.displayName="DismissableLayerBranch";var _f=0;function kf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sf="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",$f={bubbles:!1,cancelable:!0},Ef=V.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=V.useState(null),c=Cn(i),d=Cn(o),p=V.useRef(null),f=Dp(t,e=>l(e)),h=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let e=function(e){if(h.paused||!s)return;const t=e.target;s.contains(t)?p.current=t:Cf(p.current,{select:!0})},t=function(e){if(h.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||Cf(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Cf(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,s,h.paused]),V.useEffect(()=>{if(s){Of.add(h);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(Sf,$f);s.addEventListener(Sf,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Cf(r,{select:t}),document.activeElement!==n)return}((e=Tf(s),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Cf(s))}return()=>{s.removeEventListener(Sf,c),setTimeout(()=>{const e=new CustomEvent(If,$f);s.addEventListener(If,d),s.dispatchEvent(e),e.defaultPrevented||Cf(t??document.body,{select:!0}),s.removeEventListener(If,d),Of.remove(h)},0)}}var e},[s,c,d,h]);const m=V.useCallback(e=>{if(!n&&!r)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=Tf(e),n=jf(t,e),r=jf(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&Cf(o,{select:!0})):(e.preventDefault(),n&&Cf(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,h.paused]);return u.jsx(ef.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});function Tf(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jf(e,t){for(const n of e)if(!Nf(n,{upTo:t}))return n}function Nf(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Cf(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Ef.displayName="FocusScope";var Of=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Af(e,t),e.unshift(t)},remove(t){e=Af(e,t),e[0]?.resume()}}}();function Af(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var zf=globalThis?.document?V.useLayoutEffect:()=>{},Pf=J[" useId ".trim().toString()]||(()=>{}),Rf=0;function Df(e){const[t,n]=V.useState(Pf());return zf(()=>{n(e=>e??String(Rf++))},[e]),t?`radix-${t}`:""}const Mf=["top","right","bottom","left"],Uf=Math.min,Lf=Math.max,Ff=Math.round,Zf=Math.floor,Bf=e=>({x:e,y:e}),Vf={left:"right",right:"left",bottom:"top",top:"bottom"},Wf={start:"end",end:"start"};function Jf(e,t,n){return Lf(e,Uf(t,n))}function Hf(e,t){return"function"==typeof e?e(t):e}function qf(e){return e.split("-")[0]}function Kf(e){return e.split("-")[1]}function Gf(e){return"x"===e?"y":"x"}function Yf(e){return"y"===e?"height":"width"}const Xf=new Set(["top","bottom"]);function Qf(e){return Xf.has(qf(e))?"y":"x"}function eh(e){return Gf(Qf(e))}function th(e){return e.replace(/start|end/g,e=>Wf[e])}const nh=["left","right"],rh=["right","left"],ih=["top","bottom"],oh=["bottom","top"];function ah(e,t,n,r){const i=Kf(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?rh:nh:t?nh:rh;case"left":case"right":return t?ih:oh;default:return[]}}(qf(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(th)))),o}function sh(e){return e.replace(/left|right|bottom|top/g,e=>Vf[e])}function lh(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function uh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ch(e,t,n){let{reference:r,floating:i}=e;const o=Qf(t),a=eh(t),s=Yf(a),l=qf(t),u="y"===o,c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:c,y:r.y-i.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Kf(t)){case"start":f[a]-=p*(n&&u?-1:1);break;case"end":f[a]+=p*(n&&u?-1:1)}return f}async function dh(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Hf(t,e),h=lh(f),m=s[p?"floating"===d?"reference":"floating":d],g=uh(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},x=uh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+h.top)/b.y,bottom:(x.bottom-g.bottom+h.bottom)/b.y,left:(g.left-x.left+h.left)/b.x,right:(x.right-g.right+h.right)/b.x}}function ph(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fh(e){return Mf.some(t=>e[t]>=0)}const hh=new Set(["left","top"]);function mh(){return"undefined"!=typeof window}function gh(e){return bh(e)?(e.nodeName||"").toLowerCase():"#document"}function vh(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function yh(e){var t;return null==(t=(bh(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function bh(e){return!!mh()&&(e instanceof Node||e instanceof vh(e).Node)}function xh(e){return!!mh()&&(e instanceof Element||e instanceof vh(e).Element)}function wh(e){return!!mh()&&(e instanceof HTMLElement||e instanceof vh(e).HTMLElement)}function _h(e){return!(!mh()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof vh(e).ShadowRoot)}const kh=new Set(["inline","contents"]);function Sh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Rh(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!kh.has(i)}const Ih=new Set(["table","td","th"]);function $h(e){return Ih.has(gh(e))}const Eh=[":popover-open",":modal"];function Th(e){return Eh.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const jh=["transform","translate","scale","rotate","perspective"],Nh=["transform","translate","scale","rotate","perspective","filter"],Ch=["paint","layout","strict","content"];function Oh(e){const t=Ah(),n=xh(e)?Rh(e):e;return jh.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Nh.some(e=>(n.willChange||"").includes(e))||Ch.some(e=>(n.contain||"").includes(e))}function Ah(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const zh=new Set(["html","body","#document"]);function Ph(e){return zh.has(gh(e))}function Rh(e){return vh(e).getComputedStyle(e)}function Dh(e){return xh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mh(e){if("html"===gh(e))return e;const t=e.assignedSlot||e.parentNode||_h(e)&&e.host||yh(e);return _h(t)?t.host:t}function Uh(e){const t=Mh(e);return Ph(t)?e.ownerDocument?e.ownerDocument.body:e.body:wh(t)&&Sh(t)?t:Uh(t)}function Lh(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Uh(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=vh(i);if(o){const e=Fh(a);return t.concat(a,a.visualViewport||[],Sh(i)?i:[],e&&n?Lh(e):[])}return t.concat(i,Lh(i,[],n))}function Fh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zh(e){const t=Rh(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=wh(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Ff(n)!==o||Ff(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Bh(e){return xh(e)?e:e.contextElement}function Vh(e){const t=Bh(e);if(!wh(t))return Bf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Zh(t);let a=(o?Ff(n.width):n.width)/r,s=(o?Ff(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Wh=Bf(0);function Jh(e){const t=vh(e);return Ah()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Wh}function Hh(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Bh(e);let a=Bf(1);t&&(r?xh(r)&&(a=Vh(r)):a=Vh(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==vh(e))&&t}(o,n,r)?Jh(o):Bf(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(o){const e=vh(o),t=r&&xh(r)?vh(r):r;let n=e,i=Fh(n);for(;i&&r&&t!==n;){const e=Vh(i),t=i.getBoundingClientRect(),r=Rh(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=a,n=vh(i),i=Fh(n)}}return uh({width:c,height:d,x:l,y:u})}function qh(e,t){const n=Dh(e).scrollLeft;return t?t.left+n:Hh(yh(e)).left+n}function Kh(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-qh(e,n),y:n.top+t.scrollTop}}const Gh=new Set(["absolute","fixed"]);function Yh(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=vh(e),r=yh(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=Ah();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const u=qh(r);if(u<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-i);a<=25&&(o-=a)}else u<=25&&(o+=u);return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=yh(e),n=Dh(e),r=e.ownerDocument.body,i=Lf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Lf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+qh(e);const s=-n.scrollTop;return"rtl"===Rh(r).direction&&(a+=Lf(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(yh(e));else if(xh(t))r=function(e,t){const n=Hh(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=wh(e)?Vh(e):Bf(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=Jh(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return uh(r)}function Xh(e,t){const n=Mh(e);return!(n===t||!xh(n)||Ph(n))&&("fixed"===Rh(n).position||Xh(n,t))}function Qh(e,t,n){const r=wh(t),i=yh(t),o="fixed"===n,a=Hh(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Bf(0);function u(){l.x=qh(i)}if(r||!r&&!o)if(("body"!==gh(t)||Sh(i))&&(s=Dh(t)),r){const e=Hh(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=!i||r||o?Bf(0):Kh(i,s);return{x:a.left+s.scrollLeft-l.x-c.x,y:a.top+s.scrollTop-l.y-c.y,width:a.width,height:a.height}}function em(e){return"static"===Rh(e).position}function tm(e,t){if(!wh(e)||"fixed"===Rh(e).position)return null;if(t)return t(e);let n=e.offsetParent;return yh(e)===n&&(n=n.ownerDocument.body),n}function nm(e,t){const n=vh(e);if(Th(e))return n;if(!wh(e)){let t=Mh(e);for(;t&&!Ph(t);){if(xh(t)&&!em(t))return t;t=Mh(t)}return n}let r=tm(e,t);for(;r&&$h(r)&&em(r);)r=tm(r,t);return r&&Ph(r)&&em(r)&&!Oh(r)?n:r||function(e){let t=Mh(e);for(;wh(t)&&!Ph(t);){if(Oh(t))return t;if(Th(t))return null;t=Mh(t)}return null}(e)||n}const rm={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,a=yh(r),s=!!t&&Th(t.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Bf(1);const c=Bf(0),d=wh(r);if((d||!d&&!o)&&(("body"!==gh(r)||Sh(a))&&(l=Dh(r)),wh(r))){const e=Hh(r);u=Vh(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const p=!a||d||o?Bf(0):Kh(a,l);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+p.x,y:n.y*u.y-l.scrollTop*u.y+c.y+p.y}},getDocumentElement:yh,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o="clippingAncestors"===n?Th(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Lh(e,[],!1).filter(e=>xh(e)&&"body"!==gh(e)),i=null;const o="fixed"===Rh(e).position;let a=o?Mh(e):e;for(;xh(a)&&!Ph(a);){const t=Rh(a),n=Oh(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&Gh.has(i.position)||Sh(a)&&!n&&Xh(e,a))?r=r.filter(e=>e!==a):i=t,a=Mh(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...o,r],s=a[0],l=a.reduce((e,n)=>{const r=Yh(t,n,i);return e.top=Lf(r.top,e.top),e.right=Uf(r.right,e.right),e.bottom=Uf(r.bottom,e.bottom),e.left=Lf(r.left,e.left),e},Yh(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:nm,getElementRects:async function(e){const t=this.getOffsetParent||nm,n=this.getDimensions,r=await n(e.floating);return{reference:Qh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Zh(e);return{width:t,height:n}},getScale:Vh,isElement:xh,isRTL:function(e){return"rtl"===Rh(e).direction}};function im(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function om(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=Bh(e),c=i||o?[...u?Lh(u):[],...Lh(t)]:[];c.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=u&&s?function(e,t){let n,r=null;const i=yh(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:p,height:f}=u;if(s||t(),!p||!f)return;const h={rootMargin:-Zf(d)+"px "+-Zf(i.clientWidth-(c+p))+"px "+-Zf(i.clientHeight-(d+f))+"px "+-Zf(c)+"px",threshold:Lf(0,Uf(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||im(u,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...h,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),o}(u,n):null;let p,f=-1,h=null;a&&(h=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m=l?Hh(e):null;return l&&function t(){const r=Hh(e);m&&!im(m,r)&&n();m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const am=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=qf(n),s=Kf(n),l="y"===Qf(n),u=hh.has(a)?-1:1,c=o&&l?-1:1,d=Hf(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),l?{x:f*c,y:p*u}:{x:p*u,y:f*c}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},sm=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Hf(e,t),u={x:n,y:r},c=await dh(t,l),d=Qf(qf(i)),p=Gf(d);let f=u[p],h=u[d];if(o){const e="y"===p?"bottom":"right";f=Jf(f+c["y"===p?"top":"left"],f,f-c[e])}if(a){const e="y"===d?"bottom":"right";h=Jf(h+c["y"===d?"top":"left"],h,h-c[e])}const m=s.fn({...t,[p]:f,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:o,[d]:a}}}}}},lm=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=Hf(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=qf(i),y=Qf(s),b=qf(s)===s,x=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=p||(b||!m?[sh(s)]:function(e){const t=sh(e);return[th(e),t,th(t)]}(s)),_="none"!==h;!p&&_&&w.push(...ah(s,m,h,x));const k=[s,...w],S=await dh(t,g),I=[];let $=(null==(r=o.flip)?void 0:r.overflows)||[];if(c&&I.push(S[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Kf(e),i=eh(e),o=Yf(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=sh(a)),[a,sh(a)]}(i,a,x);I.push(S[e[0]],S[e[1]])}if($=[...$,{placement:i,overflows:I}],!I.every(e=>e<=0)){var E,T;const e=((null==(E=o.flip)?void 0:E.index)||0)+1,t=k[e];if(t){if(!("alignment"===d&&y!==Qf(t))||$.every(e=>Qf(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:$},reset:{placement:t}}}let n=null==(T=$.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var j;const e=null==(j=$.filter(e=>{if(_){const t=Qf(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:j[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},um=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...u}=Hf(e,t),c=await dh(t,u),d=qf(i),p=Kf(i),f="y"===Qf(i),{width:h,height:m}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,g="end"===p?"top":"bottom");const y=m-c.top-c.bottom,b=h-c.left-c.right,x=Uf(m-c[g],y),w=Uf(h-c[v],b),_=!t.middlewareData.shift;let k=x,S=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=y),_&&!p){const e=Lf(c.left,0),t=Lf(c.right,0),n=Lf(c.top,0),r=Lf(c.bottom,0);f?S=h-2*(0!==e||0!==t?e+t:Lf(c.left,c.right)):k=m-2*(0!==n||0!==r?n+r:Lf(c.top,c.bottom))}await l({...t,availableWidth:S,availableHeight:k});const I=await a.getDimensions(s.floating);return h!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}},cm=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Hf(e,t);switch(r){case"referenceHidden":{const e=ph(await dh(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:fh(e)}}}case"escaped":{const e=ph(await dh(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:fh(e)}}}default:return{}}}}},dm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Hf(e,t)||{};if(null==u)return{};const d=lh(c),p={x:n,y:r},f=eh(i),h=Yf(f),m=await a.getDimensions(u),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=o.reference[h]+o.reference[f]-p[f]-o.floating[h],w=p[f]-o.reference[f],_=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let k=_?_[b]:0;k&&await(null==a.isElement?void 0:a.isElement(_))||(k=s.floating[b]||o.floating[h]);const S=x/2-w/2,I=k/2-m[h]/2-1,$=Uf(d[v],I),E=Uf(d[y],I),T=$,j=k-m[h]-E,N=k/2-m[h]/2+S,C=Jf(T,N,j),O=!l.arrow&&null!=Kf(i)&&N!==C&&o.reference[h]/2-(N<T?$:E)-m[h]/2<0,A=O?N<T?N-T:N-j:0;return{[f]:p[f]+A,data:{[f]:C,centerOffset:N-C-A,...O&&{alignmentOffset:A}},reset:O}}}),pm=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Hf(e,t),c={x:n,y:r},d=Qf(i),p=Gf(d);let f=c[p],h=c[d];const m=Hf(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===p?"height":"width",t=o.reference[p]-o.floating[e]+g.mainAxis,n=o.reference[p]+o.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(u){var v,y;const e="y"===p?"width":"height",t=hh.has(qf(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);h<n?h=n:h>r&&(h=r)}return{[p]:f,[d]:h}}}},fm=(e,t,n)=>{const r=new Map,i={platform:rm,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=ch(u,r,l),p=r,f={},h=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:v,data:y,reset:b}=await o({x:c,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:c,y:d}=ch(u,p,l))),m=-1)}return{x:c,y:d,placement:p,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var hm="undefined"!=typeof document?V.useLayoutEffect:function(){};function mm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!mm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!mm(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function gm(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vm(e,t){const n=gm(e);return Math.round(t*n)/n}function ym(e){const t=V.useRef(e);return hm(()=>{t.current=e}),t}const bm=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?dm({element:n.current,padding:r}).fn(t):{}:n?dm({element:n,padding:r}).fn(t):{};var i}}),xm=(e,t)=>({...am(e),options:[e,t]}),wm=(e,t)=>({...sm(e),options:[e,t]}),_m=(e,t)=>({...pm(e),options:[e,t]}),km=(e,t)=>({...lm(e),options:[e,t]}),Sm=(e,t)=>({...um(e),options:[e,t]}),Im=(e,t)=>({...cm(e),options:[e,t]}),$m=(e,t)=>({...bm(e),options:[e,t]});var Em=V.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return u.jsx(ef.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Em.displayName="Arrow";var Tm=Em;var jm="Popper",[Nm,Cm]=df(jm),[Om,Am]=Nm(jm),zm=e=>{const{__scopePopper:t,children:n}=e,[r,i]=V.useState(null);return u.jsx(Om,{scope:t,anchor:r,onAnchorChange:i,children:n})};zm.displayName=jm;var Pm="PopperAnchor",Rm=V.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=Am(Pm,n),a=V.useRef(null),s=Dp(t,a),l=V.useRef(null);return V.useEffect(()=>{const e=l.current;l.current=r?.current||a.current,e!==l.current&&o.onAnchorChange(l.current)}),r?null:u.jsx(ef.div,{...i,ref:s})});Rm.displayName=Pm;var Dm="PopperContent",[Mm,Um]=Nm(Dm),Lm=V.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=e,v=Am(Dm,n),[y,b]=V.useState(null),x=Dp(t,e=>b(e)),[w,_]=V.useState(null),k=function(e){const[t,n]=V.useState(void 0);return zf(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(w),S=k?.width??0,I=k?.height??0,$=r+("center"!==o?"-"+o:""),E="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(c)?c:[c],j=T.length>0,N={padding:E,boundary:T.filter(Vm),altBoundary:j},{refs:C,floatingStyles:O,placement:A,isPositioned:z,middlewareData:P}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,d]=V.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=V.useState(r);mm(p,r)||f(r);const[h,m]=V.useState(null),[g,v]=V.useState(null),y=V.useCallback(e=>{e!==_.current&&(_.current=e,m(e))},[]),b=V.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),x=o||h,w=a||g,_=V.useRef(null),k=V.useRef(null),S=V.useRef(c),I=null!=l,$=ym(l),E=ym(i),T=ym(u),j=V.useCallback(()=>{if(!_.current||!k.current)return;const e={placement:t,strategy:n,middleware:p};E.current&&(e.platform=E.current),fm(_.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==T.current};N.current&&!mm(S.current,t)&&(S.current=t,Hp.flushSync(()=>{d(t)}))})},[p,t,n,E,T]);hm(()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[u]);const N=V.useRef(!1);hm(()=>(N.current=!0,()=>{N.current=!1}),[]),hm(()=>{if(x&&(_.current=x),w&&(k.current=w),x&&w){if($.current)return $.current(x,w,j);j()}},[x,w,j,$,I]);const C=V.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:b}),[y,b]),O=V.useMemo(()=>({reference:x,floating:w}),[x,w]),A=V.useMemo(()=>{const e={position:n,left:0,top:0};if(!O.floating)return e;const t=vm(O.floating,c.x),r=vm(O.floating,c.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...gm(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,s,O.floating,c.x,c.y]);return V.useMemo(()=>({...c,update:j,refs:C,elements:O,floatingStyles:A}),[c,j,C,O,A])}({strategy:"fixed",placement:$,whileElementsMounted:(...e)=>om(...e,{animationFrame:"always"===h}),elements:{reference:v.anchor},middleware:[xm({mainAxis:i+I,alignmentAxis:a}),l&&wm({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?_m():void 0,...N}),l&&km({...N}),Sm({...N,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:o}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${i}px`),a.setProperty("--radix-popper-anchor-height",`${o}px`)}}),w&&$m({element:w,padding:s}),Wm({arrowWidth:S,arrowHeight:I}),f&&Im({strategy:"referenceHidden",...N})]}),[R,D]=Jm(A),M=Cn(m);zf(()=>{z&&M?.()},[z,M]);const U=P.arrow?.x,L=P.arrow?.y,F=0!==P.arrow?.centerOffset,[Z,B]=V.useState();return zf(()=>{y&&B(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:z?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(Mm,{scope:n,placedSide:R,onArrowChange:_,arrowX:U,arrowY:L,shouldHideArrow:F,children:u.jsx(ef.div,{"data-side":R,"data-align":D,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});Lm.displayName=Dm;var Fm="PopperArrow",Zm={top:"bottom",right:"left",bottom:"top",left:"right"},Bm=V.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,i=Um(Fm,n),o=Zm[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Tm,{...r,ref:t,style:{...r.style,display:"block"}})})});function Vm(e){return null!==e}Bm.displayName=Fm;var Wm=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,a=o?0:e.arrowWidth,s=o?0:e.arrowHeight,[l,u]=Jm(n),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+a/2,p=(i.arrow?.y??0)+s/2;let f="",h="";return"bottom"===l?(f=o?c:`${d}px`,h=-s+"px"):"top"===l?(f=o?c:`${d}px`,h=`${r.floating.height+s}px`):"right"===l?(f=-s+"px",h=o?c:`${p}px`):"left"===l&&(f=`${r.floating.width+s}px`,h=o?c:`${p}px`),{data:{x:f,y:h}}}});function Jm(e){const[t,n="center"]=e.split("-");return[t,n]}var Hm=zm,qm=Rm,Km=Lm,Gm=Bm,Ym=V.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=V.useState(!1);zf(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?qp.createPortal(u.jsx(ef.div,{...r,ref:t}),a):null});Ym.displayName="Portal";var Xm=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=V.useState(),r=V.useRef(null),i=V.useRef(e),o=V.useRef("none"),a=e?"mounted":"unmounted",[s,l]=function(e,t){return V.useReducer((e,n)=>t[e][n]??e,e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const e=Qm(r.current);o.current="mounted"===s?e:"none"},[s]),zf(()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,a=Qm(t);if(e)l("MOUNT");else if("none"===a||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),zf(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,a=o=>{const a=Qm(r.current).includes(CSS.escape(o.animationName));if(o.target===t&&a&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(o.current=Qm(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:V.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):V.Children.only(n),o=Dp(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?V.cloneElement(i,{ref:o}):null};function Qm(e){return e?.animationName||"none"}Xm.displayName="Presence";var eg=J[" useInsertionEffect ".trim().toString()]||zf;function tg({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=function({defaultProp:e,onChange:t}){const[n,r]=V.useState(e),i=V.useRef(n),o=V.useRef(t);return eg(()=>{o.current=t},[t]),V.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:i;{const t=V.useRef(void 0!==e);V.useEffect(()=>{const e=t.current;if(e!==s){const t=e?"controlled":"uncontrolled",n=s?"controlled":"uncontrolled";console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}const u=V.useCallback(t=>{if(s){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&a.current?.(n)}else o(t)},[s,e,o,a]);return[l,u]}var ng=new WeakMap,rg=new WeakMap,ig={},og=0,ag=function(e){return e&&(e.host||ag(e.parentNode))},sg=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=ag(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);ig[n]||(ig[n]=new WeakMap);var o=ig[n],a=[],s=new Set,l=new Set(i),u=function(e){e&&!s.has(e)&&(s.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))c(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(ng.get(e)||0)+1,u=(o.get(e)||0)+1;ng.set(e,l),o.set(e,u),a.push(e),1===l&&i&&rg.set(e,!0),1===u&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}})};return c(t),s.clear(),og++,function(){a.forEach(function(e){var t=ng.get(e)-1,i=o.get(e)-1;ng.set(e,t),o.set(e,i),t||(rg.has(e)||e.removeAttribute(r),rg.delete(e)),i||e.removeAttribute(n)}),--og||(ng=new WeakMap,ng=new WeakMap,rg=new WeakMap,ig={})}},lg=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sg(r,i,n,"aria-hidden")):function(){return null}},ug=function(){return ug=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ug.apply(this,arguments)};function cg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var dg="right-scroll-bar-position",pg="width-before-scroll-bar";function fg(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var hg="undefined"!=typeof window?V.useLayoutEffect:V.useEffect,mg=new WeakMap;function gg(e,t){var n,r,i,o=(n=null,r=function(t){return e.forEach(function(e){return fg(e,t)})},(i=V.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return hg(function(){var t=mg.get(o);if(t){var n=new Set(t),r=new Set(e),i=o.current;n.forEach(function(e){r.has(e)||fg(e,null)}),r.forEach(function(e){n.has(e)||fg(e,i)})}mg.set(o,e)},[e]),o}function vg(e){return e}var yg=function(e){var t=e.sideCar,n=cg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,ug({},n))};yg.isSideCarExport=!0;var bg=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=vg);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}(null);return t.options=ug({async:!0,ssr:!1},e),t}(),xg=function(){},wg=V.forwardRef(function(e,t){var n=V.useRef(null),r=V.useState({onScrollCapture:xg,onWheelCapture:xg,onTouchMoveCapture:xg}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,p=e.sideCar,f=e.noRelative,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,x=cg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,_=gg([n,t]),k=ug(ug({},x),i);return V.createElement(V.Fragment,null,c&&V.createElement(w,{sideCar:bg,removeScrollBar:u,shards:d,noRelative:f,noIsolation:h,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:b}),a?V.cloneElement(V.Children.only(s),ug(ug({},k),{ref:_})):V.createElement(y,ug({},k,{className:l,ref:_}),s))});wg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},wg.classNames={fullWidth:pg,zeroRight:dg};function _g(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var kg=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=_g())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sg=function(){var e,t=(e=kg(),function(t,n){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Ig={left:0,top:0,right:0,gap:0},$g=function(e){return parseInt(e||"",10)||0},Eg=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Ig;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[$g(n),$g(r),$g(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Tg=Sg(),jg="data-scroll-locked",Ng=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(jg,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(dg," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(pg," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(dg," .").concat(dg," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(pg," .").concat(pg," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(jg,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Cg=function(){var e=parseInt(document.body.getAttribute(jg)||"0",10);return isFinite(e)?e:0},Og=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;V.useEffect(function(){return document.body.setAttribute(jg,(Cg()+1).toString()),function(){var e=Cg()-1;e<=0?document.body.removeAttribute(jg):document.body.setAttribute(jg,e.toString())}},[]);var o=V.useMemo(function(){return Eg(i)},[i]);return V.createElement(Tg,{styles:Ng(o,!t,i,n?"":"!important")})},Ag=!1;if("undefined"!=typeof window)try{var zg=Object.defineProperty({},"passive",{get:function(){return Ag=!0,!0}});window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch(ZO){Ag=!1}var Pg=!!Ag&&{passive:!1},Rg=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Dg=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Mg(e,r)){var i=Ug(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Mg=function(e,t){return"v"===e?function(e){return Rg(e,"overflowY")}(t):function(e){return Rg(e,"overflowX")}(t)},Ug=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},Lg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fg=function(e){return[e.deltaX,e.deltaY]},Zg=function(e){return e&&"current"in e?e.current:e},Bg=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Vg=0,Wg=[];function Jg(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Hg=(qg=function(e){var t=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(Vg++)[0],o=V.useState(Sg)[0],a=V.useRef(e);V.useEffect(function(){a.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Zg),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=V.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var i,o=Lg(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-o[0],u="deltaY"in e?e.deltaY:s[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var p=Dg(d,c);if(!p)return!0;if(p?i=d:(i="v"===d?"h":"v",p=Dg(d,c)),!p)return!1;if(!r.current&&"changedTouches"in e&&(l||u)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,s=t.contains(a),l=!1,u=o>0,c=0,d=0;do{if(!a)break;var p=Ug(e,a),f=p[0],h=p[1]-p[2]-i*f;(f||h)&&Mg(e,a)&&(c+=h,d+=f);var m=a.parentNode;a=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!s&&a!==document.body||s&&(t.contains(a)||t===a));return(u&&Math.abs(c)<1||!u&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:u)},[]),l=V.useCallback(function(e){var n=e;if(Wg.length&&Wg[Wg.length-1]===o){var r="deltaY"in n?Fg(n):Lg(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(a.current.shards||[]).map(Zg).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?s(n,l[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),u=V.useCallback(function(e,n,r,i){var o={name:e,delta:n,target:r,should:i,shadowParent:Jg(r)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),c=V.useCallback(function(e){n.current=Lg(e),r.current=void 0},[]),d=V.useCallback(function(t){u(t.type,Fg(t),t.target,s(t,e.lockRef.current))},[]),p=V.useCallback(function(t){u(t.type,Lg(t),t.target,s(t,e.lockRef.current))},[]);V.useEffect(function(){return Wg.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Pg),document.addEventListener("touchmove",l,Pg),document.addEventListener("touchstart",c,Pg),function(){Wg=Wg.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,Pg),document.removeEventListener("touchmove",l,Pg),document.removeEventListener("touchstart",c,Pg)}},[]);var f=e.removeScrollBar,h=e.inert;return V.createElement(V.Fragment,null,h?V.createElement(o,{styles:Bg(i)}):null,f?V.createElement(Og,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},bg.useMedium(qg),yg);var qg,Kg=V.forwardRef(function(e,t){return V.createElement(wg,ug({},e,{ref:t,sideCar:Hg}))});Kg.classNames=wg.classNames;var Gg=sf("BranchPickerPrimitive.Next",()=>{const e=mn(),t=gn(e=>e.branchNumber>=e.branchCount),n=V.useCallback(()=>{e.switchToBranch({position:"next"})},[e]);return t?null:n}),Yg=sf("BranchPickerPrimitive.Previous",()=>{const e=mn(),t=gn(e=>e.branchNumber<=1),n=V.useCallback(()=>{e.switchToBranch({position:"previous"})},[e]);return t?null:n}),Xg=()=>{const e=gn(e=>e.branchCount);return u.jsx(u.Fragment,{children:e})};Xg.displayName="BranchPickerPrimitive.Count";var Qg=()=>{const e=gn(e=>e.branchNumber);return u.jsx(u.Fragment,{children:e})};Qg.displayName="BranchPickerPrimitive.Number";var ev=e=>{const t=V.useRef(void 0);return V.useCallback(n=>{t.current&&t.current(),n&&(t.current=e(n))},[e])},tv=V.forwardRef((e,t)=>{const n=Dp(t,(()=>{const e=bn(),t=V.useCallback(t=>{const n=e.getState().setIsHovering,r=()=>{n(!0)},i=()=>{n(!1)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",i),n(!1)}},[e]);return ev(t)})());return u.jsx(ef.div,{...e,ref:n})});tv.displayName="MessagePrimitive.Root";var nv=({runtime:e,children:t})=>{const n=(e=>{const[t]=V.useState(()=>Lt(()=>e));return V.useEffect(()=>{jt(e),t.setState(e,!0)},[e,t]),t})(e),[r]=V.useState(()=>({useMessagePartRuntime:n}));return u.jsx(an.Provider,{value:r,children:t})},rv=()=>un(e=>{if("text"!==e.type&&"reasoning"!==e.type)throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return e}),iv=V.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:i,status:o}=Un(rv(),e);return u.jsx(t,{"data-status":o.type,...n,ref:r,children:i})});iv.displayName="MessagePartPrimitive.Text";var ov=V.forwardRef((e,t)=>{const{image:n}=un(e=>{if("image"!==e.type)throw new Error("MessagePartImage can only be used inside image message parts.");return e});return u.jsx(ef.img,{src:n,...e,ref:t})});ov.displayName="MessagePartPrimitive.Image";var av=({children:e})=>un(e=>"running"===e.status.type)?e:null;av.displayName="MessagePartPrimitive.InProgress";const sv=e=>Symbol.iterator in e,lv=e=>"entries"in e,uv=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[i,o]of n)if(!r.has(i)||!Object.is(o,r.get(i)))return!1;return!0};function cv(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(sv(e)&&sv(t)?lv(e)&&lv(t)?uv(e,t):((e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let i=n.next(),o=r.next();for(;!i.done&&!o.done;){if(!Object.is(i.value,o.value))return!1;i=n.next(),o=r.next()}return!!i.done&&!!o.done})(e,t):uv({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})))}var dv=()=>{const e=gn(function(e){const t=W.useRef(void 0);return n=>{const r=e(n);return cv(t.current,r)?t.current:t.current=r}}(e=>e.content.map(e=>e.type)));return V.useMemo(()=>0===e.length?[]:(e=>{const t=[];let n=-1;for(let r=0;r<e.length;r++)"tool-call"===e[r]?-1===n&&(n=r):(-1!==n&&(t.push({type:"toolGroup",startIndex:n,endIndex:r-1}),n=-1),t.push({type:"single",index:r}));return-1!==n&&t.push({type:"toolGroup",startIndex:n,endIndex:e.length-1}),t})(e),[e])},pv=({Fallback:e,...t})=>{const n=Pt(e=>e.getToolUI(t.toolName))??e;return n?u.jsx(n,{...t}):null},fv={Text:()=>u.jsxs("p",{style:{whiteSpace:"pre-line"},children:[u.jsx(iv,{}),u.jsx(av,{children:u.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>u.jsx(ov,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e},hv=({components:{Text:e=fv.Text,Reasoning:t=fv.Reasoning,Image:n=fv.Image,Source:r=fv.Source,File:i=fv.File,Unstable_Audio:o=fv.Unstable_Audio,tools:a={}}={}})=>{const s=ln(),l=un(),c=l.type;if("tool-call"===c){const e=e=>s.addToolResult(e);if("Override"in a)return u.jsx(a.Override,{...l,addResult:e});const t=a.by_name?.[l.toolName]??a.Fallback;return u.jsx(pv,{...l,Fallback:t,addResult:e})}if("requires-action"===l.status.type)throw new Error("Encountered unexpected requires-action status");switch(c){case"text":return u.jsx(e,{...l});case"reasoning":return u.jsx(t,{...l});case"source":return u.jsx(r,{...l});case"image":return u.jsx(n,{...l});case"file":return u.jsx(i,{...l});case"audio":return u.jsx(o,{...l});default:throw new Error(`Unknown message part type: ${c}`)}},mv=V.memo(({index:e,components:t})=>{const n=mn(),r=V.useMemo(()=>n.getMessagePartByIndex(e),[n,e]);return u.jsx(nv,{runtime:r,children:u.jsx(hv,{components:t})})},(e,t)=>e.index===t.index&&e.components?.Text===t.components?.Text&&e.components?.Reasoning===t.components?.Reasoning&&e.components?.Source===t.components?.Source&&e.components?.Image===t.components?.Image&&e.components?.File===t.components?.File&&e.components?.Unstable_Audio===t.components?.Unstable_Audio&&e.components?.tools===t.components?.tools&&e.components?.ToolGroup===t.components?.ToolGroup);mv.displayName="MessagePrimitive.PartByIndex";var gv=Object.freeze({type:"complete"}),vv=({status:e,component:t})=>u.jsx(pn,{text:"",isRunning:"running"===e.type,children:u.jsx(t,{type:"text",text:"",status:e})}),yv=V.memo(({components:e})=>{const t=gn(e=>e.status)??gv;return e?.Empty?u.jsx(e.Empty,{status:t}):u.jsx(vv,{status:t,component:e?.Text??fv.Text})},(e,t)=>e.components?.Empty===t.components?.Empty&&e.components?.Text===t.components?.Text),bv=({components:e})=>{const t=gn(e=>e.content.length),n=dv(),r=V.useMemo(()=>0===t?u.jsx(yv,{components:e}):n.map(t=>{if("single"===t.type)return u.jsx(mv,{index:t.index,components:e},t.index);{const n=e.ToolGroup??fv.ToolGroup;return u.jsx(n,{startIndex:t.startIndex,endIndex:t.endIndex,children:Array.from({length:t.endIndex-t.startIndex+1},(n,r)=>u.jsx(mv,{index:t.startIndex+r,components:e},r))},t.startIndex)}}),[n,e,t]);return u.jsx(u.Fragment,{children:r})};bv.displayName="MessagePrimitive.Parts";var xv=({children:e,...t})=>{const n=(e=>{const t=mn(),n=bn();return tf([t,n],({role:t,attachments:n,content:r,branchCount:i,isLast:o,speech:a,submittedFeedback:s},{isCopied:l,isHovering:u})=>!(!0===e.hasBranches&&i<2||e.user&&"user"!==t||e.assistant&&"assistant"!==t||e.system&&"system"!==t||!0===e.lastOrHover&&!u&&!o||void 0!==e.last&&e.last!==o||!0===e.copied&&!l||!1===e.copied&&l||!0===e.speaking&&null==a||!1===e.speaking&&null!=a||!(!0!==e.hasAttachments||"user"===t&&n.length)||!1===e.hasAttachments&&"user"===t&&n.length||!0===e.hasContent&&0===r.length||!1===e.hasContent&&r.length>0||void 0!==e.submittedFeedback&&(s?.type??null)!==e.submittedFeedback))})(t);return n?e:null};xv.displayName="MessagePrimitive.If";var wv=V.forwardRef(({hideWhenSingleBranch:e,...t},n)=>u.jsx(xv,{hasBranches:!!e||void 0,children:u.jsx(ef.div,{...t,ref:n})}));wv.displayName="BranchPickerPrimitive.Root";var _v=()=>{const e=xn(),t=Bt(),n=tf([t,e],(e,t)=>e.isRunning||!t.isEditing||t.isEmpty),r=V.useCallback(()=>{e.send()},[e]);return n?null:r},kv=sf("ComposerPrimitive.Send",_v),Sv=V.forwardRef(({onSubmit:e,...t},n)=>{const r=_v();return u.jsx(ef.form,{...t,ref:n,onSubmit:of(e,e=>{e.preventDefault(),r&&r()})})});function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(null,arguments)}Sv.displayName="ComposerPrimitive.Root";var $v=V.useLayoutEffect,Ev=function(e,t){"function"!=typeof e?e.current=t:e(t)},Tv={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},jv=function(e){Object.keys(Tv).forEach(function(t){e.style.setProperty(t,Tv[t],"important")})},Nv=null,Cv=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var Ov=function(){},Av=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],zv=!!document.documentElement.currentStyle,Pv=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,Av.reduce(function(e,t){return e[t]=n[t],e},{})),i=r.boxSizing;return""===i?null:(zv&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})};function Rv(e,t,n){var r,i,o=(r=n,i=W.useRef(r),$v(function(){i.current=r}),i);V.useLayoutEffect(function(){var n=function(e){return o.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var Dv=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Mv=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,i=e.minRows,o=e.onChange,a=void 0===o?Ov:o,s=e.onHeightChange,l=void 0===s?Ov:s,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,Dv),c=void 0!==u.value,d=V.useRef(null),p=function(e,t){var n=W.useRef();return W.useCallback(function(r){e.current=r,n.current&&Ev(n.current,null),n.current=t,t&&Ev(t,r)},[t])}(d,t),f=V.useRef(0),h=V.useRef(),m=function(){var e=d.current,t=n&&h.current?h.current:Pv(e);if(t){h.current=t;var o=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Nv||((Nv=document.createElement("textarea")).setAttribute("tabindex","-1"),Nv.setAttribute("aria-hidden","true"),jv(Nv)),null===Nv.parentNode&&document.body.appendChild(Nv);var i=e.paddingSize,o=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach(function(e){var t=e;Nv.style[t]=a[t]}),jv(Nv),Nv.value=t;var l=Cv(Nv,e);Nv.value=t,l=Cv(Nv,e),Nv.value="x";var u=Nv.scrollHeight-i,c=u*n;"border-box"===s&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return"border-box"===s&&(d=d+i+o),[l=Math.min(d,l),u]}(t,e.value||e.placeholder||"x",i,r),a=o[0],s=o[1];f.current!==a&&(f.current=a,e.style.setProperty("height",a+"px","important"),l(a,{rowHeight:s}))}};return V.useLayoutEffect(m),function(e,t){Rv(document.body,"reset",function(n){e.current.form===n.target&&t(n)})}(d,function(){if(!c){var e=d.current.value;requestAnimationFrame(function(){var t=d.current;t&&e!==t.value&&m()})}}),Rv(window,"resize",m),function(e){Rv(document.fonts,"loadingdone",e)}(m),V.createElement("textarea",Iv({},u,{onChange:function(e){c||m(),a(e)},ref:p}))},Uv=V.forwardRef(Mv),Lv=e=>{const t=Cn(e),n=Xt(e=>e.onScrollToBottom);V.useEffect(()=>n(t),[n,t])},Fv=V.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:i,onPaste:o,submitOnEnter:a=!0,cancelOnEscape:s=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:c=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:p=!0,...f},h)=>{const m=Ht(),g=Bt(),v=xn(),y=wn(e=>e.isEditing?e.text:""),b=t?Gp:Uv,x=Boolean(Vt(e=>e.isDisabled)||n),w=V.useRef(null),_=Dp(h,w);cf(e=>{s&&v.getState().canCancel&&(v.cancel(),e.preventDefault())});const k=e&&!x,S=V.useCallback(()=>{const e=w.current;e&&k&&(e.focus({preventScroll:!0}),e.setSelectionRange(e.value.length,e.value.length))},[k]);return V.useEffect(()=>S(),[S]),Lv(()=>{"thread"===v.type&&c&&S()}),V.useEffect(()=>{if("thread"===v.type&&l)return g.unstable_on("run-start",S)},[l,S,v,g]),V.useEffect(()=>{if("thread"===v.type&&d)return m.unstable_on("switched-to",S)},[d,S,v,m]),u.jsx(b,{name:"input",value:y,...f,ref:_,disabled:x,onChange:of(r,e=>{if(v.getState().isEditing)return v.setText(e.target.value)}),onKeyDown:of(i,e=>{if(!x&&a&&!e.nativeEvent.isComposing&&"Enter"===e.key&&!1===e.shiftKey){const{isRunning:t}=g.getState();t||(e.preventDefault(),w.current?.closest("form")?.requestSubmit())}}),onPaste:of(o,async e=>{if(!p)return;const t=g.getState().capabilities,n=Array.from(e.clipboardData?.files||[]);if(t.attachments&&n.length>0)try{e.preventDefault(),await Promise.all(n.map(e=>v.addAttachment(e)))}catch(Sl){console.error("Error adding attachment:",Sl)}})})});Fv.displayName="ComposerPrimitive.Input";var Zv=sf("ComposerPrimitive.Cancel",()=>{const e=xn(),t=wn(e=>!e.canCancel),n=V.useCallback(()=>{e.cancel()},[e]);return t?null:n}),Bv=V.forwardRef((e,t)=>u.jsx(ef.div,{...e,ref:t}));Bv.displayName="ThreadPrimitive.Root";var Vv=({children:e})=>Vt(e=>0===e.messages.length)?e:null;Vv.displayName="ThreadPrimitive.Empty";var Wv=({children:e,...t})=>{var n;return(n=t,Vt(e=>!(!0===n.empty&&0!==e.messages.length||!1===n.empty&&0===e.messages.length||!0===n.running&&!e.isRunning||!1===n.running&&e.isRunning||!0===n.disabled&&!e.isDisabled||!1===n.disabled&&e.isDisabled)))?e:null};Wv.displayName="ThreadPrimitive.If";var Jv=({autoScroll:e=!0})=>{const t=V.useRef(null),n=Qt(),r=V.useRef(0),i=V.useRef(!1),o=V.useCallback(n=>{const r=t.current;r&&e&&(i.current=!0,r.scrollTo({top:r.scrollHeight,behavior:n}))},[e]),a=()=>{const e=t.current;if(!e)return;const o=n.getState().isAtBottom,a=e.scrollHeight-e.scrollTop<=e.clientHeight+1;!a&&r.current<e.scrollTop||(a&&(i.current=!1),a!==o&&n.setState({isAtBottom:a})),r.current=e.scrollTop},s=(e=>{const t=Cn(e),n=V.useCallback(e=>{const n=new ResizeObserver(()=>{t()}),r=new MutationObserver(()=>{t()});return n.observe(e),r.observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{n.disconnect(),r.disconnect()}},[t]);return ev(n)})(()=>{(i.current||n.getState().isAtBottom)&&o("instant"),a()}),l=ev(e=>(e.addEventListener("scroll",a),()=>{e.removeEventListener("scroll",a)}));Lv(()=>{o("auto")});const u=Bt();V.useEffect(()=>u.unstable_on("run-start",()=>o("auto")),[o,u]);return Dp(s,l,t)},Hv=V.forwardRef(({autoScroll:e,children:t,...n},r)=>{const i=Dp(r,Jv({autoScroll:e}));return u.jsx(ef.div,{...n,ref:i,children:t})});Hv.displayName="ThreadPrimitive.ViewportScrollable";var qv=V.forwardRef((e,t)=>u.jsx(tn,{children:u.jsx(Hv,{...e,ref:t})}));qv.displayName="ThreadPrimitive.Viewport";var Kv=()=>{const[e]=V.useState(()=>Lt(e=>({isCopied:!1,setIsCopied:t=>{e({isCopied:t})},isHovering:!1,setIsHovering:t=>{e({isHovering:t})}})));return e},Gv=({runtime:e,children:t})=>{const n=(e=>{const[t]=V.useState(()=>Lt(()=>e));return V.useEffect(()=>{jt(e),t.setState(e,!0)},[e,t]),t})(e),r=Kv(),[i]=V.useState(()=>({useMessageRuntime:n,useMessageUtils:r}));return u.jsx(fn.Provider,{value:i,children:t})},Yv=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,Xv=()=>null,Qv=({components:e})=>{const t=((e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??Xv;default:throw new Error(`Unknown message role: ${t}`)}})(e,gn(e=>e.role),vn(e=>e.isEditing));return u.jsx(t,{})},ey=V.memo(({index:e,components:t})=>{const n=Bt(),r=V.useMemo(()=>n.getMesssageByIndex(e),[n,e]);return u.jsx(Gv,{runtime:r,children:u.jsx(Qv,{components:t})})},(e,t)=>e.index===t.index&&Yv(e.components,t.components));ey.displayName="ThreadPrimitive.MessageByIndex";var ty=({components:e})=>{const t=Vt(e=>e.messages.length),n=V.useMemo(()=>0===t?null:Array.from({length:t},(t,n)=>u.jsx(ey,{index:n,components:e},n)),[t,e]);return n};ty.displayName="ThreadPrimitive.Messages";var ny,ry=V.memo(ty,(e,t)=>Yv(e.components,t.components)),iy=sf("ThreadPrimitive.ScrollToBottom",()=>{const e=Xt(e=>e.isAtBottom),t=Qt(),n=V.useCallback(()=>{t.getState().scrollToBottom()},[t]);return e?null:n}),oy=sf("ThreadPrimitive.Suggestion",({prompt:e,autoSend:t})=>{const n=Bt(),r=Vt(e=>e.isDisabled),i=V.useCallback(()=>{t&&!n.getState().isRunning?n.append(e):n.composer.setText(e)},[n,t,e]);return r?null:i},["prompt","autoSend","method"]),ay=(e,t)=>{if(null==t)return[];let n=e.findIndex(e=>e.id===t);if(-1===n)throw new Error("useVercelAIThreadState: Message not found. This is likely an internal bug in assistant-ui.");for(;"assistant"===e[n+1]?.role;)n++;return e.slice(0,n+1)},sy="vercel.ai.error",ly=Symbol.for(sy),uy=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[ny]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,sy)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};ny=ly;var cy=uy;function dy(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var py,fy="AI_InvalidArgumentError",hy=`vercel.ai.error.${fy}`,my=Symbol.for(hy),gy=class extends cy{constructor({message:e,cause:t,argument:n}){super({name:fy,message:e,cause:t}),this[py]=!0,this.argument=n}static isInstance(e){return cy.hasMarker(e,hy)}};py=my;var vy,yy="AI_JSONParseError",by=`vercel.ai.error.${yy}`,xy=Symbol.for(by),wy=class extends cy{constructor({text:e,cause:t}){super({name:yy,message:`JSON parsing failed: Text: ${e}.\nError message: ${dy(t)}`,cause:t}),this[vy]=!0,this.text=e}static isInstance(e){return cy.hasMarker(e,by)}};vy=xy;var _y,ky="AI_TypeValidationError",Sy=`vercel.ai.error.${ky}`,Iy=Symbol.for(Sy);_y=Iy;var $y,Ey,Ty=class e extends cy{constructor({value:e,cause:t}){super({name:ky,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${dy(t)}`,cause:t}),this[_y]=!0,this.value=e}static isInstance(e){return cy.hasMarker(e,Sy)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};class jy extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function Ny(e){}function Cy(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Ny,onError:n=Ny,onRetry:r=Ny,onComment:i}=e;let o,a="",s=!0,l="",u="";function c(e){if(""===e)return l.length>0&&t({id:o,event:u||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",void(u="");if(e.startsWith(":"))return void(i&&i(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1!==n){const t=e.slice(0,n),r=" "===e[n+1]?2:1;return void d(t,e.slice(n+r),e)}d(e,"",e)}function d(e,t,i){switch(e){case"event":u=t;break;case"data":l=`${l}${t}\n`;break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new jy(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:i}));break;default:n(new jy(`Unknown field "${e.length>20?`${e.slice(0,20)}`:e}"`,{type:"unknown-field",field:e,value:t,line:i}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),o=e.indexOf("\n",r);let a=-1;if(-1!==i&&-1!==o?a=Math.min(i,o):-1!==i?a=i===e.length-1?-1:i:-1!==o&&(a=o),-1===a){n=e.slice(r);break}{const n=e.slice(r,a);t.push(n),r=a+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}(`${a}${t}`);for(const i of n)c(i);a=r,s=!1},reset:function(e={}){a&&e.consume&&c(a),s=!0,o=void 0,l="",u="",a=""}}}class Oy extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(i){r=Cy({onEvent:e=>{i.enqueue(e)},onError(t){"terminate"===e?i.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}}(Ey=$y||($y={})).ZodString="ZodString",Ey.ZodNumber="ZodNumber",Ey.ZodNaN="ZodNaN",Ey.ZodBigInt="ZodBigInt",Ey.ZodBoolean="ZodBoolean",Ey.ZodDate="ZodDate",Ey.ZodSymbol="ZodSymbol",Ey.ZodUndefined="ZodUndefined",Ey.ZodNull="ZodNull",Ey.ZodAny="ZodAny",Ey.ZodUnknown="ZodUnknown",Ey.ZodNever="ZodNever",Ey.ZodVoid="ZodVoid",Ey.ZodArray="ZodArray",Ey.ZodObject="ZodObject",Ey.ZodUnion="ZodUnion",Ey.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Ey.ZodIntersection="ZodIntersection",Ey.ZodTuple="ZodTuple",Ey.ZodRecord="ZodRecord",Ey.ZodMap="ZodMap",Ey.ZodSet="ZodSet",Ey.ZodFunction="ZodFunction",Ey.ZodLazy="ZodLazy",Ey.ZodLiteral="ZodLiteral",Ey.ZodEnum="ZodEnum",Ey.ZodEffects="ZodEffects",Ey.ZodNativeEnum="ZodNativeEnum",Ey.ZodOptional="ZodOptional",Ey.ZodNullable="ZodNullable",Ey.ZodDefault="ZodDefault",Ey.ZodCatch="ZodCatch",Ey.ZodPromise="ZodPromise",Ey.ZodBranded="ZodBranded",Ey.ZodPipeline="ZodPipeline",Ey.ZodReadonly="ZodReadonly";var Ay=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const e=n.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=n[Math.random()*e|0];return r.join("")};if(null==e)return i;if(n.includes(r))throw new gy({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},zy=Ay(),Py=/"__proto__"\s*:/,Ry=/"constructor"\s*:/;function Dy(e){const t=JSON.parse(e);return null===t||"object"!=typeof t||!1===Py.test(e)&&!1===Ry.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}var My=Symbol.for("vercel.ai.validator");function Uy(e){return function(e){return"object"==typeof e&&null!==e&&My in e&&!0===e[My]&&"validate"in e}(e)?e:(t=e,n=async e=>{const n=await t["~standard"].validate(e);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new Ty({value:e,cause:n.issues})}},{[My]:!0,validate:n});var t,n}async function Ly({value:e,schema:t}){const n=await Fy({value:e,schema:t});if(!n.success)throw Ty.wrap({value:e,cause:n.error});return n.value}async function Fy({value:e,schema:t}){const n=Uy(t);try{if(null==n.validate)return{success:!0,value:e,rawValue:e};const t=await n.validate(e);return t.success?{success:!0,value:t.value,rawValue:e}:{success:!1,error:Ty.wrap({value:e,cause:t.error}),rawValue:e}}catch(Sl){return{success:!1,error:Ty.wrap({value:e,cause:Sl}),rawValue:e}}}async function Zy({text:e,schema:t}){try{const n=function(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return Dy(e)}finally{Error.stackTraceLimit=t}}(e);return null==t?{success:!0,value:n,rawValue:n}:await Fy({value:n,schema:t})}catch(Sl){return{success:!1,error:wy.isInstance(Sl)?Sl:new wy({text:e,cause:Sl}),rawValue:void 0}}}async function By(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var Vy=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},Wy=Symbol("Let zodToJsonSchema decide on which parser to use"),Jy={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function Hy(e,t){return xb(e.type._def,t)}function qy(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>qy(e,t,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Ky(e)}}var Ky=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var Gy=void 0,Yy=/^[cC][^\s-]{8,}$/,Xy=/^[0-9a-z]+$/,Qy=/^[0-9A-HJKMNP-TV-Z]{26}$/,eb=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,tb=()=>(void 0===Gy&&(Gy=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Gy),nb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ib=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ob=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ab=/^[a-zA-Z0-9_-]{21}$/,sb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function lb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":db(n,"email",r.message,t);break;case"format:idn-email":db(n,"idn-email",r.message,t);break;case"pattern:zod":pb(n,eb,r.message,t)}break;case"url":db(n,"uri",r.message,t);break;case"uuid":db(n,"uuid",r.message,t);break;case"regex":pb(n,r.regex,r.message,t);break;case"cuid":pb(n,Yy,r.message,t);break;case"cuid2":pb(n,Xy,r.message,t);break;case"startsWith":pb(n,RegExp(`^${ub(r.value,t)}`),r.message,t);break;case"endsWith":pb(n,RegExp(`${ub(r.value,t)}$`),r.message,t);break;case"datetime":db(n,"date-time",r.message,t);break;case"date":db(n,"date",r.message,t);break;case"time":db(n,"time",r.message,t);break;case"duration":db(n,"duration",r.message,t);break;case"length":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":pb(n,RegExp(ub(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&db(n,"ipv4",r.message,t),"v4"!==r.version&&db(n,"ipv6",r.message,t);break;case"base64url":pb(n,ob,r.message,t);break;case"jwt":pb(n,sb,r.message,t);break;case"cidr":"v6"!==r.version&&pb(n,nb,r.message,t),"v4"!==r.version&&pb(n,rb,r.message,t);break;case"emoji":pb(n,tb(),r.message,t);break;case"ulid":pb(n,Qy,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":db(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":pb(n,ib,r.message,t)}break;case"nanoid":pb(n,ab,r.message,t)}return n}function ub(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)cb.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var cb=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function db(e,t,n,r){var i;e.format||(null==(i=e.anyOf)?void 0:i.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function pb(e,t,n,r){var i;e.pattern||(null==(i=e.allOf)?void 0:i.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:fb(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=fb(t,r)}function fb(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),i=e.flags.includes("m"),o=e.flags.includes("s"),a=r?e.source.toLowerCase():e.source;let s="",l=!1,u=!1,c=!1;for(let p=0;p<a.length;p++)if(l)s+=a[p],l=!1;else{if(r)if(u){if(a[p].match(/[a-z]/)){c?(s+=a[p],s+=`${a[p-2]}-${a[p]}`.toUpperCase(),c=!1):"-"===a[p+1]&&(null==(n=a[p+2])?void 0:n.match(/[a-z]/))?(s+=a[p],c=!0):s+=`${a[p]}${a[p].toUpperCase()}`;continue}}else if(a[p].match(/[a-z]/)){s+=`[${a[p]}${a[p].toUpperCase()}]`;continue}if(i){if("^"===a[p]){s+="(^|(?<=[\r\n]))";continue}if("$"===a[p]){s+="($|(?=[\r\n]))";continue}}o&&"."===a[p]?s+=u?`${a[p]}\r\n`:`[${a[p]}\r\n]`:(s+=a[p],"\\"===a[p]?l=!0:u&&"]"===a[p]?u=!1:u||"["!==a[p]||(u=!0))}try{new RegExp(s)}catch(d){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function hb(e,t){var n,r,i,o,a,s;const l={type:"object",additionalProperties:null!=(n=xb(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===$y.ZodString&&(null==(i=e.keyType._def.checks)?void 0:i.length)){const{type:n,...r}=lb(e.keyType._def,t);return{...l,propertyNames:r}}if((null==(o=e.keyType)?void 0:o._def.typeName)===$y.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if((null==(a=e.keyType)?void 0:a._def.typeName)===$y.ZodBranded&&e.keyType._def.type._def.typeName===$y.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){const{type:n,...r}=Hy(e.keyType._def,t);return{...l,propertyNames:r}}return l}var mb={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var gb=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>xb(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function vb(e,t){const n={type:"object",properties:{}},r=[],i=e.shape();for(const a in i){let e=i[a];if(void 0===e||void 0===e._def)continue;const o=yb(e),s=xb(e._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});void 0!==s&&(n.properties[a]=s,o||r.push(a))}r.length&&(n.required=r);const o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return xb(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}function yb(e){try{return e.isOptional()}catch(t){return!0}}var bb=(e,t,n)=>{switch(t){case $y.ZodString:return lb(e,n);case $y.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case $y.ZodObject:return vb(e,n);case $y.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case $y.ZodBoolean:return{type:"boolean"};case $y.ZodDate:return qy(e,n);case $y.ZodUndefined:return{not:{}};case $y.ZodNull:return{type:"null"};case $y.ZodArray:return function(e,t){var n,r,i;const o={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(i=null==(r=e.type)?void 0:r._def)?void 0:i.typeName)!==$y.ZodAny&&(o.items=xb(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}(e,n);case $y.ZodUnion:case $y.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in mb&&(!e._def.checks||!e._def.checks.length))){const e=n.reduce((e,t)=>{const n=mb[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=n.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return gb(e,t)}(e,n);case $y.ZodIntersection:return function(e,t){const n=[xb(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),xb(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),r=[];return n.forEach(e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}r.push(t)}else r.push(...e.allOf);var t}),r.length?{allOf:r}:void 0}(e,n);case $y.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>xb(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:xb(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>xb(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,n);case $y.ZodRecord:return hb(e,n);case $y.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case $y.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case $y.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case $y.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[mb[e.innerType._def.typeName],"null"]};const n=xb(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case $y.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return xb(e.innerType._def,t);const r=xb(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}})(e,n);case $y.ZodMap:return function(e,t){return"record"===t.mapStrategy?hb(e,t):{type:"array",maxItems:125,items:{type:"array",items:[xb(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},xb(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case $y.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:xb(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case $y.ZodLazy:return()=>e.getter()._def;case $y.ZodPromise:return function(e,t){return xb(e.type._def,t)}(e,n);case $y.ZodNaN:case $y.ZodNever:return{not:{}};case $y.ZodEffects:return function(e,t){return"input"===t.effectStrategy?xb(e.schema._def,t):{}}(e,n);case $y.ZodAny:case $y.ZodUnknown:return{};case $y.ZodDefault:return function(e,t){return{...xb(e.innerType._def,t),default:e.defaultValue()}}(e,n);case $y.ZodBranded:return Hy(e,n);case $y.ZodReadonly:case $y.ZodCatch:return((e,t)=>xb(e.innerType._def,t))(e,n);case $y.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return xb(e.in._def,t);if("output"===t.pipeStrategy)return xb(e.out._def,t);const n=xb(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,xb(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter(e=>void 0!==e)}})(e,n);case $y.ZodFunction:case $y.ZodVoid:case $y.ZodSymbol:default:return}};function xb(e,t,n=!1){var r;const i=t.seen.get(e);if(t.override){const o=null==(r=t.override)?void 0:r.call(t,e,t,i,n);if(o!==Wy)return o}if(i&&!n){const e=wb(i,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const a=bb(e,e.typeName,t),s="function"==typeof a?xb(a(),t):a;if(s&&_b(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return o.jsonSchema=s,n}return o.jsonSchema=s,s}var wb=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Vy(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},_b=(e,t,n)=>(e.description&&(n.description=e.description),n),kb=e=>{const t=(e=>"string"==typeof e?{...Jy,name:e}:{...Jy,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}},Sb=(e,t)=>{var n;const r=kb(t);let i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>{var i;return{...e,[t]:null!=(i=xb(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0))?i:{}}},{}):void 0;const o="string"==typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,a=null!=(n=xb(e._def,void 0===o?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))?n:{},s="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(a.title=s);const l=void 0===o?i?{...a,[r.definitionPath]:i}:a:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...i,[o]:a}};return l.$schema="http://json-schema.org/draft-07/schema#",l};function Ib(e,t){return function(e){return"_zod"in e}(e)?function(e){return Eb(pc(e,{target:"draft-7",io:"output",reused:"inline"}),{validate:async t=>{const n=await Cc(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e):function(e){return Eb(Sb(e,{$refStrategy:"none"}),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e)}var $b=Symbol.for("vercel.ai.schema");function Eb(e,{validate:t}={}){return{[$b]:!0,_type:void 0,[My]:!0,jsonSchema:e,validate:t}}function Tb(e){return null==e?Eb({properties:{},additionalProperties:!1}):"object"==typeof(t=e)&&null!==t&&$b in t&&!0===t[$b]&&"jsonSchema"in t&&"validate"in t?e:Ib(e);var t}var jb,Nb=Object.defineProperty,Cb="AI_NoObjectGeneratedError",Ob=`vercel.ai.error.${Cb}`,Ab=Symbol.for(Ob),zb=class extends cy{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:i,finishReason:o}){super({name:Cb,message:e,cause:t}),this[jb]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=o}static isInstance(e){return cy.hasMarker(e,Ob)}};jb=Ab;var Pb=Md([Bc(),Cp(Uint8Array),Cp(ArrayBuffer),Tp(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]),Rb=kp(()=>Md([kd(),Bc(),fd(),vd(),Jd(Bc(),Rb),Od(Rb)])),Db=Jd(Bc(),Jd(Bc(),Rb)),Mb=zd({type:Xd("text"),text:Bc(),providerOptions:Db.optional()}),Ub=zd({type:Xd("image"),image:Md([Pb,Cp(URL)]),mediaType:Bc().optional(),providerOptions:Db.optional()}),Lb=zd({type:Xd("file"),data:Md([Pb,Cp(URL)]),filename:Bc().optional(),mediaType:Bc(),providerOptions:Db.optional()}),Fb=zd({type:Xd("reasoning"),text:Bc(),providerOptions:Db.optional()}),Zb=zd({type:Xd("tool-call"),toolCallId:Bc(),toolName:Bc(),input:$d(),providerOptions:Db.optional(),providerExecuted:vd().optional()}),Bb=Ld("type",[zd({type:Xd("text"),value:Bc()}),zd({type:Xd("json"),value:Rb}),zd({type:Xd("error-text"),value:Bc()}),zd({type:Xd("error-json"),value:Rb}),zd({type:Xd("content"),value:Od(Md([zd({type:Xd("text"),text:Bc()}),zd({type:Xd("media"),data:Bc(),mediaType:Bc()})]))})]),Vb=zd({type:Xd("tool-result"),toolCallId:Bc(),toolName:Bc(),output:Bb,providerOptions:Db.optional()}),Wb=zd({role:Xd("system"),content:Bc(),providerOptions:Db.optional()}),Jb=zd({role:Xd("user"),content:Md([Bc(),Od(Md([Mb,Ub,Lb]))]),providerOptions:Db.optional()}),Hb=zd({role:Xd("assistant"),content:Md([Bc(),Od(Md([Mb,Lb,Fb,Zb,Vb]))]),providerOptions:Db.optional()});Md([Wb,Jb,Hb,zd({role:Xd("tool"),content:Od(Vb),providerOptions:Db.optional()})]),Ay({prefix:"aitxt",size:24}),TransformStream;var qb=Md([Pd({type:Xd("text-start"),id:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("text-delta"),id:Bc(),delta:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("text-end"),id:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("error"),errorText:Bc()}),Pd({type:Xd("tool-input-start"),toolCallId:Bc(),toolName:Bc(),providerExecuted:vd().optional(),dynamic:vd().optional()}),Pd({type:Xd("tool-input-delta"),toolCallId:Bc(),inputTextDelta:Bc()}),Pd({type:Xd("tool-input-available"),toolCallId:Bc(),toolName:Bc(),input:$d(),providerExecuted:vd().optional(),providerMetadata:Db.optional(),dynamic:vd().optional()}),Pd({type:Xd("tool-input-error"),toolCallId:Bc(),toolName:Bc(),input:$d(),providerExecuted:vd().optional(),providerMetadata:Db.optional(),dynamic:vd().optional(),errorText:Bc()}),Pd({type:Xd("tool-output-available"),toolCallId:Bc(),output:$d(),providerExecuted:vd().optional(),dynamic:vd().optional(),preliminary:vd().optional()}),Pd({type:Xd("tool-output-error"),toolCallId:Bc(),errorText:Bc(),providerExecuted:vd().optional(),dynamic:vd().optional()}),Pd({type:Xd("reasoning"),text:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("reasoning-start"),id:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("reasoning-delta"),id:Bc(),delta:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("reasoning-end"),id:Bc(),providerMetadata:Db.optional()}),Pd({type:Xd("reasoning-part-finish")}),Pd({type:Xd("source-url"),sourceId:Bc(),url:Bc(),title:Bc().optional(),providerMetadata:Db.optional()}),Pd({type:Xd("source-document"),sourceId:Bc(),mediaType:Bc(),title:Bc(),filename:Bc().optional(),providerMetadata:Db.optional()}),Pd({type:Xd("file"),url:Bc(),mediaType:Bc(),providerMetadata:Db.optional()}),Pd({type:Bc().startsWith("data-"),id:Bc().optional(),data:$d(),transient:vd().optional()}),Pd({type:Xd("start-step")}),Pd({type:Xd("finish-step")}),Pd({type:Xd("start"),messageId:Bc().optional(),messageMetadata:$d().optional()}),Pd({type:Xd("finish"),messageMetadata:$d().optional()}),Pd({type:Xd("abort")}),Pd({type:Xd("message-metadata"),messageMetadata:$d()})]);function Kb(e,t){if(void 0===e&&void 0===t)return;if(void 0===e)return t;if(void 0===t)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];if(void 0===i)continue;const o=r in e?e[r]:void 0,a=!(null===i||"object"!=typeof i||Array.isArray(i)||i instanceof Date||i instanceof RegExp),s=!(null==o||"object"!=typeof o||Array.isArray(o)||o instanceof Date||o instanceof RegExp);n[r]=a&&s?Kb(o,i):i}return n}function Gb(e){const t=["ROOT"];let n=-1,r=null;function i(e,i,o){switch(e){case'"':n=i,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=i,r=i,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":n=i,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":n=i,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function a(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":i(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":i(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,i(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":i(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const i=e.substring(r,l+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function Yb(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await Zy({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Zy({text:Gb(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Xb(e){return e.type.startsWith("tool-")}function Qb(e){return Xb(e)||function(e){return"dynamic-tool"===e.type}(e)}function ex(e){return e.type.split("-").slice(1).join("-")}function tx({lastMessage:e,messageId:t}){return{message:"assistant"===(null==e?void 0:e.role)?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function nx({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:i,onToolCall:o,onData:a}){return e.pipeThrough(new TransformStream({async transform(e,s){await r(async({state:r,write:l})=>{var u,c,d,p;function f(e){const t=r.message.parts.filter(Xb).find(t=>t.toolCallId===e);if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function h(e){const t=r.message.parts.filter(e=>"dynamic-tool"===e.type).find(t=>t.toolCallId===e);if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function m(e){var t;const n=r.message.parts.find(t=>Xb(t)&&t.toolCallId===e.toolCallId),i=e,o=n;null!=n?(n.state=e.state,o.input=i.input,o.output=i.output,o.errorText=i.errorText,o.rawInput=i.rawInput,o.preliminary=i.preliminary,o.providerExecuted=null!=(t=i.providerExecuted)?t:n.providerExecuted,null!=i.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=i.providerMetadata)):r.message.parts.push({type:`tool-${e.toolName}`,toolCallId:e.toolCallId,state:e.state,input:i.input,output:i.output,rawInput:i.rawInput,errorText:i.errorText,providerExecuted:i.providerExecuted,preliminary:i.preliminary,...null!=i.providerMetadata?{callProviderMetadata:i.providerMetadata}:{}})}function g(e){var t;const n=r.message.parts.find(t=>"dynamic-tool"===t.type&&t.toolCallId===e.toolCallId),i=e,o=n;null!=n?(n.state=e.state,o.toolName=e.toolName,o.input=i.input,o.output=i.output,o.errorText=i.errorText,o.rawInput=null!=(t=i.rawInput)?t:o.rawInput,o.preliminary=i.preliminary,null!=i.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=i.providerMetadata)):r.message.parts.push({type:"dynamic-tool",toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:i.input,output:i.output,errorText:i.errorText,preliminary:i.preliminary,...null!=i.providerMetadata?{callProviderMetadata:i.providerMetadata}:{}})}async function v(e){if(null!=e){const n=null!=r.message.metadata?Kb(r.message.metadata,e):e;null!=t&&await Ly({value:n,schema:t}),r.message.metadata=n}}switch(e.type){case"text-start":{const t={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeTextParts[e.id]=t,r.message.parts.push(t),l();break}case"text-delta":{const t=r.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(u=e.providerMetadata)?u:t.providerMetadata,l();break}case"text-end":{const t=r.activeTextParts[e.id];t.state="done",t.providerMetadata=null!=(c=e.providerMetadata)?c:t.providerMetadata,delete r.activeTextParts[e.id],l();break}case"reasoning-start":{const t={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeReasoningParts[e.id]=t,r.message.parts.push(t),l();break}case"reasoning-delta":{const t=r.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(d=e.providerMetadata)?d:t.providerMetadata,l();break}case"reasoning-end":{const t=r.activeReasoningParts[e.id];t.providerMetadata=null!=(p=e.providerMetadata)?p:t.providerMetadata,t.state="done",delete r.activeReasoningParts[e.id],l();break}case"file":r.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),l();break;case"source-url":r.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),l();break;case"source-document":r.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),l();break;case"tool-input-start":{const t=r.message.parts.filter(Xb);r.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}),l();break}case"tool-input-delta":{const t=r.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;const{value:n}=await Yb(t.text);t.dynamic?g({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}):m({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}),l();break}case"tool-input-available":e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerMetadata:e.providerMetadata}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),l(),o&&!e.providerExecuted&&await o({toolCall:e});break;case"tool-input-error":e.dynamic?g({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerMetadata:e.providerMetadata}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),l();break;case"tool-output-available":if(e.dynamic){const t=h(e.toolCallId);g({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-available",input:t.input,output:e.output,preliminary:e.preliminary})}else{const t=f(e.toolCallId);m({toolCallId:e.toolCallId,toolName:ex(t),state:"output-available",input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}l();break;case"tool-output-error":if(e.dynamic){const t=h(e.toolCallId);g({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-error",input:t.input,errorText:e.errorText})}else{const t=f(e.toolCallId);m({toolCallId:e.toolCallId,toolName:ex(t),state:"output-error",input:t.input,rawInput:t.rawInput,errorText:e.errorText})}l();break;case"start-step":r.message.parts.push({type:"step-start"});break;case"finish-step":r.activeTextParts={},r.activeReasoningParts={};break;case"start":null!=e.messageId&&(r.message.id=e.messageId),await v(e.messageMetadata),null==e.messageId&&null==e.messageMetadata||l();break;case"finish":case"message-metadata":await v(e.messageMetadata),null!=e.messageMetadata&&l();break;case"error":null==i||i(new Error(e.errorText));break;default:if(function(e){return e.type.startsWith("data-")}(e)){null!=(null==n?void 0:n[e.type])&&await Ly({value:e.data,schema:n[e.type]});const t=e;if(t.transient){null==a||a(t);break}const i=null!=t.id?r.message.parts.find(e=>t.type===e.type&&t.id===e.id):void 0;null!=i?i.data=t.data:r.message.parts.push(t),null==a||a(t),l()}}s.enqueue(e)})}}))}Ay({prefix:"aitxt",size:24}),Ay({prefix:"aiobj",size:24});var rx=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(Sl){n(Sl)}}),this.processQueue()})}};Ay({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)Nb(e,n,{get:t[n],enumerable:!0})})({},{object:()=>ox,text:()=>ix});var ix=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:e})=>({partial:e}),parseOutput:async({text:e})=>e}),ox=({schema:e})=>{const t=Tb(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:e}){const t=await Yb(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},n){const r=await Zy({text:e});if(!r.success)throw new zb({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const i=await Fy({value:r.value,schema:t});if(!i.success)throw new zb({message:"No object generated: response did not match schema.",cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}}},ax=Rd({name:Bc(),version:Bc()}),sx=Rd({_meta:rp(zd({}).loose())}),lx=sx,ux=zd({method:Bc(),params:rp(sx)}),cx=Rd({experimental:rp(zd({}).loose()),logging:rp(zd({}).loose()),prompts:rp(Rd({listChanged:rp(vd())})),resources:rp(Rd({subscribe:rp(vd()),listChanged:rp(vd())})),tools:rp(Rd({listChanged:rp(vd())}))});lx.extend({protocolVersion:Bc(),capabilities:cx,serverInfo:ax,instructions:rp(Bc())});var dx=lx.extend({nextCursor:rp(Bc())}),px=zd({name:Bc(),description:rp(Bc()),inputSchema:zd({type:Xd("object"),properties:rp(zd({}).loose())}).loose()}).loose();dx.extend({tools:Od(px)});var fx=zd({type:Xd("text"),text:Bc()}).loose(),hx=zd({type:Xd("image"),data:sd(),mimeType:Bc()}).loose(),mx=zd({uri:Bc(),mimeType:rp(Bc())}).loose(),gx=mx.extend({text:Bc()}),vx=mx.extend({blob:sd()}),yx=zd({type:Xd("resource"),resource:Md([gx,vx])}).loose();lx.extend({content:Od(Md([fx,hx,yx])),isError:vd().default(!1).optional()}).or(lx.extend({toolResult:$d()}));var bx="2.0",xx=zd({jsonrpc:Xd(bx),id:Md([Bc(),fd().int()])}).merge(ux).strict(),wx=zd({jsonrpc:Xd(bx),id:Md([Bc(),fd().int()]),result:lx}).strict(),_x=zd({jsonrpc:Xd(bx),id:Md([Bc(),fd().int()]),error:zd({code:fd().int(),message:Bc(),data:rp($d())})}).strict();Md([xx,zd({jsonrpc:Xd(bx)}).merge(zd({method:Bc(),params:rp(sx)})).strict(),wx,_x]);var kx=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:i,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:a}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=i,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=a}async sendMessages({abortSignal:e,...t}){var n,r,i,o,a;const s=await By(this.body),l=await By(this.headers),u=await By(this.credentials),c=await(null==(n=this.prepareSendMessagesRequest)?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...s,...t.body},headers:{...l,...t.headers},credentials:u,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),d=null!=(r=null==c?void 0:c.api)?r:this.api,p=void 0!==(null==c?void 0:c.headers)?c.headers:{...l,...t.headers},f=void 0!==(null==c?void 0:c.body)?c.body:{...s,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},h=null!=(i=null==c?void 0:c.credentials)?i:u,m=null!=(o=this.fetch)?o:globalThis.fetch,g=await m(d,{method:"POST",headers:{"Content-Type":"application/json",...p},body:JSON.stringify(f),credentials:h,signal:e});if(!g.ok)throw new Error(null!=(a=await g.text())?a:"Failed to fetch the chat response.");if(!g.body)throw new Error("The response body is empty.");return this.processResponseStream(g.body)}async reconnectToStream(e){var t,n,r,i,o;const a=await By(this.body),s=await By(this.headers),l=await By(this.credentials),u=await(null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...a,...e.body},headers:{...s,...e.headers},credentials:l,requestMetadata:e.metadata})),c=null!=(n=null==u?void 0:u.api)?n:`${this.api}/${e.chatId}/stream`,d=void 0!==(null==u?void 0:u.headers)?u.headers:{...s,...e.headers},p=null!=(r=null==u?void 0:u.credentials)?r:l,f=null!=(i=this.fetch)?i:globalThis.fetch,h=await f(c,{method:"GET",headers:d,credentials:p});if(204===h.status)return null;if(!h.ok)throw new Error(null!=(o=await h.text())?o:"Failed to fetch the chat response.");if(!h.body)throw new Error("The response body is empty.");return this.processResponseStream(h.body)}},Sx=class extends kx{constructor(e={}){super(e)}processResponseStream(e){return function({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Oy).pipeThrough(new TransformStream({async transform({data:e},n){"[DONE]"!==e&&n.enqueue(await Zy({text:e,schema:t}))}}))}({stream:e,schema:qb}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}},Ix=class{constructor({generateId:e=zy,id:t=e(),transport:n=new Sx,messageMetadataSchema:r,dataPartSchemas:i,state:o,onError:a,onToolCall:s,onFinish:l,onData:u,sendAutomaticallyWhen:c}){this.activeResponse=void 0,this.jobExecutor=new rx,this.sendMessage=async(e,t)=>{var n,r,i,o;if(null==e)return void(await this.makeRequest({trigger:"submit-message",messageId:null==(n=this.lastMessage)?void 0:n.id,...t}));let a;if("text"in e||"files"in e){const t=Array.isArray(e.files)?e.files:await async function(e){if(null==e)return[];if(!(globalThis.FileList&&e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async e=>{const{name:t,type:n}=e,r=await new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{var n;t(null==(n=e.target)?void 0:n.result)},r.onerror=e=>n(e),r.readAsDataURL(e)});return{type:"file",mediaType:n,filename:t,url:r}}))}(e.files);a={parts:[...t,..."text"in e&&null!=e.text?[{type:"text",text:e.text}]:[]]}}else a=e;if(null!=e.messageId){const t=this.state.messages.findIndex(t=>t.id===e.messageId);if(-1===t)throw new Error(`message with id ${e.messageId} not found`);if("user"!==this.state.messages[t].role)throw new Error(`message with id ${e.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,t+1),this.state.replaceMessage(t,{...a,id:e.messageId,role:null!=(r=a.role)?r:"user",metadata:e.metadata})}else this.state.pushMessage({...a,id:null!=(i=a.id)?i:this.generateId(),role:null!=(o=a.role)?o:"user",metadata:e.metadata});await this.makeRequest({trigger:"submit-message",messageId:e.messageId,...t})},this.regenerate=async({messageId:e,...t}={})=>{const n=null==e?this.state.messages.length-1:this.state.messages.findIndex(t=>t.id===e);if(-1===n)throw new Error(`message ${e} not found`);this.state.messages=this.state.messages.slice(0,"assistant"===this.messages[n].role?n:n+1),await this.makeRequest({trigger:"regenerate-message",messageId:e,...t})},this.resumeStream=async(e={})=>{await this.makeRequest({trigger:"resume-stream",...e})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({tool:e,toolCallId:t,output:n})=>this.jobExecutor.run(async()=>{var e,r;const i=this.state.messages,o=i[i.length-1];this.state.replaceMessage(i.length-1,{...o,parts:o.parts.map(e=>Qb(e)&&e.toolCallId===t?{...e,state:"output-available",output:n}:e)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(e=>Qb(e)&&e.toolCallId===t?{...e,state:"output-available",output:n,errorText:void 0}:e)),"streaming"!==this.status&&"submitted"!==this.status&&(null==(e=this.sendAutomaticallyWhen)?void 0:e.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(r=this.lastMessage)?void 0:r.id})}),this.stop=async()=>{var e;"streaming"!==this.status&&"submitted"!==this.status||(null==(e=this.activeResponse)?void 0:e.abortController)&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=i,this.state=o,this.onError=a,this.onToolCall=s,this.onFinish=l,this.onData=u,this.sendAutomaticallyWhen=c}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:i}){var o,a,s;this.setStatus({status:"submitted",error:void 0});const l=this.lastMessage;try{const a={state:tx({lastMessage:this.state.snapshot(l),messageId:this.generateId()}),abortController:new AbortController};let s;if(this.activeResponse=a,"resume-stream"===e){const e=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(null==e)return void this.setStatus({status:"ready"});s=e}else s=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:a.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:i});const u=e=>this.jobExecutor.run(()=>e({state:a.state,write:()=>{var e;this.setStatus({status:"streaming"});a.state.message.id===(null==(e=this.lastMessage)?void 0:e.id)?this.state.replaceMessage(this.state.messages.length-1,a.state.message):this.state.pushMessage(a.state.message)}}));await async function({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:e}=await n.read();if(e)break}}catch(Sl){null==t||t(Sl)}finally{n.releaseLock()}}({stream:nx({stream:s,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:u,onError:e=>{throw e}}),onError:e=>{throw e}}),null==(o=this.onFinish)||o.call(this,{message:a.state.message}),this.setStatus({status:"ready"})}catch(ZO){if("AbortError"===ZO.name)return this.setStatus({status:"ready"}),null;this.onError&&ZO instanceof Error&&this.onError(ZO),this.setStatus({status:"error",error:ZO})}finally{this.activeResponse=void 0}(null==(a=this.sendAutomaticallyWhen)?void 0:a.call(this,{messages:this.state.messages}))&&await this.makeRequest({trigger:"submit-message",messageId:null==(s=this.lastMessage)?void 0:s.id,metadata:t,headers:n,body:r})}},$x=zd({type:Xd("text"),text:Bc(),state:Gd(["streaming","done"]).optional(),providerMetadata:Db.optional()}),Ex=zd({type:Xd("reasoning"),text:Bc(),state:Gd(["streaming","done"]).optional(),providerMetadata:Db.optional()}),Tx=zd({type:Xd("source-url"),sourceId:Bc(),url:Bc(),title:Bc().optional(),providerMetadata:Db.optional()}),jx=zd({type:Xd("source-document"),sourceId:Bc(),mediaType:Bc(),title:Bc(),filename:Bc().optional(),providerMetadata:Db.optional()}),Nx=zd({type:Xd("file"),mediaType:Bc(),filename:Bc().optional(),url:Bc(),providerMetadata:Db.optional()}),Cx=zd({type:Xd("step-start")}),Ox=zd({type:Bc().startsWith("data-"),id:Bc().optional(),data:$d()}),Ax=[zd({type:Xd("dynamic-tool"),toolName:Bc(),toolCallId:Bc(),state:Xd("input-streaming"),input:$d().optional(),output:Td().optional(),errorText:Td().optional()}),zd({type:Xd("dynamic-tool"),toolName:Bc(),toolCallId:Bc(),state:Xd("input-available"),input:$d(),output:Td().optional(),errorText:Td().optional(),callProviderMetadata:Db.optional()}),zd({type:Xd("dynamic-tool"),toolName:Bc(),toolCallId:Bc(),state:Xd("output-available"),input:$d(),output:$d(),errorText:Td().optional(),callProviderMetadata:Db.optional(),preliminary:vd().optional()}),zd({type:Xd("dynamic-tool"),toolName:Bc(),toolCallId:Bc(),state:Xd("output-error"),input:$d(),output:Td().optional(),errorText:Bc(),callProviderMetadata:Db.optional()})],zx=[zd({type:Bc().startsWith("tool-"),toolCallId:Bc(),state:Xd("input-streaming"),input:$d().optional(),output:Td().optional(),errorText:Td().optional()}),zd({type:Bc().startsWith("tool-"),toolCallId:Bc(),state:Xd("input-available"),input:$d(),output:Td().optional(),errorText:Td().optional(),callProviderMetadata:Db.optional()}),zd({type:Bc().startsWith("tool-"),toolCallId:Bc(),state:Xd("output-available"),input:$d(),output:$d(),errorText:Td().optional(),callProviderMetadata:Db.optional(),preliminary:vd().optional()}),zd({type:Bc().startsWith("tool-"),toolCallId:Bc(),state:Xd("output-error"),input:$d(),output:Td().optional(),errorText:Bc(),callProviderMetadata:Db.optional()})];zd({id:Bc(),role:Gd(["system","user","assistant"]),metadata:$d().optional(),parts:Od(Md([$x,Ex,Tx,jx,Nx,Cx,Ox,...Ax,...zx]))});var Px=async e=>{const t=[{type:"text",text:e.content.filter(e=>"text"===e.type).map(e=>e.text).join("\n\n")}],n=e.content.filter(e=>"image"===e.type).map(e=>({type:"file",mediaType:"image/png",url:e.image}));t.push(...n);const r=await Promise.all((e.attachments??[]).map(async e=>{if(null==e.file)throw new Error("Attachment did not contain a file");return{type:"file",mediaType:e.file.type,filename:e.file.name,url:await Rx(e.file)}}));return t.push(...r),{id:zy(),role:e.role,parts:t}},Rx=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}),Dx={accept:"image/*, text/plain, text/html, text/markdown, text/csv, text/xml, text/json, text/css",add:async({file:e})=>({id:zy(),type:"file",name:e.name,file:e,contentType:e.type,content:[],status:{type:"requires-action",reason:"composer-send"}}),send:async e=>({...e,status:{type:"complete"},content:[]}),async remove(){}},Mx=e=>Ne(e),Ux=e=>e.parts&&0!==e.parts.length?e.parts.filter(e=>"step-start"!==e.type).map(e=>{const t=e.type;if("text"===t)return{type:"text",text:e.text};if("reasoning"===t)return{type:"reasoning",text:e.text};if(Xb(e)){const n=t.replace("tool-",""),r=e.toolCallId;let i,o={},a=!1;return"input-streaming"===e.state||"input-available"===e.state?o=e.input||{}:"output-available"===e.state?(o=e.input||{},i=e.output):"output-error"===e.state&&(o=e.input||{},a=!0,i={error:e.errorText}),{type:"tool-call",toolName:n,toolCallId:r,argsText:JSON.stringify(o),args:o,result:i,isError:a}}if("dynamic-tool"===t){const t=e.toolName,n=e.toolCallId;let r,i={},o=!1;return"input-streaming"===e.state||"input-available"===e.state?i=e.input||{}:"output-available"===e.state?(i=e.input||{},r=e.output):"output-error"===e.state&&(i=e.input||{},o=!0,r={error:e.errorText}),{type:"tool-call",toolName:t,toolCallId:n,argsText:JSON.stringify(i),args:i,result:r,isError:o}}return"source-url"===t?{type:"source",sourceType:"url",id:e.sourceId,url:e.url,title:e.title||""}:"source-document"===t?(console.warn(`Source document part type ${t} is not yet supported in conversion`),null):"file"===t?{type:"file",data:e.url,mimeType:e.mediaType}:t.startsWith("data-")?(console.warn(`Data part type ${t} is not yet supported in conversion`),null):(console.warn(`Unsupported message part type: ${t}`),null)}).filter(Boolean):[],Lx=(e=>{const t={useThreadMessages:({messages:t,isRunning:n,joinStrategy:r})=>(({callback:e,messages:t,isRunning:n,joinStrategy:r})=>{const i=V.useMemo(()=>({callback:e,callbackCache:new WeakMap,chunkCache:new WeakMap,converterCache:new vt}),[e]);return V.useMemo(()=>{const e=[];for(const n of t){let t=i.callbackCache.get(n);if(!t){const e=i.callback(n);t={input:n,outputs:Array.isArray(e)?e:[e]},i.callbackCache.set(n,t)}e.push(t)}const o=It(e,r).map(e=>{const t=e.outputs[0];if(!t)return e;const n=i.chunkCache.get(t);return n&&$t(n.outputs,e.outputs)?n:(i.chunkCache.set(t,e),e)}),a=i.converterCache.convertMessages(o,(e,t,r)=>{const i=r===o.length-1,a=St(t.outputs),s="object"==typeof a.content&&a.content.some(e=>"tool-call"===e.type&&void 0===e.result),l=oe(i,n,s);if(e&&("assistant"!==e.role||!ie(e.status)||e.status===l)){const n=Ne(e);if($t(n,t.inputs))return e}const u=ge(a,r.toString(),l);return u[$e]=t.inputs,u});return a[$e]=t,a},[i,t,n,r])})({callback:e,messages:t,isRunning:n,joinStrategy:r}),toThreadMessages:t=>((e,t,n)=>{const r=[];for(const o of e){const e=t(o),n={input:o,outputs:Array.isArray(e)?e:[e]};r.push(n)}const i=It(r);return i.map((e,t)=>{const r=t===i.length-1,o=St(e.outputs),a="object"==typeof o.content&&o.content.some(e=>"tool-call"===e.type&&void 0===e.result),s=oe(r,n,a),l=ge(o,t.toString(),s);return l[$e]=e.inputs,l})})(t,e,!1),toOriginalMessages:e=>{const t=Ne(e);if(0===t.length)throw new Error("No original messages found");return t},toOriginalMessage:e=>t.toOriginalMessages(e)[0],useOriginalMessage:()=>t.useOriginalMessages()[0],useOriginalMessages:()=>{const e=un({optional:!0,selector:Ne}),t=gn(Ne),n=e??t;if(0===n.length)throw new Error("No original messages found");return n}};return t})(e=>{const t=new Date;switch(e.role){case"user":return{role:"user",id:e.id,createdAt:t,content:Ux(e),attachments:e.parts?.filter(e=>"file"===e.type).map((e,t)=>({id:t.toString(),type:"file",name:e.name??e.url??"file",content:[],contentType:e.mediaType??e.mimeType??"unknown/unknown",status:{type:"complete"}}))};case"system":return{role:"system",id:e.id,createdAt:t,content:Ux(e)};case"assistant":return{role:"assistant",id:e.id,createdAt:t,content:Ux(e),metadata:{unstable_annotations:e.annotations,unstable_data:Array.isArray(e.data)?e.data:e.data?[e.data]:void 0,custom:{}}};default:return console.warn(`Unsupported message role: ${e.role}`),[]}}),Fx={format:"ai-sdk/v5",encode:({message:{id:e,parts:t,...n}})=>({...n,parts:t.filter(e=>"file"!==e.type)}),decode:e=>({parentId:e.parent_id,message:{id:e.id,...e.content}}),getId:e=>e.id},{MessageRepository:Zx}=Ln,Bx=(e,t,n,r,i)=>{const o=V.useRef(!1),[a,s]=V.useState(!0),l=V.useRef(new Set),u=V.useRef(()=>i);return V.useEffect(()=>{u.current=i}),V.useEffect(()=>{if(!t||o.current)return;o.current||(o.current=!0,(async()=>{s(!0);try{const i=await(t.withFormat?.(r).load());if(i&&i.messages.length>0){const t=((e,t)=>({headId:t.headId,messages:t.messages.map(t=>{const n=e([t.message])[0];return{...t,message:n}})}))(n,i);e.current.thread.import(t);const r=new Zx;r.import(t);const o=r.getMessages();u.current(o.map(Ne).flat()),l.current=new Set(t.messages.map(e=>e.message.id))}}catch(Sl){console.error("Failed to load message history:",Sl)}finally{s(!1)}})())},[t,r,n,e]),V.useEffect(()=>e.current.thread.subscribe(async()=>{const{messages:n,isRunning:i}=e.current.thread.getState();if(!i)for(let e=0;e<n.length;e++){const i=n[e];if(void 0===i.status||"complete"===i.status.type||"incomplete"===i.status.type){if(l.current.has(i.id))return;l.current.add(i.id);const o=e>0?n[e-1].id:null;await(t?.withFormat?.(r).append({parentId:o,message:Ne(i)[0]}))}}}),[t,r,e]),a},Vx=(e,t={})=>{const n=Lx.useThreadMessages({isRunning:"submitted"===e.status||"streaming"==e.status,messages:e.messages}),r=Bx(V.useMemo(()=>({get current(){return i}}),[]),t.adapters?.history,Lx.toThreadMessages,Fx,t=>{e.setMessages(t)}),i=(e=>{const[t]=V.useState(()=>new kt(e));V.useEffect(()=>{t.setAdapter(e)});const{modelContext:n}=ct()??{};return V.useEffect(()=>{if(n)return t.registerModelContextProvider(n)},[n,t]),V.useMemo(()=>new Nn(t),[t])})({isRunning:"submitted"===e.status||"streaming"===e.status,messages:n,setMessages:t=>e.setMessages(t.map(Mx).flat()),onCancel:async()=>e.stop(),onNew:async t=>{const n=await Px(t);await e.sendMessage(n,{metadata:t.runConfig})},onEdit:async t=>{const n=ay(e.messages,t.parentId);e.setMessages(n);const r=await Px(t);await e.sendMessage(r,{metadata:t.runConfig})},onReload:async(t,n)=>{const r=ay(e.messages,t);e.setMessages(r),await e.regenerate({metadata:n.runConfig})},onAddToolResult:({toolCallId:t,result:n})=>{e.addToolResult({tool:t,toolCallId:t,output:n})},adapters:{attachments:Dx,...t.adapters},isLoading:r});return i};const Wx=r(function(e,t){if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...i){clearTimeout(n);const o=Date.now(),a=t-(o-r);a<=0?(r=o,e.apply(this,i)):n=setTimeout(()=>{r=Date.now(),e.apply(this,i)},a)}});var Jx,Hx,qx,Kx,Gx,Yx,Xx,Qx,ew,tw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},nw=(e,t,n)=>(tw(e,t,"read from private field"),n?n.call(e):t.get(e)),rw=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},iw=(e,t,n,r)=>(tw(e,t,"write to private field"),t.set(e,n),n);var ow,aw=class{constructor(e=[]){rw(this,Jx,void 0),rw(this,Hx,"ready"),rw(this,qx,void 0),rw(this,Kx,new Set),rw(this,Gx,new Set),rw(this,Yx,new Set),this.pushMessage=e=>{iw(this,Jx,nw(this,Jx).concat(e)),nw(this,Xx).call(this)},this.popMessage=()=>{iw(this,Jx,nw(this,Jx).slice(0,-1)),nw(this,Xx).call(this)},this.replaceMessage=(e,t)=>{iw(this,Jx,[...nw(this,Jx).slice(0,e),this.snapshot(t),...nw(this,Jx).slice(e+1)]),nw(this,Xx).call(this)},this.snapshot=e=>structuredClone(e),this["~registerMessagesCallback"]=(e,t)=>{const n=t?(r=e,null!=(i=t)?Wx(r,i):r):e;var r,i;return nw(this,Kx).add(n),()=>{nw(this,Kx).delete(n)}},this["~registerStatusCallback"]=e=>(nw(this,Gx).add(e),()=>{nw(this,Gx).delete(e)}),this["~registerErrorCallback"]=e=>(nw(this,Yx).add(e),()=>{nw(this,Yx).delete(e)}),rw(this,Xx,()=>{nw(this,Kx).forEach(e=>e())}),rw(this,Qx,()=>{nw(this,Gx).forEach(e=>e())}),rw(this,ew,()=>{nw(this,Yx).forEach(e=>e())}),iw(this,Jx,e)}get status(){return nw(this,Hx)}set status(e){iw(this,Hx,e),nw(this,Qx).call(this)}get error(){return nw(this,qx)}set error(e){iw(this,qx,e),nw(this,ew).call(this)}get messages(){return nw(this,Jx)}set messages(e){iw(this,Jx,[...e]),nw(this,Xx).call(this)}};Jx=new WeakMap,Hx=new WeakMap,qx=new WeakMap,Kx=new WeakMap,Gx=new WeakMap,Yx=new WeakMap,Xx=new WeakMap,Qx=new WeakMap,ew=new WeakMap;var sw=class extends Ix{constructor({messages:e,...t}){const n=new aw(e);super({...t,state:n}),rw(this,ow,void 0),this["~registerMessagesCallback"]=(e,t)=>nw(this,ow)["~registerMessagesCallback"](e,t),this["~registerStatusCallback"]=e=>nw(this,ow)["~registerStatusCallback"](e),this["~registerErrorCallback"]=e=>nw(this,ow)["~registerErrorCallback"](e),iw(this,ow,n)}};ow=new WeakMap;var lw=e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{...t.description?{description:t.description}:void 0,parameters:t.parameters instanceof zp.ZodType?zp.toJSONSchema(t.parameters):t.parameters}])),uw=class extends Sx{runtime;constructor(e){super({...e,prepareSendMessagesRequest:async t=>{const n=this.runtime?.thread.getModelContext(),r={...t,body:{callSettings:n?.callSettings,system:n?.system,tools:lw((i=n?.tools??{},Object.fromEntries(Object.entries(i).filter(([,e])=>!e.disabled&&"backend"!==e.type)))),...t?.body}};var i;const o=await(e?.prepareSendMessagesRequest?.(r));return{...o,body:o?.body??{...r.body,id:t.id,messages:t.messages,trigger:t.trigger,messageId:t.messageId}}}})}setRuntime(e){this.runtime=e}},cw=e=>{const{adapters:t,transport:n,...r}=e??{},i=n??new uw,o=ct(),a=function({experimental_throttle:e,resume:t=!1,...n}={}){const r=V.useRef("chat"in n?n.chat:new sw(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new sw(n));const i="id"in n?n.id:null,o=V.useCallback(t=>r.current["~registerMessagesCallback"](t,e),[e,i]),a=V.useSyncExternalStore(o,()=>r.current.messages,()=>r.current.messages),s=V.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),l=V.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),u=V.useCallback(e=>{"function"==typeof e&&(e=e(r.current.messages)),r.current.messages=e},[r]);return V.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:a,setMessages:u,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:l,resumeStream:r.current.resumeStream,status:s,addToolResult:r.current.addToolResult}}({...r,transport:i,onToolCall:async({toolCall:e})=>{await(r.onToolCall?.({toolCall:e}));const t=s.thread.getModelContext().tools,n=t?.[e.toolName];if(n)try{const t=await(n.execute?.(e.input,{toolCallId:e.toolCallId,abortSignal:(new AbortController).signal}));a.addToolResult({tool:e.toolName,toolCallId:e.toolCallId,output:t})}catch(Sl){a.addToolResult({tool:e.toolName,toolCallId:e.toolCallId,output:{error:Sl instanceof Error?Sl.message:String(Sl)}})}}}),s=Vx(a,{adapters:{...o,...t}});return i instanceof uw&&i.setRuntime(s),s},dw=({cloud:e,...t}={})=>(e=>{const[t]=V.useState(()=>new Gn(e));return V.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),V.useMemo(()=>new Nn(t),[t])})({runtimeHook:function(){return cw(t)},adapter:jn({cloud:e})});
/**
	 * @license lucide-react v0.511.0 - ISC
	 *
	 * This source code is licensed under the ISC license.
	 * See the LICENSE file in the root directory of this source tree.
	 */
const pw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fw=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},hw=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),mw=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
	 * @license lucide-react v0.511.0 - ISC
	 *
	 * This source code is licensed under the ISC license.
	 * See the LICENSE file in the root directory of this source tree.
	 */
var gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
	 * @license lucide-react v0.511.0 - ISC
	 *
	 * This source code is licensed under the ISC license.
	 * See the LICENSE file in the root directory of this source tree.
	 */const vw=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>V.createElement("svg",{ref:l,...gw,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:hw("lucide",i),...!o&&!mw(s)&&{"aria-hidden":"true"},...s},[...a.map(([e,t])=>V.createElement(e,t)),...Array.isArray(o)?o:[o]])),yw=(e,t)=>{const n=V.forwardRef(({className:n,...r},i)=>V.createElement(vw,{ref:i,iconNode:t,className:hw(`lucide-${pw(fw(e))}`,`lucide-${e}`,n),...r}));return n.displayName=fw(e),n},bw=yw("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),xw=yw("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),ww=yw("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),_w=yw("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),kw=yw("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Sw=yw("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Iw=yw("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$w=yw("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ew=yw("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),Tw=yw("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),jw=yw("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nw=yw("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Cw=yw("send-horizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Ow=yw("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
	 * @license lucide-react v0.511.0 - ISC
	 *
	 * This source code is licensed under the ISC license.
	 * See the LICENSE file in the root directory of this source tree.
	 */function Aw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Aw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zw(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Aw(e))&&(r&&(r+=" "),r+=t);return r}const Pw=e=>{const t=Uw(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Rw(n,t)||Mw(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},Rw=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Rw(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return t.validators.find(({validator:e})=>e(o))?.classGroupId},Dw=/^\[(.+)\]$/,Mw=e=>{if(Dw.test(e)){const t=Dw.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Uw=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Lw(n[i],r,i,t);return r},Lw=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Fw(t,e)).classGroupId=n)}if("function"==typeof e)return Zw(e)?void Lw(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,i])=>{Lw(i,Fw(t,e),n,r)})})},Fw=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Zw=e=>e.isThemeGetter,Bw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Vw=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,o=0;for(let l=0;l<e.length;l++){let a=e[l];if(0===r&&0===i){if(":"===a){t.push(e.slice(o,l)),o=l+1;continue}if("/"===a){n=l;continue}}"["===a?r++:"]"===a?r--:"("===a?i++:")"===a&&i--}const a=0===t.length?e:e.substring(o),s=Ww(a);return{modifiers:t,hasImportantModifier:s!==a,baseClassName:s,maybePostfixModifierPosition:n&&n>o?n-o:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},Ww=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Jw=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},Hw=/\s+/;function qw(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Kw(e))&&(r&&(r+=" "),r+=t);return r}const Kw=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Kw(e[r]))&&(n&&(n+=" "),n+=t);return n};function Gw(e,...t){let n,r,i,o=function(s){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Bw(e.cacheSize),parseClassName:Vw(e),sortModifiers:Jw(e),...Pw(e)}))(l),r=n.cache.get,i=n.cache.set,o=a,a(s)};function a(e){const t=r(e);if(t)return t;const o=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(Hw);let l="";for(let u=s.length-1;u>=0;u-=1){const e=s[u],{isExternal:t,modifiers:c,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let h=!!f,m=r(h?p.substring(0,f):p);if(!m){if(!h){l=e+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=e+(l.length>0?" "+l:l);continue}h=!1}const g=o(c).join(":"),v=d?g+"!":g,y=v+m;if(a.includes(y))continue;a.push(y);const b=i(m,h);for(let n=0;n<b.length;++n){const e=b[n];a.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,o),o}return function(){return o(qw.apply(null,arguments))}}const Yw=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Xw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Qw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e_=/^\d+\/\d+$/,t_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,i_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,a_=e=>e_.test(e),s_=e=>!!e&&!Number.isNaN(Number(e)),l_=e=>!!e&&Number.isInteger(Number(e)),u_=e=>e.endsWith("%")&&s_(e.slice(0,-1)),c_=e=>t_.test(e),d_=()=>!0,p_=e=>n_.test(e)&&!r_.test(e),f_=()=>!1,h_=e=>i_.test(e),m_=e=>o_.test(e),g_=e=>!y_(e)&&!S_(e),v_=e=>C_(e,P_,f_),y_=e=>Xw.test(e),b_=e=>C_(e,R_,p_),x_=e=>C_(e,D_,s_),w_=e=>C_(e,A_,f_),__=e=>C_(e,z_,m_),k_=e=>C_(e,U_,h_),S_=e=>Qw.test(e),I_=e=>O_(e,R_),$_=e=>O_(e,M_),E_=e=>O_(e,A_),T_=e=>O_(e,P_),j_=e=>O_(e,z_),N_=e=>O_(e,U_,!0),C_=(e,t,n)=>{const r=Xw.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},O_=(e,t,n=!1)=>{const r=Qw.exec(e);return!!r&&(r[1]?t(r[1]):n)},A_=e=>"position"===e||"percentage"===e,z_=e=>"image"===e||"url"===e,P_=e=>"length"===e||"size"===e||"bg-size"===e,R_=e=>"length"===e,D_=e=>"number"===e,M_=e=>"family-name"===e,U_=e=>"shadow"===e,L_=Gw(()=>{const e=Yw("color"),t=Yw("font"),n=Yw("text"),r=Yw("font-weight"),i=Yw("tracking"),o=Yw("leading"),a=Yw("breakpoint"),s=Yw("container"),l=Yw("spacing"),u=Yw("radius"),c=Yw("shadow"),d=Yw("inset-shadow"),p=Yw("text-shadow"),f=Yw("drop-shadow"),h=Yw("blur"),m=Yw("perspective"),g=Yw("aspect"),v=Yw("ease"),y=Yw("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",S_,y_],x=()=>[S_,y_,l],w=()=>[a_,"full","auto",...x()],_=()=>[l_,"none","subgrid",S_,y_],k=()=>["auto",{span:["full",l_,S_,y_]},l_,S_,y_],S=()=>[l_,"auto",S_,y_],I=()=>["auto","min","max","fr",S_,y_],$=()=>["auto",...x()],E=()=>[a_,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],T=()=>[e,S_,y_],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",E_,w_,{position:[S_,y_]}],N=()=>["auto","cover","contain",T_,v_,{size:[S_,y_]}],C=()=>[u_,I_,b_],O=()=>["","none","full",u,S_,y_],A=()=>["",s_,I_,b_],z=()=>[s_,u_,E_,w_],P=()=>["","none",h,S_,y_],R=()=>["none",s_,S_,y_],D=()=>["none",s_,S_,y_],M=()=>[s_,S_,y_],U=()=>[a_,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[c_],breakpoint:[c_],color:[d_],container:[c_],"drop-shadow":[c_],ease:["in","out","in-out"],font:[g_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[c_],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[c_],shadow:[c_],spacing:["px",s_],text:[c_],"text-shadow":[c_],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",a_,y_,S_,g]}],container:["container"],columns:[{columns:[s_,y_,S_,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[l_,"auto",S_,y_]}],basis:[{basis:[a_,"full","auto",s,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[s_,a_,"auto","initial","none",y_]}],grow:[{grow:["",s_,S_,y_]}],shrink:[{shrink:["",s_,S_,y_]}],order:[{order:[l_,"first","last","none",S_,y_]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",n,I_,b_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,S_,x_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",u_,y_]}],"font-family":[{font:[$_,y_,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,S_,y_]}],"line-clamp":[{"line-clamp":[s_,"none",S_,x_]}],leading:[{leading:[o,...x()]}],"list-image":[{"list-image":["none",S_,y_]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",S_,y_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[s_,"from-font","auto",S_,b_]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[s_,"auto",S_,y_]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",S_,y_]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",S_,y_]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},l_,S_,y_],radial:["",S_,y_],conic:[l_,S_,y_]},j_,__]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:C()}],"gradient-via-pos":[{via:C()}],"gradient-to-pos":[{to:C()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[s_,S_,y_]}],"outline-w":[{outline:["",s_,I_,b_]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",c,N_,k_]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,N_,k_]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[s_,b_]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,N_,k_]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[s_,S_,y_]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[s_]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[S_,y_]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[s_]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",S_,y_]}],filter:[{filter:["","none",S_,y_]}],blur:[{blur:P()}],brightness:[{brightness:[s_,S_,y_]}],contrast:[{contrast:[s_,S_,y_]}],"drop-shadow":[{"drop-shadow":["","none",f,N_,k_]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",s_,S_,y_]}],"hue-rotate":[{"hue-rotate":[s_,S_,y_]}],invert:[{invert:["",s_,S_,y_]}],saturate:[{saturate:[s_,S_,y_]}],sepia:[{sepia:["",s_,S_,y_]}],"backdrop-filter":[{"backdrop-filter":["","none",S_,y_]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[s_,S_,y_]}],"backdrop-contrast":[{"backdrop-contrast":[s_,S_,y_]}],"backdrop-grayscale":[{"backdrop-grayscale":["",s_,S_,y_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[s_,S_,y_]}],"backdrop-invert":[{"backdrop-invert":["",s_,S_,y_]}],"backdrop-opacity":[{"backdrop-opacity":[s_,S_,y_]}],"backdrop-saturate":[{"backdrop-saturate":[s_,S_,y_]}],"backdrop-sepia":[{"backdrop-sepia":["",s_,S_,y_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",S_,y_]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[s_,"initial",S_,y_]}],ease:[{ease:["linear","initial",v,S_,y_]}],delay:[{delay:[s_,S_,y_]}],animate:[{animate:["none",y,S_,y_]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,S_,y_]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:D()}],"scale-x":[{"scale-x":D()}],"scale-y":[{"scale-y":D()}],"scale-z":[{"scale-z":D()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[S_,y_,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",S_,y_]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",S_,y_]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[s_,I_,b_,x_]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function F_(...e){return L_(zw(e))}const Z_=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,B_=zw,V_=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return B_(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;const a=Z_(t)||Z_(r);return i[e][a]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...s}[t]):{...o,...s}[t]===n})?[...e,n,r]:e},[]);return B_(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},W_=V_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function J_({className:e,variant:t,size:n,asChild:r=!1,...i}){const o=r?Gp:"button";return u.jsx(o,{"data-slot":"button",className:F_(W_({variant:t,size:n,className:e})),...i})}function H_(){}function q_(){}const K_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Y_={};function X_(e,t){return(Y_.jsx?G_:K_).test(e)}const Q_=/[ \t\n\f\r]/g;function ek(e){return""===e.replace(Q_,"")}class tk{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function nk(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new tk(n,r,t)}function rk(e){return e.toLowerCase()}tk.prototype.normal={},tk.prototype.property={},tk.prototype.space=void 0;class ik{constructor(e,t){this.attribute=t,this.property=e}}ik.prototype.attribute="",ik.prototype.booleanish=!1,ik.prototype.boolean=!1,ik.prototype.commaOrSpaceSeparated=!1,ik.prototype.commaSeparated=!1,ik.prototype.defined=!1,ik.prototype.mustUseProperty=!1,ik.prototype.number=!1,ik.prototype.overloadedBoolean=!1,ik.prototype.property="",ik.prototype.spaceSeparated=!1,ik.prototype.space=void 0;let ok=0;const ak=fk(),sk=fk(),lk=fk(),uk=fk(),ck=fk(),dk=fk(),pk=fk();function fk(){return 2**++ok}const hk=Object.freeze(Object.defineProperty({__proto__:null,boolean:ak,booleanish:sk,commaOrSpaceSeparated:pk,commaSeparated:dk,number:uk,overloadedBoolean:lk,spaceSeparated:ck},Symbol.toStringTag,{value:"Module"})),mk=Object.keys(hk);class gk extends ik{constructor(e,t,n,r){let i=-1;if(super(e,t),vk(this,"space",r),"number"==typeof n)for(;++i<mk.length;){const e=mk[i];vk(this,mk[i],(n&hk[e])===hk[e])}}}function vk(e,t,n){n&&(e[t]=n)}function yk(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new gk(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[rk(r)]=r,n[rk(o.attribute)]=r}return new tk(t,n,e.space)}gk.prototype.defined=!0;const bk=yk({properties:{ariaActiveDescendant:null,ariaAtomic:sk,ariaAutoComplete:null,ariaBusy:sk,ariaChecked:sk,ariaColCount:uk,ariaColIndex:uk,ariaColSpan:uk,ariaControls:ck,ariaCurrent:null,ariaDescribedBy:ck,ariaDetails:null,ariaDisabled:sk,ariaDropEffect:ck,ariaErrorMessage:null,ariaExpanded:sk,ariaFlowTo:ck,ariaGrabbed:sk,ariaHasPopup:null,ariaHidden:sk,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ck,ariaLevel:uk,ariaLive:null,ariaModal:sk,ariaMultiLine:sk,ariaMultiSelectable:sk,ariaOrientation:null,ariaOwns:ck,ariaPlaceholder:null,ariaPosInSet:uk,ariaPressed:sk,ariaReadOnly:sk,ariaRelevant:null,ariaRequired:sk,ariaRoleDescription:ck,ariaRowCount:uk,ariaRowIndex:uk,ariaRowSpan:uk,ariaSelected:sk,ariaSetSize:uk,ariaSort:null,ariaValueMax:uk,ariaValueMin:uk,ariaValueNow:uk,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function xk(e,t){return t in e?e[t]:t}function wk(e,t){return xk(e,t.toLowerCase())}const _k=yk({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dk,acceptCharset:ck,accessKey:ck,action:null,allow:null,allowFullScreen:ak,allowPaymentRequest:ak,allowUserMedia:ak,alt:null,as:null,async:ak,autoCapitalize:null,autoComplete:ck,autoFocus:ak,autoPlay:ak,blocking:ck,capture:null,charSet:null,checked:ak,cite:null,className:ck,cols:uk,colSpan:null,content:null,contentEditable:sk,controls:ak,controlsList:ck,coords:uk|dk,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ak,defer:ak,dir:null,dirName:null,disabled:ak,download:lk,draggable:sk,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ak,formTarget:null,headers:ck,height:uk,hidden:lk,high:uk,href:null,hrefLang:null,htmlFor:ck,httpEquiv:ck,id:null,imageSizes:null,imageSrcSet:null,inert:ak,inputMode:null,integrity:null,is:null,isMap:ak,itemId:null,itemProp:ck,itemRef:ck,itemScope:ak,itemType:ck,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ak,low:uk,manifest:null,max:null,maxLength:uk,media:null,method:null,min:null,minLength:uk,multiple:ak,muted:ak,name:null,nonce:null,noModule:ak,noValidate:ak,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ak,optimum:uk,pattern:null,ping:ck,placeholder:null,playsInline:ak,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ak,referrerPolicy:null,rel:ck,required:ak,reversed:ak,rows:uk,rowSpan:uk,sandbox:ck,scope:null,scoped:ak,seamless:ak,selected:ak,shadowRootClonable:ak,shadowRootDelegatesFocus:ak,shadowRootMode:null,shape:null,size:uk,sizes:null,slot:null,span:uk,spellCheck:sk,src:null,srcDoc:null,srcLang:null,srcSet:null,start:uk,step:null,style:null,tabIndex:uk,target:null,title:null,translate:null,type:null,typeMustMatch:ak,useMap:null,value:sk,width:uk,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ck,axis:null,background:null,bgColor:null,border:uk,borderColor:null,bottomMargin:uk,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ak,declare:ak,event:null,face:null,frame:null,frameBorder:null,hSpace:uk,leftMargin:uk,link:null,longDesc:null,lowSrc:null,marginHeight:uk,marginWidth:uk,noResize:ak,noHref:ak,noShade:ak,noWrap:ak,object:null,profile:null,prompt:null,rev:null,rightMargin:uk,rules:null,scheme:null,scrolling:sk,standby:null,summary:null,text:null,topMargin:uk,valueType:null,version:null,vAlign:null,vLink:null,vSpace:uk,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ak,disableRemotePlayback:ak,prefix:null,property:null,results:uk,security:null,unselectable:null},space:"html",transform:wk}),kk=yk({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pk,accentHeight:uk,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:uk,amplitude:uk,arabicForm:null,ascent:uk,attributeName:null,attributeType:null,azimuth:uk,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:uk,by:null,calcMode:null,capHeight:uk,className:ck,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:uk,diffuseConstant:uk,direction:null,display:null,dur:null,divisor:uk,dominantBaseline:null,download:ak,dx:null,dy:null,edgeMode:null,editable:null,elevation:uk,enableBackground:null,end:null,event:null,exponent:uk,externalResourcesRequired:null,fill:null,fillOpacity:uk,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dk,g2:dk,glyphName:dk,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:uk,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:uk,horizOriginX:uk,horizOriginY:uk,id:null,ideographic:uk,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:uk,k:uk,k1:uk,k2:uk,k3:uk,k4:uk,kernelMatrix:pk,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:uk,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:uk,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:uk,overlineThickness:uk,paintOrder:null,panose1:null,path:null,pathLength:uk,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ck,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:uk,pointsAtY:uk,pointsAtZ:uk,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pk,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pk,rev:pk,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pk,requiredFeatures:pk,requiredFonts:pk,requiredFormats:pk,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:uk,specularExponent:uk,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:uk,strikethroughThickness:uk,string:null,stroke:null,strokeDashArray:pk,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:uk,strokeOpacity:uk,strokeWidth:null,style:null,surfaceScale:uk,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pk,tabIndex:uk,tableValues:null,target:null,targetX:uk,targetY:uk,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pk,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:uk,underlineThickness:uk,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:uk,values:null,vAlphabetic:uk,vMathematical:uk,vectorEffect:null,vHanging:uk,vIdeographic:uk,version:null,vertAdvY:uk,vertOriginX:uk,vertOriginY:uk,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:uk,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xk}),Sk=yk({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),Ik=yk({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wk}),$k=yk({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Ek={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Tk=/[A-Z]/g,jk=/-[a-z]/g,Nk=/^data[-\w.:]+$/i;function Ck(e){return"-"+e.toLowerCase()}function Ok(e){return e.charAt(1).toUpperCase()}const Ak=nk([bk,_k,Sk,Ik,$k],"html"),zk=nk([bk,kk,Sk,Ik,$k],"svg");var Pk={},Rk=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Dk=/\n/g,Mk=/^\s*/,Uk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Lk=/^:\s*/,Fk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Zk=/^[;\s]*/,Bk=/^\s+|\s+$/g,Vk="";function Wk(e){return e?e.replace(Bk,Vk):Vk}var Jk=n&&n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pk,"__esModule",{value:!0}),Pk.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,Hk.default)(e),i="function"==typeof t;return r.forEach(function(e){if("declaration"===e.type){var r=e.property,o=e.value;i?t(r,o,e):o&&((n=n||{})[r]=o)}}),n};var Hk=Jk(function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(e){var t=e.match(Dk);t&&(n+=t.length);var i=e.lastIndexOf("\n");r=~i?e.length-i:r+e.length}function o(){var e={line:n,column:r};return function(t){return t.position=new a(e),u(),t}}function a(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function s(i){var o=new Error(t.source+":"+n+":"+r+": "+i);if(o.reason=i,o.filename=t.source,o.line=n,o.column=r,o.source=e,!t.silent)throw o}function l(t){var n=t.exec(e);if(n){var r=n[0];return i(r),e=e.slice(r.length),n}}function u(){l(Mk)}function c(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=o();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;Vk!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,Vk===e.charAt(n-1))return s("End of comment missing");var a=e.slice(2,n-2);return r+=2,i(a),e=e.slice(n),r+=2,t({type:"comment",comment:a})}}function p(){var e=o(),t=l(Uk);if(t){if(d(),!l(Lk))return s("property missing ':'");var n=l(Fk),r=e({type:"declaration",property:Wk(t[0].replace(Rk,Vk)),value:n?Wk(n[0].replace(Rk,Vk)):Vk});return l(Zk),r}}return a.prototype.content=e,u(),function(){var e,t=[];for(c(t);e=p();)!1!==e&&(t.push(e),c(t));return t}()});var qk={};Object.defineProperty(qk,"__esModule",{value:!0}),qk.camelCase=void 0;var Kk=/^--[a-zA-Z0-9_-]+$/,Gk=/-([a-z])/g,Yk=/^[^-]+$/,Xk=/^-(webkit|moz|ms|o|khtml)-/,Qk=/^-(ms)-/,eS=function(e,t){return t.toUpperCase()},tS=function(e,t){return"".concat(t,"-")};qk.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||Yk.test(e)||Kk.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(Qk,tS):e.replace(Xk,tS)).replace(Gk,eS))};var nS=(n&&n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(Pk),rS=qk;function iS(e,t){var n={};return e&&"string"==typeof e?((0,nS.default)(e,function(e,r){e&&r&&(n[(0,rS.camelCase)(e,t)]=r)}),n):n}iS.default=iS;const oS=r(iS),aS=lS("end"),sS=lS("start");function lS(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function uS(e){return e&&"object"==typeof e?"position"in e||"type"in e?dS(e.position):"start"in e||"end"in e?dS(e):"line"in e||"column"in e?cS(e):"":""}function cS(e){return pS(e&&e.line)+":"+pS(e&&e.column)}function dS(e){return cS(e&&e.start)+"-"+cS(e&&e.end)}function pS(e){return e&&"number"==typeof e?e:1}class fS extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},o=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(o=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=uS(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fS.prototype.file="",fS.prototype.name="",fS.prototype.reason="",fS.prototype.message="",fS.prototype.stack="",fS.prototype.column=void 0,fS.prototype.line=void 0,fS.prototype.ancestors=void 0,fS.prototype.cause=void 0,fS.prototype.fatal=void 0,fS.prototype.place=void 0,fS.prototype.ruleId=void 0,fS.prototype.source=void 0;const hS={}.hasOwnProperty,mS=new Map,gS=/[A-Z]/g,vS=new Set(["table","tbody","thead","tfoot","tr"]),yS=new Set(["td","th"]),bS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xS(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,o){const a=Array.isArray(i.children),s=sS(n);return t(r,i,o,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,o){const a=Array.isArray(i.children)?n:t;return o?a(r,i,o):a(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?zk:Ak,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=wS(i,e,void 0);return o&&"string"!=typeof o?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function wS(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=zk,e.schema=i);e.ancestors.push(t);const o=$S(e,t.tagName,!1),a=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&hS.call(t.properties,i)){const o=IS(e,i,t.properties[i]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof a&&yS.has(t.tagName)?r=a:n[i]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let s=SS(e,t);vS.has(t.tagName)&&(s=s.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&ek(t.value):ek(t));var t}));return _S(e,a,o,t),kS(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}ES(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=zk,e.schema=i);e.ancestors.push(t);const o=null===t.name?e.Fragment:$S(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];H_(t.type);const i=t.expression;H_(i.type);const o=i.properties[0];H_(o.type),Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else ES(e,t.position);else{const i=r.name;let o;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];H_(t.type),o=e.evaluater.evaluateExpression(t.expression)}else ES(e,t.position);else o=null===r.value||r.value;n[i]=o}return n}(e,t),s=SS(e,t);return _S(e,a,o,t),kS(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ES(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return kS(r,SS(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function _S(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function kS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function SS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:mS;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}const s=wS(e,o,a);void 0!==s&&n.push(s)}return n}function IS(e,t,n){const r=function(e,t){const n=rk(t);let r=t,i=ik;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Nk.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(jk,Ok);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!jk.test(e)){let n=e.replace(Tk,Ck);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=gk}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return oS(t,{reactCompat:!0})}catch(Sl){if(e.ignoreInvalidStyle)return{};const n=Sl,r=new fS("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=bS+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)hS.call(e,n)&&(t[TS(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Ek[r.property]||r.property:r.attribute,n]}}function $S(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=X_(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=X_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return hS.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);ES(e)}function ES(e,t){const n=new fS("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function TS(e){let t=e.replace(gS,jS);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function jS(e){return"-"+e.toLowerCase()}const NS={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CS={};function OS(e,t){return AS(e,"boolean"!=typeof CS.includeImageAlt||CS.includeImageAlt,"boolean"!=typeof CS.includeHtml||CS.includeHtml)}function AS(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return zS(e.children,t,n)}return Array.isArray(e)?zS(e,t,n):""}function zS(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=AS(e[i],t,n);return r.join("")}const PS=document.createElement("i");function RS(e){const t="&"+e+";";PS.innerHTML=t;const n=PS.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function DS(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function MS(e,t){return e.length>0?(DS(e,e.length,0,t),e):t}const US={}.hasOwnProperty;function LS(e){const t={};let n=-1;for(;++n<e.length;)FS(t,e[n]);return t}function FS(e,t){let n;for(n in t){const r=(US.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){US.call(r,o)||(r[o]=[]);const e=i[o];ZS(r[o],Array.isArray(e)?e:e?[e]:[])}}}function ZS(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);DS(e,0,0,r)}function BS(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function VS(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const WS=rI(/[A-Za-z]/),JS=rI(/[\dA-Za-z]/),HS=rI(/[#-'*+\--9=?A-Z^-~]/);function qS(e){return null!==e&&(e<32||127===e)}const KS=rI(/\d/),GS=rI(/[\dA-Fa-f]/),YS=rI(/[!-/:-@[-`{-~]/);function XS(e){return null!==e&&e<-2}function QS(e){return null!==e&&(e<0||32===e)}function eI(e){return-2===e||-1===e||32===e}const tI=rI(/\p{P}|\p{S}/u),nI=rI(/\s/);function rI(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function iI(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&JS(e.charCodeAt(n+1))&&JS(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function oI(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(eI(r))return e.enter(n),a(r);return t(r)};function a(r){return eI(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}const aI={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),oI(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):XS(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const sI={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,l,u)(r)}return u(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}v(a);let s=n;for(;s<t.events.length;)t.events[s][1].end={...i},s++;return DS(t.events,o+1,0,t.events.slice(n)),t.events.length=s,u(e)}return s(e)}function u(i){if(a===n.length){if(!r)return p(i);if(r.currentConstruct&&r.currentConstruct.concrete)return h(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(lI,c,d)(i)}function c(e){return r&&y(),v(a),p(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,h(e)}function p(n){return t.containerState={},e.attempt(lI,f,h)(n)}function f(e){return a++,n.push([t.currentConstruct,t.containerState]),p(e)}function h(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):XS(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){s=t.events[l][1].end;break}i=!0}for(v(a),e=n;e<t.events.length;)t.events[e][1].end={...s},e++;DS(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},lI={tokenize:function(e,t,n){return oI(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function uI(e){return null===e||QS(e)||nI(e)?1:tI(e)?2:void 0}function cI(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const dI={name:"attention",resolveAll:function(e,t){let n,r,i,o,a,s,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d={...e[n][1].end},p={...e[c][1].start};pI(d,-s),pI(p,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:p},i={type:s>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[c][1].start}},r={type:s>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[n][1].end={...o.start},e[c][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=MS(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=MS(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=MS(l,cI(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=MS(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=MS(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,DS(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=uI(r);let o;return function(t){return o=t,e.enter("attentionSequence"),a(t)};function a(s){if(s===o)return e.consume(s),a;const l=e.exit("attentionSequence"),u=uI(s),c=!u||2===u&&i||n.includes(s),d=!i||2===i&&u||n.includes(r);return l._open=Boolean(42===o?c:c&&(i||!d)),l._close=Boolean(42===o?d:d&&(u||!c)),t(s)}}};function pI(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fI={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return WS(t)?(e.consume(t),o):64===t?n(t):l(t)}function o(e){return 43===e||45===e||46===e||JS(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||JS(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||qS(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),u):HS(t)?(e.consume(t),l):n(t)}function u(e){return JS(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||JS(t))&&r++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const hI={partial:!0,tokenize:function(e,t,n){return function(t){return eI(t)?oI(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||XS(e)?t(e):n(e)}}};const mI={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(eI(t))return oI(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(mI,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return eI(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const gI={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return YS(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const vI={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=JS,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=GS,u):(e.enter("characterReferenceValue"),i=7,o=KS,u(t))}function u(s){if(59===s&&a){const i=e.exit("characterReferenceValue");return o!==JS||RS(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return o(s)&&a++<i?(e.consume(s),u):n(s)}}};const yI={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},bI={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),eI(t)?oI(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===o?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===o?(i++,e.consume(t),c):i>=s?(e.exit("codeFencedFenceSequence"),eI(t)?oI(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||XS(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let o,a=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===o?(s++,e.consume(t),l):s<3?n(t):(e.exit("codeFencedFenceSequence"),eI(t)?oI(e,u,"whitespace")(t):u(t))}function u(n){return null===n||XS(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(yI,f,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||XS(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):eI(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oI(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),c)}function d(t){return null===t||XS(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||XS(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===o?n(t):(e.consume(t),p)}function f(t){return e.attempt(i,y,h)(t)}function h(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&eI(t)?oI(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||XS(t)?e.check(yI,f,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||XS(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}}};const xI={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),oI(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):XS(t)?e.attempt(wI,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||XS(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},wI={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):XS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):oI(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):XS(e)?i(e):n(e)}}};const _I={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(i=e.enter("codeTextSequence"),r=0,u(t)):XS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||XS(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}};class kI{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&SI(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),SI(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),SI(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);SI(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);SI(this.left,t.reverse())}}}function SI(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function II(e){const t={};let n,r,i,o,a,s,l,u=-1;const c=new kI(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,$I(c,u)),u=t[u],l=!0);else if(n[1]._container){for(i=u,r=void 0;i--;)if(o=c.get(i),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;r&&(n[1].end={...c.get(r)[1].start},a=c.slice(r,u),a.unshift(n),c.splice(r,u-r+1,a))}}return DS(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function $I(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,d,p=-1,f=n,h=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++p<s.length;)"exit"===s[p][0]&&"enter"===s[p-1][0]&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(m=p+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),p=g.length;p--;){const t=s.slice(g[p],g[p+1]),n=o.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const EI={resolve:function(e){return II(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):XS(t)?e.check(TI,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},TI={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),oI(e,i,"linePrefix")};function i(i){if(null===i||XS(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};function jI(e,t,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),d;if(null===t||32===t||41===t||qS(t))return n(t);return e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),h(t)};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||XS(t)?n(t):(e.consume(t),92===t?f:p)}function f(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function h(i){return c||null!==i&&41!==i&&!QS(i)?c<u&&40===i?(e.consume(i),c++,h):41===i?(e.consume(i),c--,h):null===i||32===i||40===i||qS(i)?n(i):(e.consume(i),92===i?m:h):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i))}function m(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function NI(e,t,n,r,i,o){const a=this;let s,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),u};function u(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):XS(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||XS(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),s||(s=!eI(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function CI(e,t,n,r,i,o){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s;return n(t)};function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===a?(e.exit(o),s(a)):null===t?n(t):XS(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),oI(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===a||null===t||XS(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===a||92===t?(e.consume(t),u):u(t)}}function OI(e,t){let n;return function r(i){if(XS(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(eI(i))return oI(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}const AI={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return NI.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=VS(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return QS(t)?OI(e,s)(t):s(t)}function s(t){return jI(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(zI,u,u)(t)}function u(t){return eI(t)?oI(e,c,"whitespace")(t):c(t)}function c(o){return null===o||XS(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},zI={partial:!0,tokenize:function(e,t,n){return function(t){return QS(t)?OI(e,r)(t):n(t)};function r(t){return CI(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return eI(t)?oI(e,o,"whitespace")(t):o(t)}function o(e){return null===e||XS(e)?t(e):n(e)}}};const PI={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return XS(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const RI={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},DS(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||QS(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||XS(n)?(e.exit("atxHeading"),t(n)):eI(n)?oI(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||QS(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}}};const DI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MI=["pre","script","style","textarea"],UI={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,o,a,s,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(s){return 33===s?(e.consume(s),c):47===s?(e.consume(s),o=!0,f):63===s?(e.consume(s),i=3,r.interrupt?t:z):WS(s)?(e.consume(s),a=String.fromCharCode(s),h):n(s)}function c(o){return 45===o?(e.consume(o),i=2,d):91===o?(e.consume(o),i=5,s=0,p):WS(o)?(e.consume(o),i=4,r.interrupt?t:z):n(o)}function d(i){return 45===i?(e.consume(i),r.interrupt?t:z):n(i)}function p(i){const o="CDATA[";return i===o.charCodeAt(s++)?(e.consume(i),6===s?r.interrupt?t:$:p):n(i)}function f(t){return WS(t)?(e.consume(t),a=String.fromCharCode(t),h):n(t)}function h(s){if(null===s||47===s||62===s||QS(s)){const l=47===s,u=a.toLowerCase();return l||o||!MI.includes(u)?DI.includes(a.toLowerCase())?(i=6,l?(e.consume(s),m):r.interrupt?t(s):$(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?g(s):v(s)):(i=1,r.interrupt?t(s):$(s))}return 45===s||JS(s)?(e.consume(s),a+=String.fromCharCode(s),h):n(s)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:$):n(i)}function g(t){return eI(t)?(e.consume(t),g):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||WS(t)?(e.consume(t),y):eI(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||JS(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),x):eI(t)?(e.consume(t),b):v(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):eI(t)?(e.consume(t),x):_(t)}function w(t){return t===l?(e.consume(t),l=null,k):null===t||XS(t)?n(t):(e.consume(t),w)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||QS(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||eI(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),I):n(t)}function I(t){return null===t||XS(t)?$(t):eI(t)?(e.consume(t),I):n(t)}function $(t){return 45===t&&2===i?(e.consume(t),N):60===t&&1===i?(e.consume(t),C):62===t&&4===i?(e.consume(t),P):63===t&&3===i?(e.consume(t),z):93===t&&5===i?(e.consume(t),A):!XS(t)||6!==i&&7!==i?null===t||XS(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),$):(e.exit("htmlFlowData"),e.check(LI,R,E)(t))}function E(t){return e.check(FI,T,R)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),j}function j(t){return null===t||XS(t)?E(t):(e.enter("htmlFlowData"),$(t))}function N(t){return 45===t?(e.consume(t),z):$(t)}function C(t){return 47===t?(e.consume(t),a="",O):$(t)}function O(t){if(62===t){const n=a.toLowerCase();return MI.includes(n)?(e.consume(t),P):$(t)}return WS(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),O):$(t)}function A(t){return 93===t?(e.consume(t),z):$(t)}function z(t){return 62===t?(e.consume(t),P):45===t&&2===i?(e.consume(t),z):$(t)}function P(t){return null===t||XS(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),P)}function R(n){return e.exit("htmlFlow"),t(n)}}},LI={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(hI,t,n)}}},FI={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(XS(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const ZI={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),x):63===t?(e.consume(t),y):WS(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),o=0,f):WS(t)?(e.consume(t),v):n(t)}function u(t){return 45===t?(e.consume(t),p):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):XS(t)?(a=c,O(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),p):c(t)}function p(e){return 62===e?C(e):45===e?d(e):c(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?h:f):n(t)}function h(t){return null===t?n(t):93===t?(e.consume(t),m):XS(t)?(a=h,O(t)):(e.consume(t),h)}function m(t){return 93===t?(e.consume(t),g):h(t)}function g(t){return 62===t?C(t):93===t?(e.consume(t),g):h(t)}function v(t){return null===t||62===t?C(t):XS(t)?(a=v,O(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):XS(t)?(a=y,O(t)):(e.consume(t),y)}function b(e){return 62===e?C(e):y(e)}function x(t){return WS(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||JS(t)?(e.consume(t),w):_(t)}function _(t){return XS(t)?(a=_,O(t)):eI(t)?(e.consume(t),_):C(t)}function k(t){return 45===t||JS(t)?(e.consume(t),k):47===t||62===t||QS(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),C):58===t||95===t||WS(t)?(e.consume(t),I):XS(t)?(a=S,O(t)):eI(t)?(e.consume(t),S):C(t)}function I(t){return 45===t||46===t||58===t||95===t||JS(t)?(e.consume(t),I):$(t)}function $(t){return 61===t?(e.consume(t),E):XS(t)?(a=$,O(t)):eI(t)?(e.consume(t),$):S(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,T):XS(t)?(a=E,O(t)):eI(t)?(e.consume(t),E):(e.consume(t),j)}function T(t){return t===i?(e.consume(t),i=void 0,N):null===t?n(t):XS(t)?(a=T,O(t)):(e.consume(t),T)}function j(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||QS(t)?S(t):(e.consume(t),j)}function N(e){return 47===e||62===e||QS(e)?S(e):n(e)}function C(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function O(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return eI(t)?oI(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):z(t)}function z(t){return e.enter("htmlTextData"),a(t)}}};const BI={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&DS(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},c={type:"labelText",start:{...e[r+s+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=MS(o,e.slice(r+1,r+s+3)),o=MS(o,[["enter",c,t]]),o=MS(o,cI(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=MS(o,[["exit",c,t],e[i-2],e[i-1],["exit",u,t]]),o=MS(o,e.slice(i+1)),o=MS(o,[["exit",l,t]]),DS(e,r,e.length,o),e},tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){if(!i)return n(t);if(i._inactive)return c(t);return o=r.parser.defined.includes(VS(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s};function s(t){return 40===t?e.attempt(VI,u,o?u:c)(t):91===t?e.attempt(WI,u,o?l:c)(t):o?u(t):c(t)}function l(t){return e.attempt(JI,u,c)(t)}function u(e){return t(e)}function c(e){return i._balanced=!0,n(e)}}},VI={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return QS(t)?OI(e,i)(t):i(t)}function i(t){return 41===t?u(t):jI(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return QS(t)?OI(e,s)(t):u(t)}function a(e){return n(e)}function s(t){return 34===t||39===t||40===t?CI(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return QS(t)?OI(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},WI={tokenize:function(e,t,n){const r=this;return function(t){return NI.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(VS(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},JI={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const HI={name:"labelStartImage",resolveAll:BI.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const qI={name:"labelStartLink",resolveAll:BI.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const KI={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),oI(e,t,"linePrefix")}}};const GI={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),a(o)):i>=3&&(null===o||XS(o))?(e.exit("thematicBreak"),t(o)):n(o)}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),eI(t)?oI(e,o,"whitespace")(t):o(t))}}};const YI={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hI,i,o);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,oI(e,t,"listItemIndent",r.containerState.size+1)(n)}function o(n){return r.containerState.furtherBlankLines||!eI(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(QI,t,a)(n))}function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,oI(e,e.attempt(YI,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:KS(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(GI,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return KS(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(hI,r.interrupt?n:u,e.attempt(XI,d,c))}function u(e){return r.containerState.initialBlankLine=!0,o++,d(e)}function c(t){return eI(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},XI={partial:!0,tokenize:function(e,t,n){const r=this;return oI(e,function(e){const i=r.events[r.events.length-1];return!eI(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},QI={partial:!0,tokenize:function(e,t,n){const r=this;return oI(e,function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const e$={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let a,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){a="paragraph"===r.events[s][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),eI(t)?oI(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||XS(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const t$={tokenize:function(e){const t=this,n=e.attempt(hI,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,oI(e,e.attempt(this.parser.constructs.flow,r,e.attempt(EI,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const n$={resolveAll:a$()},r$=o$("string"),i$=o$("text");function o$(e){return{resolveAll:a$("text"===e?s$:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function a$(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function s$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const e=i[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)o=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const l$={42:YI,43:YI,45:YI,48:YI,49:YI,50:YI,51:YI,52:YI,53:YI,54:YI,55:YI,56:YI,57:YI,62:mI},u$={91:AI},c$={[-2]:xI,[-1]:xI,32:xI},d$={35:RI,42:GI,45:[e$,GI],60:UI,61:e$,95:GI,96:bI,126:bI},p$={38:vI,92:gI},f$={[-5]:KI,[-4]:KI,[-3]:KI,33:HI,38:vI,42:dI,60:[fI,ZI],91:qI,92:[PI,gI],93:BI,95:dI,96:_I},h$={null:[dI,n$]},m$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:u$,disable:{null:[]},document:l$,flow:d$,flowInitial:c$,insideSpan:h$,string:p$,text:f$},Symbol.toStringTag,{value:"Module"}));function g$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:g(function(e,t){v(e,t.from)}),check:g(m),consume:function(e){XS(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:g(m,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,y()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(a=MS(a,e),f(),null!==a[a.length-1])return[];return v(t,0),u.events=cI(o,u.events,u),u.events}};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:o}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:o}}function f(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)h(t.charCodeAt(r._bufferIndex));else h(t)}}function h(e){c=c(e)}function m(e,t){t.restore()}function g(e,t){return function(n,i,o){let a,c,d,f;return Array.isArray(n)?h(n):"tokenize"in n?h([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return h([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function h(e){return a=e,c=0,0===e.length?o:m(e[c])}function m(e){return function(n){f=function(){const e=p(),t=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{from:i,restore:a};function a(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,s=o,y()}}(),d=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return v();return e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,g,v)(n)}}function g(t){return e(d,f),i}function v(e){return f.restore(),++c<a.length?m(a[c]):o}}}function v(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&DS(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const v$=/[\0\t\n\r]/g;const y$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function b$(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return BS(n.slice(t?2:1),t?16:10)}return RS(n)||e}const x$={}.hasOwnProperty;function w$(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(Y),blockQuote:o(J),characterEscape:I,characterReference:I,codeFenced:o(H),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(H,a),codeText:o(q,a),codeTextData:I,data:I,codeFlowValue:I,definition:o(K),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(G),hardBreakEscape:o(X),hardBreakTrailing:o(X),htmlFlow:o(Q,a),htmlFlowData:I,htmlText:o(Q,a),htmlTextData:I,image:o(ee),label:a,link:o(te),listItem:o(re),listItemValue:p,listOrdered:o(ne,d),listUnordered:o(ne),paragraph:o(ie),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Y),strong:o(oe),thematicBreak:o(se)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:W,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:F,characterReferenceMarkerNumeric:F,characterReferenceValue:Z,characterReference:B,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:h,codeFlowValue:$,codeIndented:l(v),codeText:l(C),codeTextData:$,data:$,definition:l(),definitionDestinationString:x,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(j),htmlFlowData:$,htmlText:l(N),htmlTextData:$,image:l(A),label:P,labelText:z,lineEnding:E,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:L,resourceDestinationString:R,resourceTitleString:D,resource:M,setextHeading:l(S),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};k$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const o={stack:[r],tokenStack:[],config:t,enter:s,exit:u,buffer:a,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=i(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];x$.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},o),e[d][1])}if(o.tokenStack.length>0){const e=o.tokenStack[o.tokenStack.length-1];(e[1]||I$).call(o,void 0,e[0])}for(r.position={start:_$(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:_$(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r,i,o,a,s=t-1,l=-1,u=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||o||(o=s),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=s;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||s,0,["exit",r,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(s,0,["enter",i,t[2]]),s++,n++,o=void 0,a=!0}}}return e[t][1]._spread=u,n}function o(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:_$(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+uS({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||I$).call(this,e,r[0])}n.position.end=_$(e.end)}function c(){return OS(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function f(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function h(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=VS(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function x(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function I(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:_$(e.start),end:void 0},t.push(n)),this.stack.push(n)}function $(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=_$(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=_$(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(I.call(this,e),$.call(this,e))}function T(){this.data.atHardBreak=!0}function j(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function C(){const e=this.resume();this.stack[this.stack.length-1].value=e}function O(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function A(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function z(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(y$,b$)}(t),n.identifier=VS(t).toLowerCase()}function P(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function R(){const e=this.resume();this.stack[this.stack.length-1].url=e}function D(){const e=this.resume();this.stack[this.stack.length-1].title=e}function M(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function L(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=VS(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function F(e){this.data.characterReferenceType=e.type}function Z(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=BS(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=RS(t)}this.stack[this.stack.length-1].value+=r}function B(e){this.stack.pop().position.end=_$(e.end)}function V(e){$.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){$.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function J(){return{type:"blockquote",children:[]}}function H(){return{type:"code",lang:null,meta:null,value:""}}function q(){return{type:"inlineCode",value:""}}function K(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function G(){return{type:"emphasis",children:[]}}function Y(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Q(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function se(){return{type:"thematicBreak"}}}(n)(function(e){for(;!II(e););return e}(function(e){const t={constructs:LS([m$,...(e||{}).extensions||[]]),content:n(aI),defined:[],document:n(sI),flow:n(t$),lazy:{},string:n(r$),text:n(i$)};return t;function n(e){return function(n){return g$(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,a){const s=[];let l,u,c,d,p;for(i=n+("string"==typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);c<i.length;){if(v$.lastIndex=c,l=v$.exec(i),d=l&&void 0!==l.index?l.index:i.length,p=i.charCodeAt(d),!l){n=i.slice(c);break}if(10===p&&c===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),c<d&&(s.push(i.slice(c,d)),t+=d-c),p){case 0:s.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),s.push(-2);t++<u;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return a&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))}function _$(e){return{line:e.line,column:e.column,offset:e.offset}}function k$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?k$(e,r):S$(e,r)}}function S$(e,t){let n;for(n in t)if(x$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function I$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+uS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+uS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+uS({start:t.start,end:t.end})+") is still open")}function $$(e){const t=this;t.parser=function(n){return w$(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function E$(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function T$(e){const t=e.spread;return null==t?e.children.length>1:t}function j$(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(N$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(N$(t.slice(i),i>0,!1)),o.join("")}function N$(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const C$={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=iI(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E$(e,t);const i={src:iI(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:iI(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E$(e,t);const i={href:iI(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:iI(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=T$(n[r])}return t}(n):T$(t),o={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(i||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=sS(t.children[1]),a=aS(t.children[t.children.length-1]);o&&a&&(r.position={start:o,end:a}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const n=t.children[s],r={},a=o?o[s]:void 0;a&&(r.align=a);let u={type:"element",tagName:i,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:j$(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:O$,yaml:O$,definition:O$,footnoteDefinition:O$};function O$(){}const A$="object"==typeof self?self:globalThis,z$=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case 0:case-1:return n(a,i);case 1:{const e=n([],i);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),i);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new A$[e](t),i)}case 8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new A$[o](a),i)};return r})(new Map,e)(0),P$="",{toString:R$}={},{keys:D$}=Object,M$=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=R$.call(e).slice(8,-1);switch(n){case"Array":return[1,P$];case"Object":return[2,P$];case"Date":return[3,P$];case"RegExp":return[4,P$];case"Map":return[5,P$];case"Set":return[6,P$];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},U$=([e,t])=>0===e&&("function"===t||"symbol"===t),L$=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},o=r=>{if(n.has(r))return n.get(r);let[a,s]=M$(r);switch(a){case 0:{let t=r;switch(s){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return i([-1],r)}return i([a,t],r)}case 1:{if(s){let e=r;return"DataView"===s?e=new Uint8Array(r.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(r)),i([s,[...e]],r)}const e=[],t=i([a,e],r);for(const n of r)e.push(o(n));return t}case 2:{if(s)switch(s){case"BigInt":return i([s,r.toString()],r);case"Boolean":case"Number":case"String":return i([s,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const n=[],l=i([a,n],r);for(const t of D$(r))!e&&U$(M$(r[t]))||n.push([o(t),o(r[t])]);return l}case 3:return i([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([a,{source:e,flags:t}],r)}case 5:{const t=[],n=i([a,t],r);for(const[i,a]of r)(e||!U$(M$(i))&&!U$(M$(a)))&&t.push([o(i),o(a)]);return n}case 6:{const t=[],n=i([a,t],r);for(const i of r)!e&&U$(M$(i))||t.push(o(i));return n}}const{message:l}=r;return i([a,{name:s,message:l}],r)};return o})(!(t||n),!!t,new Map,r)(e),r},F$="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?z$(L$(e,t)):structuredClone(e):(e,t)=>z$(L$(e,t));function Z$(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function B$(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const V$=function(e){if(null==e)return J$;if("function"==typeof e)return W$(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=V$(e[n]);return W$(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return W$(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"==typeof e)return function(e){return W$(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function W$(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function J$(){return!0}const H$=[],q$=!0,K$=!1;function G$(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;const o=V$(i),a=r?-1:1;!function e(i,s,l){const u=i&&"object"==typeof i?i:{};if("string"==typeof u.type){const e="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,p=H$;if((!t||o(i,s,l[l.length-1]||void 0))&&(p=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[q$,e];return null==e?H$:[e]}(n(i,l)),p[0]===K$))return p;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==p[0])for(c=(r?t.children.length:-1)+a,d=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===K$)return u;c="number"==typeof u[1]?u[1]:c+a}}return p}}(e,void 0,[])()}function Y$(e,t,n,r){let i,o,a;"function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,i=n):(o=t,a=n,i=r),G$(e,o,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)},i)}const X$={}.hasOwnProperty,Q$={};function eE(e,t){e.position&&(t.position=function(e){const t=sS(e),n=aS(e);if(t&&n)return{start:t,end:n}}(e))}function tE(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,F$(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function nE(e,t){const n=t.data||{},r=!("value"in t)||X$.call(n,"hProperties")||X$.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function rE(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function iE(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function oE(e,t){const n=function(e,t){const n=t||Q$,r=new Map,i=new Map,o=new Map,a={...C$,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=s.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=iE(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=iE(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:tE,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=s.handlers[n];if(X$.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=F$(n);return r.children=s.all(e),r}return F$(e)}return(s.options.unknownHandler||nE)(s,e,t)},options:n,patch:eE,wrap:rE};return Y$(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s}(e,t),r=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Z$,r=e.options.footnoteBackLabel||B$,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const o=e.all(i),a=String(i.identifier).toUpperCase(),u=iI(a.toLowerCase());let c=0;const d=[],p=e.footnoteCounts.get(a);for(;void 0!==p&&++c<=p;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,c);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const f=o[o.length-1];if(f&&"element"===f.type&&"p"===f.tagName){const e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...d)}else o.push(...d);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(o,!0)};e.patch(i,h),s.push(h)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...F$(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:"\n"},i),o}function aE(e,t){return e&&"run"in e?async function(n,r){const i=oE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return oE(n,{file:r,...e||t})}}function sE(e){if(e)throw e}var lE=Object.prototype.hasOwnProperty,uE=Object.prototype.toString,cE=Object.defineProperty,dE=Object.getOwnPropertyDescriptor,pE=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===uE.call(e)},fE=function(e){if(!e||"[object Object]"!==uE.call(e))return!1;var t,n=lE.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&lE.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||lE.call(e,t)},hE=function(e,t){cE&&"__proto__"===t.name?cE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},mE=function(e,t){if("__proto__"===t){if(!lE.call(e,t))return;if(dE)return dE(e,t).value}return e[t]},gE=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});l<u;++l)if(null!=(t=arguments[l]))for(n in t)r=mE(s,n),s!==(i=mE(t,n))&&(c&&i&&(fE(i)||(o=pE(i)))?(o?(o=!1,a=r&&pE(r)?r:[]):a=r&&fE(r)?r:{},hE(s,{name:n,newValue:e(c,a,i)})):void 0!==i&&hE(s,{name:n,newValue:i}));return s};const vE=r(gE);function yE(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function bE(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const s=e[++n];let l=-1;if(o)r(o);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,s?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let s;r&&t.push(i);try{s=e.apply(this,t)}catch(o){if(r&&n)throw o;return i(o)}r||(s&&s.then&&"function"==typeof s.then?s.then(a,i):s instanceof Error?i(s):a(s))}function i(e,...r){n||(n=!0,t(e,...r))}function a(e){i(null,e)}}(s,i)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const xE={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');wE(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(i=o):(s=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(wE(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){wE(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}if(o<0||r<0||0===a||1===a&&o===r-1&&o===i+1)return"";return e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)wE(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){wE(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function wE(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const _E={cwd:function(){return"/"}};function kE(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function SE(e){if("string"==typeof e)e=new URL(e);else if(!kE(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const IE=["history","path","basename","stem","extname","dirname"];class $E{constructor(e){let t;t=e?kE(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":_E.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<IE.length;){const e=IE[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)IE.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?xE.basename(this.path):void 0}set basename(e){TE(e,"basename"),EE(e,"basename"),this.path=xE.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?xE.dirname(this.path):void 0}set dirname(e){jE(this.basename,"dirname"),this.path=xE.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?xE.extname(this.path):void 0}set extname(e){if(EE(e,"extname"),jE(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xE.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){kE(e)&&(e=SE(e)),TE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?xE.basename(this.path,this.extname):void 0}set stem(e){TE(e,"stem"),EE(e,"stem"),this.path=xE.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new fS(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function EE(e,t){if(e&&e.includes(xE.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xE.sep+"`")}function TE(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function jE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const NE=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},CE={}.hasOwnProperty;class OE extends NE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bE()}copy(){const e=new OE;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(vE(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(RE("data",this.frozen),this.namespace[e]=t,this):CE.call(this.namespace,e)&&this.namespace[e]||void 0:e?(RE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=UE(e),n=this.parser||this.Parser;return zE("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),zE("process",this.parser||this.Parser),PE("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const o=UE(e),a=n.parse(o);function s(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(a,o,function(e,t,r){if(e||!t||!r)return s(e);const i=t,o=n.stringify(i,r);var a;"string"==typeof(a=o)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=o:r.result=o,s(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),zE("processSync",this.parser||this.Parser),PE("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,sE(e),t=r}),ME("processSync","process",n),t}run(e,t,n){DE(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,o){const a=UE(t);r.run(e,a,function(t,r,a){const s=r||e;t?o(t):i?i(s):n(void 0,s,a)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){sE(e),n=t,r=!0}),ME("runSync","run",r),n}stringify(e,t){this.freeze();const n=UE(t),r=this.compiler||this.Compiler;return PE("stringify",r),DE(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(RE("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):o(e)}return this;function i(e){if("function"==typeof e)s(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;s(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=vE(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[r,...o]=t;const a=n[i][1];yE(a)&&yE(r)&&(r=vE(!0,a,r)),n[i]=[e,r,...o]}}}}const AE=(new OE).freeze();function zE(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function PE(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function RE(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function DE(e){if(!yE(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function ME(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function UE(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new $E(e)}const LE=[],FE={allowDangerousHtml:!0},ZE=/^(https?|ircs?|mailto|xmpp)$/i,BE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VE(e){const t=function(e){const t=e.rehypePlugins||LE,n=e.remarkPlugins||LE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...FE}:FE,i=AE().use($$).use(n).use(aE,r).use(t);return i}(e),n=function(e){const t=e.children||"",n=new $E;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||WE;for(const u of BE)Object.hasOwn(t,u.from)&&q_((u.from,u.to&&u.to,u.id));return Y$(e,c),xS(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return a?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in NS)if(Object.hasOwn(NS,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=NS[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!o&&o.includes(e.tagName);if(!a&&r&&"number"==typeof t&&(a=!r(e,t,i)),a&&i&&"number"==typeof t)return s&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function WE(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||ZE.test(e.slice(0,t))?e:""}var JE=(e,t)=>{if(!e||!t)return!1;const n=e=>{const{position:t,data:n,...r}=e||{};return r};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&((e,t)=>"string"==typeof e?e===t:JSON.stringify(e)===JSON.stringify(t))(e.children,t.children)},HE=(e,t)=>JE(e.node,t.node),qE=V.createContext(null),KE=()=>null!==V.useContext(qE),GE=V.memo(({children:e,...t})=>u.jsx(qE.Provider,{value:t,children:e}),HE),YE=({node:e,...t})=>u.jsx("pre",{...t}),XE=({node:e,...t})=>u.jsx("code",{...t}),QE=({node:e,components:{Pre:t,Code:n},code:r})=>u.jsx(t,{children:u.jsx(n,{node:e,children:r})}),eT=()=>null,tT=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:i},language:o,code:a})=>{const s=V.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:QE;return u.jsxs(u.Fragment,{children:[u.jsx(i,{node:e,language:o,code:a}),u.jsx(l,{node:e,components:s,language:o??"unknown",code:a})]})},nT={exports:{}};
/*!
		Copyright (c) 2018 Jed Watson.
		Licensed under the MIT License (MIT), see
		http://jedwatson.github.io/classnames
	*/
!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var o in e)t.call(e,o)&&e[o]&&(r=i(r,o));return r}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(nT);const rT=r(nT.exports);var iT=({className:e,...t})=>({className:n,...r})=>({className:rT(e,n),...t,...r}),oT=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:i},componentsByLanguage:o={},children:a,...s})=>{const l=V.useContext(qE),c=iT(l),d=Cn(e=>u.jsx(t,{...c(e)})),p=iT(s),f=Cn(e=>u.jsx(n,{...p(e)})),h=/language-(\w+)/.exec(s.className||"")?.[1]??"";if("string"!=typeof a)return u.jsx(QE,{node:e,components:{Pre:d,Code:f},code:a});const m=o[h]?.SyntaxHighlighter??r,g=o[h]?.CodeHeader??i;return u.jsx(tT,{node:e,components:{Pre:d,Code:f,SyntaxHighlighter:m,CodeHeader:g},language:h||"unknown",code:a})},aT=V.memo(({node:e,components:t,componentsByLanguage:n,...r})=>KE()?u.jsx(oT,{node:e,components:t,componentsByLanguage:n,...r}):u.jsx(t.Code,{...r}),(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&HE(e,t)),{useSmooth:sT,useSmoothStatus:lT,withSmoothContextProvider:uT}=Ln,cT=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...i})=>{const o=rv(),a=V.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:s}=sT(a,n),{pre:l=YE,code:c=XE,SyntaxHighlighter:d=QE,CodeHeader:p=eT}=e??{},f=V.useMemo(()=>({Pre:l,Code:c,SyntaxHighlighter:d,CodeHeader:p}),[l,c,d,p]),h=Cn(e=>u.jsx(aT,{components:f,componentsByLanguage:t,...e})),m=V.useMemo(()=>{const{pre:t,code:n,SyntaxHighlighter:r,CodeHeader:i,...o}=e??{};return{...o,pre:GE,code:h}},[h,e]);return u.jsx(VE,{components:m,...i,children:s})},dT=V.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},i)=>{const o=lT();return u.jsx(n,{"data-status":o.type,...t,className:rT(e,t?.className),ref:i,children:u.jsx(cT,{...r})})});dT.displayName="MarkdownTextPrimitive";var pT=uT(dT);function fT(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}function hT(e,t,n){const r=V$((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([mT(e[0]),gT(e[1])])}return t}(t);let o=-1;for(;++o<i.length;)G$(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=i[o][0],a=i[o][1];let s=0;const l=n.children.indexOf(e);let u=!1,c=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,i={index:d.index,input:d.input,stack:[...t,e]};let o=a(...d,i);if("string"==typeof o&&(o=o.length>0?{type:"text",value:o}:void 0),!1===o?r.lastIndex=n+1:(s!==n&&c.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(o)?c.push(...o):o&&c.push(o),s=n+d[0].length,u=!0),!r.global)break;d=r.exec(e.value)}u?(s<e.value.length&&c.push({type:"text",value:e.value.slice(s)}),n.children.splice(l,1,...c)):c=[e];return l+c.length}(e,t)}}function mT(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function gT(e){return"function"==typeof e?e:function(){return e}}const vT="phrasing",yT=["autolink","link","image","label"];function bT(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function xT(e){this.config.enter.autolinkProtocol.call(this,e)}function wT(e){this.config.exit.autolinkProtocol.call(this,e)}function _T(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function kT(e){this.config.exit.autolinkEmail.call(this,e)}function ST(e){this.exit(e)}function IT(e){hT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$T],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,ET]],{ignore:["link","linkReference"]})}function $T(e,t,n,r,i){let o="";if(!TT(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=fT(e,"(");let o=fT(e,")");for(;-1!==r&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function ET(e,t,n,r){return!(!TT(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function TT(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||nI(n)||tI(n))&&(!t||47!==n)}function jT(){this.buffer()}function NT(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function CT(){this.buffer()}function OT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function AT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=VS(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zT(e){this.exit(e)}function PT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=VS(this.sliceSerialize(e)).toLowerCase(),n.label=t}function RT(e){this.exit(e)}function DT(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function MT(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){const o=r.createTracker(i);let a=o.move("[^");const s=r.enter("footnoteDefinition"),l=r.enter("label");a+=o.move(r.safe(r.associationId(e),{before:a,after:"]"})),l(),a+=o.move("]:"),e.children&&e.children.length>0&&(o.shift(4),a+=o.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,o.current()),t?LT:UT)));return s(),a},footnoteReference:DT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function UT(e,t,n){return 0===t?e:LT(e,t,n)}function LT(e,t,n){return(n?"":"    ")+e}DT.peek=function(){return"["};const FT=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function ZT(e){this.enter({type:"delete",children:[]},e)}function BT(e){this.exit(e)}function VT(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function WT(e){return e.length}function JT(e){return null==e?"":String(e)}function HT(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function qT(e,t,n){return">"+(n?"":" ")+e}function KT(e,t){return GT(e,t.inConstruct,!0)&&!GT(e,t.notInConstruct,!1)}function GT(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function YT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&KT(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function XT(e,t,n){return(n?"":"    ")+e}function QT(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ej(e){return"&#x"+e.toString(16).toUpperCase()+";"}function tj(e,t,n){const r=uI(e),i=uI(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function nj(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),c=tj(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=ej(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=tj(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+ej(d));const f=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},s+l+f}function rj(e){return e.value||""}function ij(e,t,n,r){const i=QT(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function oj(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),"full"!==i&&u&&u===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function aj(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function sj(e,t){const n=OS(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function lj(e,t,n,r){const i=QT(n),o='"'===i?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(sj(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move(n.containerPhrasing(e,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=t,r}s=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function uj(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),"full"!==i&&u&&u===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function cj(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function dj(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}VT.peek=function(){return"~"},nj.peek=function(e,t,n){return n.options.emphasis||"*"},rj.peek=function(){return"<"},ij.peek=function(){return"!"},oj.peek=function(){return"!"},aj.peek=function(){return"`"},lj.peek=function(e,t,n){return sj(e,n)?"<":"["},uj.peek=function(){return"["};const pj=V$(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function fj(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),c=tj(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=ej(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=tj(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+ej(d));const f=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},s+l+f}fj.peek=function(e,t,n){return n.options.strong||"*"};const hj={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),qT);return i(),a},break:YT,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",a="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(o,XT);return e(),t}const s=n.createTracker(r),l=i.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}(o,i)+1,3)),u=n.enter("codeFenced");let c=s.move(l);if(e.lang){const t=n.enter(`codeFencedLang${a}`);c+=s.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);c+=s.move(" "),c+=s.move(n.safe(e.meta,{before:c,after:"\n",encode:["`"],...s.current()})),t()}return c+=s.move("\n"),o&&(c+=s.move(o+"\n")),c+=s.move(l),u(),c},definition:function(e,t,n,r){const i=QT(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":"\n",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u},emphasis:nj,hardBreak:YT,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(function(e,t){let n=!1;return Y$(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,K$}),Boolean((!e.depth||e.depth<3)&&OS(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),a=n.containerPhrasing(e,{...o.current(),before:"\n",after:"\n"});return r(),t(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(u)&&(u=ej(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),s(),u},html:rj,image:ij,imageReference:oj,inlineCode:aj,link:lj,linkReference:uj,list:function(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):cj(n);const s=e.ordered?"."===a?")":".":function(e){const t=cj(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),dj(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let o=n.bulletCurrent||cj(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let a=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),function(e,t,n){if(t)return(n?"":" ".repeat(a))+e;return(n?o:o+" ".repeat(a-o.length))+e});return l(),u},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a},root:function(e,t,n,r){return(e.children.some(function(e){return pj(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:fj,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(dj(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function mj(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function gj(e){this.exit(e),this.data.inTable=void 0}function vj(e){this.enter({type:"tableRow",children:[]},e)}function yj(e){this.exit(e)}function bj(e){this.enter({type:"tableCell",children:[]},e)}function xj(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,wj));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function wj(e,t){return"|"===t?t:e}function _j(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=hj.inlineCode(e,t,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r},table:function(e,t,n,r){return s(function(e,t,n){const r=e.children;let i=-1;const o=[],a=t.enter("table");for(;++i<r.length;)o[i]=l(r[i],t,n);return a(),o}(e,n,r),e.align)},tableCell:a,tableRow:function(e,t,n,r){const i=l(e,n,r),o=s([i]);return o.slice(0,o.indexOf("\n"))}}};function a(e,t,n,r){const i=n.enter("tableCell"),a=n.enter("phrasing"),s=n.containerPhrasing(e,{...r,before:o,after:o});return a(),i(),s}function s(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||WT,o=[],a=[],s=[],l=[];let u=0,c=-1;for(;++c<e.length;){const t=[],r=[];let o=-1;for(e[c].length>u&&(u=e[c].length);++o<e[c].length;){const a=JT(e[c][o]);if(!1!==n.alignDelimiters){const e=i(a);r[o]=e,(void 0===l[o]||e>l[o])&&(l[o]=e)}t.push(a)}a[c]=t,s[c]=r}let d=-1;if("object"==typeof r&&"length"in r)for(;++d<u;)o[d]=HT(r[d]);else{const e=HT(r);for(;++d<u;)o[d]=e}d=-1;const p=[],f=[];for(;++d<u;){const e=o[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const a=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>l[d]&&(l[d]=i),f[d]=i),p[d]=a}a.splice(1,0,p),s.splice(1,0,f),c=-1;const h=[];for(;++c<a.length;){const e=a[c],t=s[c];d=-1;const r=[];for(;++d<u;){const i=e[d]||"";let a="",s="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=o[d];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),s=a):s=" ".repeat(e)}!1===n.delimiterStart||d||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!d||r.push(" "),!1!==n.alignDelimiters&&r.push(a),r.push(i),!1!==n.alignDelimiters&&r.push(s),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&d===u-1||r.push("|")}h.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return h.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){const r=e.children;let i=-1;const o=[],s=t.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],0,t,n);return s(),o}}function kj(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function Sj(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let i,o=-1;for(;++o<r.length;){const e=r[o];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Ij(e,t,n,r){const i=e.children[0],o="boolean"==typeof e.checked&&i&&"paragraph"===i.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=hj.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),l}const $j={tokenize:function(e,t,n){let r=0;return function t(o){if((87===o||119===o)&&r<3)return r++,e.consume(o),t;if(46===o&&3===r)return e.consume(o),i;return n(o)};function i(e){return null===e?n(e):t(e)}},partial:!0},Ej={tokenize:function(e,t,n){let r,i,o;return a;function a(t){return 46===t||95===t?e.check(jj,l,s)(t):null===t||QS(t)||nI(t)||45!==t&&tI(t)?l(t):(o=!0,e.consume(t),a)}function s(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),a}function l(e){return i||r||!o?n(e):t(e)}},partial:!0},Tj={tokenize:function(e,t){let n=0,r=0;return i;function i(a){return 40===a?(n++,e.consume(a),i):41===a&&r<n?o(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(jj,t,o)(a):null===a||QS(a)||nI(a)?t(a):(e.consume(a),i)}function o(t){return 41===t&&r++,e.consume(t),i}},partial:!0},jj={tokenize:function(e,t,n){return r;function r(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),r):38===a?(e.consume(a),o):93===a?(e.consume(a),i):60===a||null===a||QS(a)||nI(a)?t(a):n(a)}function i(e){return null===e||40===e||91===e||QS(e)||nI(e)?t(e):r(e)}function o(e){return WS(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),r):WS(t)?(e.consume(t),a):n(t)}},partial:!0},Nj={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return JS(e)?n(e):t(e)}},partial:!0},Cj={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!Rj.call(r,r.previous)||Lj(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check($j,e.attempt(Ej,e.attempt(Tj,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:Rj},Oj={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let i="",o=!1;return function(t){if((72===t||104===t)&&Dj.call(r,r.previous)&&!Lj(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),a;return n(t)};function a(t){if(WS(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),o?l:(o=!0,s)):n(t)}function l(t){return null===t||qS(t)||QS(t)||nI(t)||tI(t)?n(t):e.attempt(Ej,e.attempt(Tj,u),n)(t)}function u(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Dj},Aj={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let i,o;return function(t){if(!Uj(t)||!Mj.call(r,r.previous)||Lj(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)};function a(t){return Uj(t)?(e.consume(t),a):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Nj,u,l)(t):45===t||95===t||JS(t)?(o=!0,e.consume(t),s):u(t)}function l(t){return e.consume(t),i=!0,s}function u(a){return o&&i&&WS(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:Mj},zj={};let Pj=48;for(;Pj<123;)zj[Pj]=Aj,Pj++,58===Pj?Pj=65:91===Pj&&(Pj=97);function Rj(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||QS(e)}function Dj(e){return!WS(e)}function Mj(e){return!(47===e||Uj(e))}function Uj(e){return 43===e||45===e||46===e||95===e||JS(e)}function Lj(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}zj[43]=Aj,zj[45]=Aj,zj[46]=Aj,zj[95]=Aj,zj[72]=[Aj,Oj],zj[104]=[Aj,Oj],zj[87]=[Aj,Cj],zj[119]=[Aj,Cj];const Fj={tokenize:function(e,t,n){const r=this;return oI(e,function(e){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function Zj(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const e=r.events[i][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!a||!a._balanced)return n(i);const s=VS(r.sliceSerialize({start:a.end,end:r.now()}));if(94!==s.codePointAt(0)||!o.includes(s.slice(1)))return n(i);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)}}function Bj(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Vj(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){if(a>999||93===s&&!o||null===s||91===s||QS(s))return n(s);if(93===s){e.exit("chunkString");const o=e.exit("gfmFootnoteCallString");return i.includes(VS(r.sliceSerialize(o)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return QS(s)||(o=!0),a++,e.consume(s),92===s?u:l}function u(t){return 91===t||92===t||93===t?(e.consume(t),a++,l):l(t)}}function Wj(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(t)}function u(t){if(s>999||93===t&&!a||null===t||91===t||QS(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return o=VS(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return QS(t)||(a=!0),s++,e.consume(t),92===t?c:u}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,u):u(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(o)||i.push(o),oI(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return t(e)}}function Jj(e,t,n){return e.check(hI,t,e.attempt(Fj,t,n))}function Hj(e){e.exit("gfmFootnoteDefinition")}function qj(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const i=this.previous,o=this.events;let a=0;return function(t){if(126===i&&"characterEscape"!==o[o.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),s(t)};function s(o){const l=uI(i);if(126===o)return a>1?r(o):(e.consume(o),a++,s);if(a<2&&!t)return r(o);const u=e.exit("strikethroughSequenceTemporary"),c=uI(o);return u._open=!c||2===c&&Boolean(l),u._close=!l||2===l&&Boolean(c),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",o,t]],s=t.parser.constructs.insideSpan.null;s&&DS(a,a.length,0,cI(s,e.slice(r+1,n),t)),DS(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),DS(e,r-1,n-r+3,a),n=r+a.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class Kj{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0===n&&0===r.length)return;for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...r);i+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function Gj(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function Yj(e,t,n){const r=this;let i,o=0,a=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const i=t>-1?r.events[t][1].type:null,o="tableHead"===i||"tableRow"===i?x:s;if(o===x&&r.parser.lazy[r.now().line])return n(e);return o(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return i=!0,a+=1,l(e)}(t)}function l(t){return null===t?n(t):XS(t)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):eI(t)?oI(e,l,"whitespace")(t):(a+=1,i&&(i=!1,o+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),u(t)))}function u(t){return null===t||124===t||QS(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return 92===t||124===t?(e.consume(t),u):u(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,eI(t)?oI(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t))}function p(t){return 45===t||58===t?h(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):b(t)}function f(t){return eI(t)?oI(e,h,"whitespace")(t):h(t)}function h(t){return 58===t?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||XS(t)?y(t):b(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):b(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(t))}function v(t){return eI(t)?oI(e,y,"whitespace")(t):y(t)}function y(n){return 124===n?p(n):(null===n||XS(n))&&i&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function x(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||XS(n)?(e.exit("tableRow"),t(n)):eI(n)?oI(e,w,"whitespace")(n):(e.enter("data"),_(n))}function _(t){return null===t||124===t||QS(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?k:_)}function k(t){return 92===t||124===t?(e.consume(t),_):_(t)}}function Xj(e,t){let n,r,i,o=-1,a=!0,s=0,l=[0,0,0,0],u=[0,0,0,0],c=!1,d=0;const p=new Kj;for(;++o<e.length;){const f=e[o],h=f[1];"enter"===f[0]?"tableHead"===h.type?(c=!1,0!==d&&(eN(p,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(o,0,[["enter",n,t]])):"tableRow"===h.type||"tableDelimiterRow"===h.type?(a=!0,i=void 0,l=[0,0,0,0],u=[0,o+1,0,0],c&&(c=!1,r={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(o,0,[["enter",r,t]])),s="tableDelimiterRow"===h.type?2:r?3:1):!s||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type?"tableCellDivider"===h.type&&(a?a=!1:(0!==l[1]&&(u[0]=u[1],i=Qj(p,t,l,s,void 0,i)),l=u,u=[l[1],o,0,0])):(a=!1,0===u[2]&&(0!==l[1]&&(u[0]=u[1],i=Qj(p,t,l,s,void 0,i),l=[0,0,0,0]),u[2]=o)):"tableHead"===h.type?(c=!0,d=o):"tableRow"===h.type||"tableDelimiterRow"===h.type?(d=o,0!==l[1]?(u[0]=u[1],i=Qj(p,t,l,s,o,i)):0!==u[1]&&(i=Qj(p,t,u,s,o,i)),s=0):!s||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type||(u[3]=o)}for(0!==d&&eN(p,t,d,n,r),p.consume(t.events),o=-1;++o<t.events.length;){const e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Gj(t.events,o))}return e}function Qj(e,t,n,r,i,o){const a=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(o.end=Object.assign({},tN(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=tN(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){const i=tN(t.events,n[2]),o=tN(t.events,n[3]),a={type:"tableContent",start:Object.assign({},i),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){const r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==i&&(o.end=Object.assign({},tN(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function eN(e,t,n,r,i){const o=[],a=tN(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function tN(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const nN={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i};function i(t){return QS(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(r){return XS(r)?t(r):eI(r)?e.check({tokenize:rN},t,n)(r):n(r)}}};function rN(e,t,n){return oI(e,function(e){return null===e?n(e):t(e)},"whitespace")}const iN={};function oN(e){const t=e||iN,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return LS([{text:zj},{document:{91:{name:"gfmFootnoteDefinition",tokenize:Wj,continuation:{tokenize:Jj},exit:Hj}},text:{91:{name:"gfmFootnoteCall",tokenize:Vj},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Zj,resolveTo:Bj}}},qj(e),{flow:{null:{name:"table",tokenize:Yj,resolveAll:Xj}}},{text:{91:nN}}])}(t)),i.push([{transforms:[IT],enter:{literalAutolink:bT,literalAutolinkEmail:xT,literalAutolinkHttp:xT,literalAutolinkWww:xT},exit:{literalAutolink:ST,literalAutolinkEmail:kT,literalAutolinkHttp:wT,literalAutolinkWww:_T}},{enter:{gfmFootnoteCallString:jT,gfmFootnoteCall:NT,gfmFootnoteDefinitionLabelString:CT,gfmFootnoteDefinition:OT},exit:{gfmFootnoteCallString:AT,gfmFootnoteCall:zT,gfmFootnoteDefinitionLabelString:PT,gfmFootnoteDefinition:RT}},{canContainEols:["delete"],enter:{strikethrough:ZT},exit:{strikethrough:BT}},{enter:{table:mj,tableData:bj,tableHeader:bj,tableRow:vj},exit:{codeText:xj,table:gj,tableData:yj,tableHeader:yj,tableRow:yj}},{exit:{taskListCheckValueChecked:kj,taskListCheckValueUnchecked:kj,paragraph:Sj}}]),o.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vT,notInConstruct:yT},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vT,notInConstruct:yT},{character:":",before:"[ps]",after:"\\/",inConstruct:vT,notInConstruct:yT}]},MT(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FT}],handlers:{delete:VT}},_j(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ij}}]}}(t))}var aN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sN=V.forwardRef((e,t)=>u.jsx(ef.span,{...e,ref:t,style:{...aN,...e.style}}));sN.displayName="VisuallyHidden";var lN=sN,[uN,cN]=df("Tooltip",[Cm]),dN=Cm(),pN="TooltipProvider",fN=700,hN="tooltip.open",[mN,gN]=uN(pN),vN=e=>{const{__scopeTooltip:t,delayDuration:n=fN,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=V.useRef(!0),s=V.useRef(!1),l=V.useRef(0);return V.useEffect(()=>{const e=l.current;return()=>window.clearTimeout(e)},[]),u.jsx(mN,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:V.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:V.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:V.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:o})};vN.displayName=pN;var yN="Tooltip",[bN,xN]=uN(yN),wN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,l=gN(yN,e.__scopeTooltip),c=dN(t),[d,p]=V.useState(null),f=Df(),h=V.useRef(0),m=a??l.disableHoverableContent,g=s??l.delayDuration,v=V.useRef(!1),[y,b]=tg({prop:r,defaultProp:i??!1,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(hN))):l.onClose(),o?.(e)},caller:yN}),x=V.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),w=V.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,b(!0)},[b]),_=V.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),k=V.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,b(!0),h.current=0},g)},[g,b]);return V.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),u.jsx(Hm,{...c,children:u.jsx(bN,{scope:t,contentId:f,open:y,stateAttribute:x,trigger:d,onTriggerChange:p,onTriggerEnter:V.useCallback(()=>{l.isOpenDelayedRef.current?k():w()},[l.isOpenDelayedRef,k,w]),onTriggerLeave:V.useCallback(()=>{m?_():(window.clearTimeout(h.current),h.current=0)},[_,m]),onOpen:w,onClose:_,disableHoverableContent:m,children:n})})};wN.displayName=yN;var _N="TooltipTrigger",kN=V.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=xN(_N,n),o=gN(_N,n),a=dN(n),s=Dp(t,V.useRef(null),i.onTriggerChange),l=V.useRef(!1),c=V.useRef(!1),d=V.useCallback(()=>l.current=!1,[]);return V.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),u.jsx(qm,{asChild:!0,...a,children:u.jsx(ef.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:of(e.onPointerMove,e=>{"touch"!==e.pointerType&&(c.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),c.current=!0))}),onPointerLeave:of(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:of(e.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:of(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:of(e.onBlur,i.onClose),onClick:of(e.onClick,i.onClose)})})});kN.displayName=_N;var SN="TooltipPortal",[IN,$N]=uN(SN,{forceMount:void 0}),EN=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=xN(SN,t);return u.jsx(IN,{scope:t,forceMount:n,children:u.jsx(Xm,{present:n||o.open,children:u.jsx(Ym,{asChild:!0,container:i,children:r})})})};EN.displayName=SN;var TN="TooltipContent",jN=V.forwardRef((e,t)=>{const n=$N(TN,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=xN(TN,e.__scopeTooltip);return u.jsx(Xm,{present:r||a.open,children:a.disableHoverableContent?u.jsx(zN,{side:i,...o,ref:t}):u.jsx(NN,{side:i,...o,ref:t})})}),NN=V.forwardRef((e,t)=>{const n=xN(TN,e.__scopeTooltip),r=gN(TN,e.__scopeTooltip),i=V.useRef(null),o=Dp(t,i),[a,s]=V.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:p}=r,f=V.useCallback(()=>{s(null),p(!1)},[p]),h=V.useCallback((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect()),o=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,i),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...o,...function(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())]);s(a),p(!0)},[p]);return V.useEffect(()=>()=>f(),[f]),V.useEffect(()=>{if(l&&d){const e=e=>h(e,d),t=e=>h(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[l,d,h,f]),V.useEffect(()=>{if(a){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=l?.contains(t)||d?.contains(t),i=!function(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const e=t[o],s=t[a],l=e.x,u=e.y,c=s.x,d=s.y;u>r!=d>r&&n<(c-l)*(r-u)/(d-u)+l&&(i=!i)}return i}(n,a);r?f():i&&(f(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,d,a,c,f]),u.jsx(zN,{...e,ref:o})}),[CN,ON]=uN(yN,{isInside:!1}),AN=function(e){const t=({children:e})=>u.jsx(u.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=Xp,t}("TooltipContent"),zN=V.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=xN(TN,n),c=dN(n),{onClose:d}=l;return V.useEffect(()=>(document.addEventListener(hN,d),()=>document.removeEventListener(hN,d)),[d]),V.useEffect(()=>{if(l.trigger){const e=e=>{const t=e.target;t?.contains(l.trigger)&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,d]),u.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:u.jsxs(Km,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(AN,{children:r}),u.jsx(CN,{scope:n,isInside:!0,children:u.jsx(lN,{id:l.contentId,role:"tooltip",children:i||r})})]})})});jN.displayName=TN;var PN="TooltipArrow",RN=V.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=dN(n);return ON(PN,n).isInside?null:u.jsx(Gm,{...i,...r,ref:t})});RN.displayName=PN;var DN=vN,MN=wN,UN=kN,LN=EN,FN=jN,ZN=RN;function BN({delayDuration:e=0,...t}){return u.jsx(DN,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function VN({...e}){return u.jsx(BN,{children:u.jsx(MN,{"data-slot":"tooltip",...e})})}function WN({...e}){return u.jsx(UN,{"data-slot":"tooltip-trigger",...e})}function JN({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(LN,{children:u.jsxs(FN,{"data-slot":"tooltip-content",sideOffset:t,className:F_("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(ZN,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const HN=V.forwardRef(({children:e,tooltip:t,side:n="bottom",className:r,...i},o)=>u.jsx(BN,{children:u.jsxs(VN,{children:[u.jsx(WN,{asChild:!0,children:u.jsxs(J_,{variant:"ghost",size:"icon",...i,className:F_("size-6 p-1",r),ref:o,children:[e,u.jsx("span",{className:"sr-only",children:t})]})}),u.jsx(JN,{side:n,children:t})]})}));HN.displayName="TooltipIconButton";const qN=V.memo(()=>u.jsx(pT,{remarkPlugins:[oN],className:"aui-md",components:GN})),KN=({copiedDuration:e=3e3}={})=>{const[t,n]=V.useState(!1);return{isCopied:t,copyToClipboard:t=>{t&&navigator.clipboard.writeText(t).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},GN=((e={})=>Object.fromEntries(Object.entries(e??{}).map(([e,t])=>{if(!t)return[e,t];const n=t;return[e,V.memo(({node:e,...t})=>u.jsx(n,{...t}),HE)]})))({h1:({className:e,...t})=>u.jsx("h1",{className:F_("mb-8 scroll-m-20 text-4xl font-extrabold tracking-tight last:mb-0",e),...t}),h2:({className:e,...t})=>u.jsx("h2",{className:F_("mb-4 mt-8 scroll-m-20 text-3xl font-semibold tracking-tight first:mt-0 last:mb-0",e),...t}),h3:({className:e,...t})=>u.jsx("h3",{className:F_("mb-4 mt-6 scroll-m-20 text-2xl font-semibold tracking-tight first:mt-0 last:mb-0",e),...t}),h4:({className:e,...t})=>u.jsx("h4",{className:F_("mb-4 mt-6 scroll-m-20 text-xl font-semibold tracking-tight first:mt-0 last:mb-0",e),...t}),h5:({className:e,...t})=>u.jsx("h5",{className:F_("my-4 text-lg font-semibold first:mt-0 last:mb-0",e),...t}),h6:({className:e,...t})=>u.jsx("h6",{className:F_("my-4 font-semibold first:mt-0 last:mb-0",e),...t}),p:({className:e,...t})=>u.jsx("p",{className:F_("mb-5 mt-5 leading-7 first:mt-0 last:mb-0",e),...t}),a:({className:e,...t})=>u.jsx("a",{className:F_("text-primary font-medium underline underline-offset-4",e),...t}),blockquote:({className:e,...t})=>u.jsx("blockquote",{className:F_("border-l-2 pl-6 italic",e),...t}),ul:({className:e,...t})=>u.jsx("ul",{className:F_("my-5 ml-6 list-disc [&>li]:mt-2",e),...t}),ol:({className:e,...t})=>u.jsx("ol",{className:F_("my-5 ml-6 list-decimal [&>li]:mt-2",e),...t}),hr:({className:e,...t})=>u.jsx("hr",{className:F_("my-5 border-b",e),...t}),table:({className:e,...t})=>u.jsx("table",{className:F_("my-5 w-full border-separate border-spacing-0 overflow-y-auto",e),...t}),th:({className:e,...t})=>u.jsx("th",{className:F_("bg-muted px-4 py-2 text-left font-bold first:rounded-tl-lg last:rounded-tr-lg [&[align=center]]:text-center [&[align=right]]:text-right",e),...t}),td:({className:e,...t})=>u.jsx("td",{className:F_("border-b border-l px-4 py-2 text-left last:border-r [&[align=center]]:text-center [&[align=right]]:text-right",e),...t}),tr:({className:e,...t})=>u.jsx("tr",{className:F_("m-0 border-b p-0 first:border-t [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",e),...t}),sup:({className:e,...t})=>u.jsx("sup",{className:F_("[&>a]:text-xs [&>a]:no-underline",e),...t}),pre:({className:e,...t})=>u.jsx("pre",{className:F_("overflow-x-auto rounded-b-lg bg-black p-4 text-white",e),...t}),code:function({className:e,...t}){const n=KE();return u.jsx("code",{className:F_(!n&&"bg-muted rounded border font-semibold",e),...t})},CodeHeader:({language:e,code:t})=>{const{isCopied:n,copyToClipboard:r}=KN();return u.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-t-lg bg-zinc-900 px-4 py-2 text-sm font-semibold text-white",children:[u.jsx("span",{className:"lowercase [&>span]:text-xs",children:e}),u.jsxs(HN,{tooltip:"Copy",onClick:()=>{t&&!n&&r(t)},children:[!n&&u.jsx($w,{}),n&&u.jsx(ww,{})]})]})}}),YN=({toolName:e,argsText:t,result:n})=>{const[r,i]=V.useState(!0);return u.jsxs("div",{className:"mb-4 flex w-full flex-col gap-3 rounded-lg border py-3",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4",children:[u.jsx(ww,{className:"size-4"}),u.jsxs("p",{className:"",children:["Used tool: ",u.jsx("b",{children:e})]}),u.jsx("div",{className:"flex-grow"}),u.jsx(J_,{onClick:()=>i(!r),children:r?u.jsx(Iw,{}):u.jsx(_w,{})})]}),!r&&u.jsxs("div",{className:"flex flex-col gap-2 border-t pt-2",children:[u.jsx("div",{className:"px-4",children:u.jsx("pre",{className:"whitespace-pre-wrap",children:t})}),void 0!==n&&u.jsxs("div",{className:"border-t border-dashed px-4 pt-2",children:[u.jsx("p",{className:"font-semibold",children:"Result:"}),u.jsx("pre",{className:"whitespace-pre-wrap",children:"string"==typeof n?n:JSON.stringify(n,null,2)})]})]})]})},XN=()=>{const e=Bt();return V.useEffect(()=>{const t=e.subscribe(()=>{(()=>{const t=e.getState();if(t&&t.messages){const e=t.messages,r=e[e.length-1];if(r&&"assistant"===r.role){const e=r.content;let t=null;if("string"==typeof e)try{const n=e.match(/\{[\s\S]*"navigation"[\s\S]*\}/);if(n){const e=JSON.parse(n[0]);e.navigation&&(t=e.navigation)}}catch(n){if(e.includes("navigate")||e.includes("navigation")){const n=e.match(/\/[a-zA-Z0-9\/\-_]+/);n&&(t={type:"WorkizCopilot.navigate",url:n[0],message:e})}}t&&"WorkizCopilot.navigate"===t.type&&(console.log(" Auto-navigation triggered:",t),"undefined"!=typeof window&&window.parent&&(window.parent.postMessage({type:t.type,url:t.url},"*"),console.log(" Navigation message sent to parent window")))}}})()});return()=>{t()}},[e]),null},QN=()=>u.jsxs(Bv,{className:"bg-background box-border flex h-full flex-col overflow-hidden",style:{"--thread-max-width":"42rem"},children:[u.jsx(XN,{}),u.jsxs(qv,{className:"flex h-full flex-col items-center overflow-y-scroll scroll-smooth bg-inherit px-4 pt-8",children:[u.jsx(tC,{}),u.jsx(ry,{components:{UserMessage:oC,EditComposer:sC,AssistantMessage:lC}}),u.jsx(Wv,{empty:!1,children:u.jsx("div",{className:"min-h-8 flex-grow"})}),u.jsxs("div",{className:"sticky bottom-0 mt-3 flex w-full max-w-[var(--thread-max-width)] flex-col items-center justify-end rounded-t-lg bg-inherit pb-4",children:[u.jsx(eC,{}),u.jsx(rC,{})]})]})]}),eC=()=>u.jsx(iy,{asChild:!0,children:u.jsx(HN,{tooltip:"Scroll to bottom",variant:"outline",className:"absolute -top-8 rounded-full disabled:invisible",children:u.jsx(xw,{})})}),tC=()=>u.jsx(Vv,{children:u.jsxs("div",{className:"flex w-full max-w-[var(--thread-max-width)] flex-grow flex-col",children:[u.jsx("div",{className:"flex w-full flex-grow flex-col items-center justify-center",children:u.jsx("p",{className:"mt-4 font-medium",children:"How can I help you today?"})}),u.jsx(nC,{})]})}),nC=()=>u.jsxs("div",{className:"mt-3 flex w-full items-stretch justify-center gap-4",children:[u.jsx(oy,{className:"hover:bg-muted/80 flex max-w-sm grow basis-0 flex-col items-center justify-center rounded-lg border p-3 transition-colors ease-in",prompt:"Show me all jobs for today",method:"replace",autoSend:!0,children:u.jsx("span",{className:"line-clamp-2 text-ellipsis text-sm font-semibold",children:"Show me today`s jobs"})}),u.jsx(oy,{className:"hover:bg-muted/80 flex max-w-sm grow basis-0 flex-col items-center justify-center rounded-lg border p-3 transition-colors ease-in",prompt:"I need to create a new job",method:"replace",autoSend:!0,children:u.jsx("span",{className:"line-clamp-2 text-ellipsis text-sm font-semibold",children:"Create a new job"})})]}),rC=()=>u.jsxs(Sv,{className:"focus-within:border-ring/20 flex w-full flex-wrap items-end rounded-lg border bg-inherit px-2.5 shadow-sm transition-colors ease-in",children:[u.jsx(Fv,{rows:1,autoFocus:!0,placeholder:"Write a message...",className:"placeholder:text-muted-foreground max-h-40 flex-grow resize-none border-none bg-transparent px-2 py-4 text-sm outline-none focus:ring-0 disabled:cursor-not-allowed"}),u.jsx(iC,{})]}),iC=()=>u.jsxs(u.Fragment,{children:[u.jsx(Wv,{running:!1,children:u.jsx(kv,{asChild:!0,children:u.jsx(HN,{tooltip:"Send",variant:"default",className:"my-2.5 size-8 p-2 transition-opacity ease-in",children:u.jsx(Cw,{})})})}),u.jsx(Wv,{running:!0,children:u.jsx(Zv,{asChild:!0,children:u.jsx(HN,{tooltip:"Cancel",variant:"default",className:"my-2.5 size-8 p-2 transition-opacity ease-in",children:u.jsx(dC,{})})})})]}),oC=()=>u.jsxs(tv,{className:"grid auto-rows-auto grid-cols-[minmax(72px,1fr)_auto] gap-y-2 [&:where(>*)]:col-start-2 w-full max-w-[var(--thread-max-width)] py-4",children:[u.jsx(aC,{}),u.jsx("div",{className:"bg-muted text-foreground max-w-[calc(var(--thread-max-width)*0.8)] break-words rounded-3xl px-5 py-2.5 col-start-2 row-start-2",children:u.jsx(bv,{})}),u.jsx(cC,{className:"col-span-full col-start-1 row-start-3 -mr-1 justify-end"})]}),aC=()=>u.jsx(rf,{hideWhenRunning:!0,autohide:"not-last",className:"flex flex-col items-end col-start-1 row-start-2 mr-3 mt-2.5",children:u.jsx(uf,{asChild:!0,children:u.jsx(HN,{tooltip:"Edit",children:u.jsx(Tw,{})})})}),sC=()=>u.jsxs(Sv,{className:"bg-muted my-4 flex w-full max-w-[var(--thread-max-width)] flex-col gap-2 rounded-xl",children:[u.jsx(Fv,{className:"text-foreground flex h-8 w-full resize-none bg-transparent p-4 pb-0 outline-none"}),u.jsxs("div",{className:"mx-3 mb-3 flex items-center justify-center gap-2 self-end",children:[u.jsx(Zv,{asChild:!0,children:u.jsx(J_,{variant:"ghost",children:"Cancel"})}),u.jsx(kv,{asChild:!0,children:u.jsx(J_,{children:"Send"})})]})]}),lC=()=>u.jsxs(tv,{className:"grid grid-cols-[auto_auto_1fr] grid-rows-[auto_auto_1fr] relative w-full max-w-[var(--thread-max-width)] py-4",children:[u.jsx("div",{className:"col-span-2 col-start-2 row-start-2",children:u.jsx(bv,{components:{Text:qN,tools:{Fallback:YN}}})}),u.jsx(uC,{}),u.jsx(cC,{className:"col-start-2 row-start-3 -ml-2 mr-2"})]}),uC=()=>u.jsxs(rf,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",className:"text-muted-foreground flex gap-1 col-start-3 row-start-3 -ml-1 data-[floating]:bg-background data-[floating]:absolute data-[floating]:rounded-md data-[floating]:border data-[floating]:p-1 data-[floating]:shadow-sm",children:[u.jsx(af,{asChild:!0,children:u.jsxs(HN,{tooltip:"Copy",children:[u.jsx(xv,{copied:!0,children:u.jsx(ww,{})}),u.jsx(xv,{copied:!1,children:u.jsx($w,{})})]})}),u.jsx(lf,{asChild:!0,children:u.jsx(HN,{tooltip:"Refresh",children:u.jsx(Nw,{})})})]}),cC=({className:e,...t})=>u.jsxs(wv,{hideWhenSingleBranch:!0,className:F_("text-muted-foreground inline-flex items-center text-xs",e),...t,children:[u.jsx(Yg,{asChild:!0,children:u.jsx(HN,{tooltip:"Previous",children:u.jsx(kw,{})})}),u.jsxs("span",{className:"font-medium",children:[u.jsx(Qg,{})," / ",u.jsx(Xg,{})]}),u.jsx(Gg,{asChild:!0,children:u.jsx(HN,{tooltip:"Next",children:u.jsx(Sw,{})})})]}),dC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:u.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})}),pC=V.createContext(null),fC=()=>{const e=V.useContext(pC);if(!e)throw new Error("usePersistentThreadContext must be used within PersistentThreadProvider");return e};function hC(e){return(e.content||[]).filter(e=>"text"===e.type).map(e=>e.text).join("")}async function mC(e){try{const t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",parts:[{type:"text",text:"You are a helpful assistant. Generate a concise, descriptive title for this conversation in 3-5 words. Return only the title, nothing else."}]},{role:"user",parts:[{type:"text",text:`Generate a title for this conversation:\n\n${e}`}]}]})});if(t.ok){const e=await async function(e){const t=e.body?.getReader();if(!t)return"";let n="";try{for(;;){const{done:e,value:r}=await t.read();if(e)break;const i=(new TextDecoder).decode(r).split("\n");for(const t of i)if(t.startsWith("data: ")){const e=t.slice(6);if("[DONE]"===e)break;try{const t=JSON.parse(e);"text-delta"===t.type&&t.delta&&(n+=t.delta)}catch{}}}}finally{t.releaseLock()}return n}(t),n=e.replace(/["""]/g,"").trim().slice(0,50);return n&&"New Chat"!==n?n:""}}catch(t){console.warn(" AI title generation failed:",t)}return""}const gC=new Map,vC=new Map;function yC(){const e=Bt(),{currentThreadId:t,threads:n,saveMessageToThread:r,createThread:i,updateThread:o,setCurrentThreadId:a}=fC(),s=V.useRef(void 0),l=V.useRef(!1),u=qt().id;return V.useEffect(()=>{t||a(u)},[t,u]),V.useEffect(()=>{if(s.current=t,t){const n=e.getState().messages;gC.has(t)||gC.set(t,n.length),vC.has(t)||vC.set(t,new Set),l.current=!1}},[t,e]),V.useEffect(()=>{const i=e.subscribe(()=>{const i=e.getState().messages;(async()=>{const a=t??u;gC.has(a)||gC.set(a,i.length),vC.has(a)||vC.set(a,new Set);const s=i.reduce((e,t)=>e+t.content?.reduce((e,t)=>e+("text"===t.type?1:0),0),0),c=gC.get(a);if(s<=c)return;const d=i.slice(c);if(!d.some(e=>"running"===e.status?.type)){gC.set(a,s);for(const e of d){if("system"===e.role)continue;const t=e.id;if(!t||vC.get(a).has(t))continue;const n=hC(e);if(console.log("content:",n),n){vC.get(a).add(t);try{await r(a,{role:e.role,content:n})}catch(ZO){console.error(` Failed to save message ${t}`,ZO),vC.get(a).delete(t)}}}try{if(a&&!l.current){if(2==e.getState().messages.length){const e=n.find(e=>e.id===a);if((e?.title??"New Chat").includes("New Chat")){const e=function(e){return e.filter(e=>"system"!==e.role).map(e=>`${e.role}: ${hC(e)}`).join("\n").trim()}(i);await async function(e,t,n){try{const r=await mC(t);r&&await n(e,{title:r})}catch(r){console.warn(" Failed to update thread title",r)}}(a,e,o),l.current=!0}}}}catch(p){console.warn(" Failed to update thread title",p)}}})()});return i},[e,r,i,o,n,u,t]),null}function bC(){const e=Bt(),t=V.useRef(new Set);return Yn({toolName:"get_current_time",description:"Get the current time",parameters:zp.object({})}),Yn({toolName:"open_url",description:"Open a URL in a new tab",parameters:zp.object({url:zp.string().url().describe("The URL to open")})}),V.useEffect(()=>{const n=e.subscribe(()=>{const n=e.getState().messages,r=n[n.length-1];if(!r||"assistant"!==r.role)return;const i=r.id,o=r.content??[];for(const a of o){const n=a;if("tool-call"!==n?.type)continue;const o=n.toolCallId??r.id,s=n.toolName,l=r.status?.type;if(!o||!s)continue;if(t.current.has(o))continue;if("requires-action"!==l&&"complete"!==l)continue;const u=n.args??{};console.log(` Handling tool call: ${s}`,u,n);(async()=>{try{let r=null;if("open_url"===s)u.url?(window.parent?.postMessage({type:"WorkizCopilot.openUrl",url:String(u.url)},"*"),r={success:!0}):r={success:!1,error:"Missing url"};else if("get_current_time"===s){r={success:!0,currentTime:(new Date).toISOString()}}else r=n.result;t.current.add(o);const a=e.getMesssageById(i);a.getMessagePartByToolCallId(o).addToolResult(r)}catch(ZO){t.current.add(o);e.getMesssageById(i).getMessagePartByToolCallId(o).addToolResult({error:String(ZO)})}finally{e.append({role:"assistant",content:[{type:"text",text:""}]})}})()}});return n},[e]),null}function xC({initialMessages:e,userToken:t}){const n=V.useMemo(()=>(e??[]).map((e,t)=>{let n=[{type:"text",text:e.content??""}];if(e.metadata&&"string"==typeof e.metadata)try{const t=JSON.parse(e.metadata);t.hasToolCalls&&t.completeContent&&(n=t.completeContent)}catch(r){console.warn("Failed to parse message metadata:",r)}return{id:e.id??String(t),role:"assistant"===e.role?"assistant":"user",parts:n,createdAt:e.createdAt?new Date(e.createdAt):void 0}}),[e]),r=V.useMemo(()=>new uw({api:"/api/chat",headers:{Authorization:`Bearer ${t}`}}),[]),i=dw({transport:r,messages:n});return V.useMemo(()=>{r.setRuntime?.(i)},[r,i]),u.jsxs(on,{runtime:i,children:[u.jsx(yC,{}),u.jsx(QN,{}),u.jsx(bC,{})]})}function wC({userToken:e}){const{currentThreadId:t,threads:n}=fC(),r=V.useMemo(()=>n.find(e=>e.id===t),[t,n]),i=V.useMemo(()=>r?.messages?.map((e,t)=>({id:e.id??String(t),role:e.role,content:e.content,createdAt:e.createdAt?new Date(e.createdAt):new Date,..."assistant"===e.role&&{status:{type:"complete",reason:"stop"}}}))??[],[r]);return u.jsx(xC,{initialMessages:i,userToken:e},t)}var _C="horizontal",kC=["horizontal","vertical"],SC=V.forwardRef((e,t)=>{const{decorative:n,orientation:r=_C,...i}=e,o=function(e){return kC.includes(e)}(r)?r:_C,a=n?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return u.jsx(ef.div,{"data-orientation":o,...a,...i,ref:t})});SC.displayName="Separator";var IC=SC;function $C({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(IC,{"data-slot":"separator-root",decorative:n,orientation:t,className:F_("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var EC="Dialog",[TC,jC]=df(EC),[NC,CC]=TC(EC),OC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=V.useRef(null),l=V.useRef(null),[c,d]=tg({prop:r,defaultProp:i??!1,onChange:o,caller:EC});return u.jsx(NC,{scope:t,triggerRef:s,contentRef:l,contentId:Df(),titleId:Df(),descriptionId:Df(),open:c,onOpenChange:d,onOpenToggle:V.useCallback(()=>d(e=>!e),[d]),modal:a,children:n})};OC.displayName=EC;var AC="DialogTrigger";V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=CC(AC,n),o=Dp(t,i.triggerRef);return u.jsx(ef.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QC(i.open),...r,ref:o,onClick:of(e.onClick,i.onOpenToggle)})}).displayName=AC;var zC="DialogPortal",[PC,RC]=TC(zC,{forceMount:void 0}),DC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=CC(zC,t);return u.jsx(PC,{scope:t,forceMount:n,children:V.Children.map(r,e=>u.jsx(Xm,{present:n||o.open,children:u.jsx(Ym,{asChild:!0,container:i,children:e})}))})};DC.displayName=zC;var MC="DialogOverlay",UC=V.forwardRef((e,t)=>{const n=RC(MC,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=CC(MC,e.__scopeDialog);return o.modal?u.jsx(Xm,{present:r||o.open,children:u.jsx(FC,{...i,ref:t})}):null});UC.displayName=MC;var LC=Kp("DialogOverlay.RemoveScroll"),FC=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=CC(MC,n);return u.jsx(Kg,{as:LC,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(ef.div,{"data-state":QC(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ZC="DialogContent",BC=V.forwardRef((e,t)=>{const n=RC(ZC,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=CC(ZC,e.__scopeDialog);return u.jsx(Xm,{present:r||o.open,children:o.modal?u.jsx(VC,{...i,ref:t}):u.jsx(WC,{...i,ref:t})})});BC.displayName=ZC;var VC=V.forwardRef((e,t)=>{const n=CC(ZC,e.__scopeDialog),r=V.useRef(null),i=Dp(t,n.contentRef,r);return V.useEffect(()=>{const e=r.current;if(e)return lg(e)},[]),u.jsx(JC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:of(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:of(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:of(e.onFocusOutside,e=>e.preventDefault())})}),WC=V.forwardRef((e,t)=>{const n=CC(ZC,e.__scopeDialog),r=V.useRef(!1),i=V.useRef(!1);return u.jsx(JC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target,a=n.triggerRef.current?.contains(o);a&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),JC=V.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=CC(ZC,n),l=V.useRef(null),c=Dp(t,l);return V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kf()),document.body.insertAdjacentElement("beforeend",e[1]??kf()),_f++,()=>{1===_f&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_f--}},[]),u.jsxs(u.Fragment,{children:[u.jsx(Ef,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(yf,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":QC(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(rO,{titleId:s.titleId}),u.jsx(iO,{contentRef:l,descriptionId:s.descriptionId})]})]})}),HC="DialogTitle",qC=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=CC(HC,n);return u.jsx(ef.h2,{id:i.titleId,...r,ref:t})});qC.displayName=HC;var KC="DialogDescription",GC=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=CC(KC,n);return u.jsx(ef.p,{id:i.descriptionId,...r,ref:t})});GC.displayName=KC;var YC="DialogClose",XC=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=CC(YC,n);return u.jsx(ef.button,{type:"button",...r,ref:t,onClick:of(e.onClick,()=>i.onOpenChange(!1))})});function QC(e){return e?"open":"closed"}XC.displayName=YC;var eO="DialogTitleWarning",[tO,nO]=function(e,t){const n=V.createContext(t),r=e=>{const{children:t,...r}=e,i=V.useMemo(()=>r,Object.values(r));return u.jsx(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=V.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(eO,{contentName:ZC,titleName:HC,docsSlug:"dialog"}),rO=({titleId:e})=>{const t=nO(eO),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{if(e){document.getElementById(e)||console.error(n)}},[n,e]),null},iO=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nO("DialogDescriptionWarning").contentName}}.`;return V.useEffect(()=>{const r=e.current?.getAttribute("aria-describedby");if(t&&r){document.getElementById(t)||console.warn(n)}},[n,e,t]),null},oO=OC,aO=DC,sO=UC,lO=BC,uO=qC,cO=GC,dO=XC;function pO({...e}){return u.jsx(oO,{"data-slot":"sheet",...e})}function fO({...e}){return u.jsx(aO,{"data-slot":"sheet-portal",...e})}function hO({className:e,...t}){return u.jsx(sO,{"data-slot":"sheet-overlay",className:F_("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function mO({className:e,children:t,side:n="right",...r}){return u.jsxs(fO,{children:[u.jsx(hO,{}),u.jsxs(lO,{"data-slot":"sheet-content",className:F_("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,u.jsxs(dO,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(Ow,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function gO({className:e,...t}){return u.jsx("div",{"data-slot":"sheet-header",className:F_("flex flex-col gap-1.5 p-4",e),...t})}function vO({className:e,...t}){return u.jsx(uO,{"data-slot":"sheet-title",className:F_("text-foreground font-semibold",e),...t})}function yO({className:e,...t}){return u.jsx(cO,{"data-slot":"sheet-description",className:F_("text-muted-foreground text-sm",e),...t})}const bO=V.createContext(null);function xO(){const e=V.useContext(bO);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function wO({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:o,...a}){const s=function(){const[e,t]=V.useState(void 0);return V.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}(),[l,c]=V.useState(!1),[d,p]=V.useState(e),f=t??d,h=V.useCallback(e=>{const t="function"==typeof e?e(f):e;n?n(t):p(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[n,f]),m=V.useCallback(()=>s?c(e=>!e):h(e=>!e),[s,h,c]);V.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),m())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[m]);const g=f?"expanded":"collapsed",v=V.useMemo(()=>({state:g,open:f,setOpen:h,isMobile:s,openMobile:l,setOpenMobile:c,toggleSidebar:m}),[g,f,h,s,l,c,m]);return u.jsx(bO.Provider,{value:v,children:u.jsx(BN,{delayDuration:0,children:u.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...i},className:F_("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:o})})})}function _O({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...o}){const{isMobile:a,state:s,openMobile:l,setOpenMobile:c}=xO();return"none"===n?u.jsx("div",{"data-slot":"sidebar",className:F_("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...o,children:i}):a?u.jsx(pO,{open:l,onOpenChange:c,...o,children:u.jsxs(mO,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:[u.jsxs(gO,{className:"sr-only",children:[u.jsx(vO,{children:"Sidebar"}),u.jsx(yO,{children:"Displays the mobile sidebar."})]}),u.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):u.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":"collapsed"===s?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[u.jsx("div",{"data-slot":"sidebar-gap",className:F_("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===t||"inset"===t?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),u.jsx("div",{"data-slot":"sidebar-container",className:F_("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===t||"inset"===t?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:u.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function kO({className:e,onClick:t,...n}){const{toggleSidebar:r}=xO();return u.jsxs(J_,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:F_("size-7",e),onClick:e=>{t?.(e),r()},...n,children:[u.jsx(Ew,{}),u.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SO({className:e,...t}){const{toggleSidebar:n}=xO();return u.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:F_("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})}function IO({className:e,...t}){return u.jsx("main",{"data-slot":"sidebar-inset",className:F_("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function $O({className:e,...t}){return u.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:F_("flex flex-col gap-2 p-2",e),...t})}function EO({className:e,...t}){return u.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:F_("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function TO({className:e,...t}){return u.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:F_("flex w-full min-w-0 flex-col gap-1",e),...t})}function jO({className:e,...t}){return u.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:F_("group/menu-item relative",e),...t})}const NO=V_("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function CO({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:o,...a}){const s=e?Gp:"button",{isMobile:l,state:c}=xO(),d=u.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:F_(NO({variant:n,size:r}),o),...a});return i?("string"==typeof i&&(i={children:i}),u.jsxs(VN,{children:[u.jsx(WN,{asChild:!0,children:d}),u.jsx(JN,{side:"right",align:"center",hidden:"collapsed"!==c||l,...i})]})):d}const OO=W.memo(({visible:e=!0})=>{const{threads:t,createThread:n,loadThread:r,currentThreadId:i,archiveThread:o}=fC(),a=V.useMemo(()=>t.filter(e=>!e.archived),[t]),s=V.useCallback(async()=>{try{const e=`New Chat ${a.length+1}`;await n(e)}catch(Sl){console.error(" Failed to create thread:",Sl)}},[a.length,n]),l=V.useCallback(async e=>{try{await r(e),console.log("Thread loaded successfully")}catch(Sl){console.error("Failed to load thread:",Sl)}},[r]),c=V.useCallback(async e=>{try{await o(e)}catch(Sl){console.error("Failed to archive thread:",Sl)}},[o]),d=V.useMemo(()=>a.map(e=>u.jsxs("div",{className:(e.id===i?"bg-muted":"")+" hover:bg-muted focus-visible:bg-muted focus-visible:ring-ring flex items-center gap-2 rounded-lg transition-all focus-visible:outline-none focus-visible:ring-2",children:[u.jsx("button",{onClick:()=>l(e.id),className:"flex-grow px-3 py-2 text-start",children:u.jsx("p",{className:"text-sm truncate",children:e.title||"New Chat"})}),u.jsx(HN,{onClick:()=>c(e.id),className:"hover:text-primary text-foreground ml-auto mr-3 size-4 p-0",variant:"ghost",tooltip:"Archive thread",children:u.jsx(bw,{})})]},e.id)),[a,i,l,c]);return u.jsxs("div",{className:"flex flex-col items-stretch gap-1.5 transition-opacity duration-200 ease-in-out "+(e?"opacity-100":"opacity-0 pointer-events-none"),style:{visibility:e?"visible":"hidden",transition:"opacity 200ms ease-in-out, visibility 200ms ease-in-out"},children:[u.jsxs(J_,{onClick:s,className:"data-[active]:bg-muted hover:bg-muted flex items-center justify-start gap-1 rounded-lg px-2.5 py-2 text-start",variant:"ghost",children:[u.jsx(jw,{}),"New Thread"]}),d]})});function AO({...e}){return u.jsxs(_O,{...e,children:[u.jsx($O,{children:u.jsx(TO,{children:u.jsx(jO,{children:u.jsx(CO,{size:"lg",asChild:!0})})})}),u.jsx(EO,{children:u.jsx(OO,{})}),u.jsx(SO,{})]})}function zO({...e}){return u.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function PO({className:e,...t}){return u.jsx("ol",{"data-slot":"breadcrumb-list",className:F_("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function RO({className:e,...t}){return u.jsx("li",{"data-slot":"breadcrumb-item",className:F_("inline-flex items-center gap-1.5",e),...t})}function DO({asChild:e,className:t,...n}){const r=e?Gp:"a";return u.jsx(r,{"data-slot":"breadcrumb-link",className:F_("hover:text-foreground transition-colors",t),...n})}function MO({className:e,...t}){return u.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:F_("text-foreground font-normal",e),...t})}function UO({children:e,className:t,...n}){return u.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:F_("[&>svg]:size-3.5",t),...n,children:e??u.jsx(Sw,{})})}OO.displayName="ThreadList";class LO{constructor(e,t="/api"){this.apiBaseUrl=t,this.userToken=e}async createThread(e){const t=await fetch(`${this.apiBaseUrl}/threads`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.userToken}`},body:JSON.stringify({title:e})});if(!t.ok)throw new Error("Failed to create thread");const n=await t.json();return this.threadId=n.id,n}async loadThread(e){const t=await fetch(`${this.apiBaseUrl}/threads/${e}`,{headers:{Authorization:`Bearer ${this.userToken}`}});if(!t.ok)throw new Error("Failed to load thread");const n=await t.json();return this.threadId=e,n}async getAllThreads(){const e=await fetch(`${this.apiBaseUrl}/threads`,{headers:{Authorization:`Bearer ${this.userToken}`}});if(!e.ok)throw new Error("Failed to fetch threads");return e.json()}async updateThread(e,t){const n=await fetch(`${this.apiBaseUrl}/threads/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.userToken}`},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update thread");return n.json()}async deleteThread(e){if(!(await fetch(`${this.apiBaseUrl}/threads/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.userToken}`}})).ok)throw new Error("Failed to delete thread")}async saveMessage(e,t){if(!(await fetch(`${this.apiBaseUrl}/threads/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.userToken}`},body:JSON.stringify({...t,metadata:t.metadata?JSON.stringify(t.metadata):void 0})})).ok)throw new Error("Failed to save message")}async updateMessage(e,t,n){if(!(await fetch(`${this.apiBaseUrl}/threads/${e}/messages?messageId=${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.userToken}`},body:JSON.stringify({content:n})})).ok)throw new Error("Failed to update message")}getCurrentThreadId(){return this.threadId}setCurrentThreadId(e){this.threadId=e}}function FO(e){const[t,n]=V.useState([]),[r,i]=V.useState(),[o,a]=V.useState(!1),[s,l]=V.useState(null),u=V.useMemo(()=>new LO(e),[e]),c=V.useCallback(async()=>{a(!0),l(null);try{const e=await u.getAllThreads();n(e)}catch(ZO){l(ZO instanceof Error?ZO.message:"Failed to load threads")}finally{a(!1)}},[u]),d=V.useCallback(async e=>{l(null);try{const t=await u.createThread(e);return n(e=>[t,...e]),i(t.id),u.setCurrentThreadId(t.id),t}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to create thread"),ZO}},[u]),p=V.useCallback(async(e,t)=>{l(null);try{const r=await u.updateThread(e,t);return n(t=>t.map(t=>t.id===e?r:t)),r}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to update thread"),ZO}},[u]),f=V.useCallback(async e=>{l(null);try{await u.deleteThread(e),n(t=>t.filter(t=>t.id!==e)),r===e&&i(void 0)}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to delete thread"),ZO}},[r,u]),h=V.useCallback(async e=>{l(null);try{const t=await u.loadThread(e);return n(n=>n.find(t=>t.id===e)?n.map(n=>n.id===e?t:n):[t,...n]),i(e),u.setCurrentThreadId(e),t}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to load thread"),ZO}},[u]),m=V.useCallback(async e=>p(e,{archived:!0}),[p]),g=V.useCallback(async(e,t)=>{l(null);try{await u.saveMessage(e,t),await h(e)}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to save message"),ZO}},[h,u]),v=V.useCallback(async(e,t,n)=>{l(null);try{await u.updateMessage(e,t,n),await h(e)}catch(ZO){throw l(ZO instanceof Error?ZO.message:"Failed to update message"),ZO}},[h,u]);return V.useEffect(()=>{c()},[c]),{threads:t,currentThreadId:r,isLoading:o,error:s,createThread:d,loadThread:h,updateThread:p,deleteThread:f,archiveThread:m,saveMessageToThread:g,updateMessageInThread:v,refreshThreads:c,setCurrentThreadId:i,runtime:u}}e.ActionChips=({actions:e})=>0===e.length?null:(console.log(" ActionChips rendering with actions:",e),u.jsx("div",{className:"flex flex-wrap gap-2 mt-3 max-w-[calc(var(--thread-max-width)*0.8)]",children:e.map((e,t)=>{const n=e.icon;return console.log(` Action ${t}:`,{label:e.label,hasNavigation:!!e.navigationRoute,navigationRoute:e.navigationRoute}),e.navigationRoute?(console.log(` Rendering navigation chip for: ${e.navigationRoute}`),u.jsxs(J_,{variant:e.variant||"outline",size:"sm",className:"h-8 text-xs font-medium transition-all hover:scale-105 hover:bg-accent/80 cursor-pointer",onClick:()=>{console.log(` Navigation chip clicked: ${e.navigationRoute}`),(e=>{try{console.log(` Navigation requested for route: ${e}`);const t=e.split(".");if(t.length>=3&&"pages"===t[0]){const e=t[1];console.log(` Extracted page key: ${e}`);const n={newJob:"newJob",newLead:"newLead",reactClient:"client",reactUser:"editUser",jobs:"jobs",dashboard:"home",jobreport:"jobreport",jobTypes:"jobtypes",automationCenter:"automationCenter",importJobs:"import-jobs",csvImport:"csvImport",csvUploader:"csvUploader",fieldsMatcher:"fieldsMatcher",customViews:"custom-views",performancePay:"performancePay",supportedEntities:"supportedEntities",stripe_checkout:"stripeCheckout",stripe_checkout_v1:"stripeCheckoutv1",stripe_checkout_v2:"stripeCheckoutv2",cannyRedirect:"canny-redirect",login2fa:"login2fa",workizPayTermsOfService:"workizPayTermsOfService",workizPayPciRequirements:"workizPayPciRequirements"},r=n[e];if(r)if(console.log(` Mapped to URL: ${r}`),"undefined"!=typeof window&&window.parent){const e={type:"WorkizCopilot.navigate",url:String(r)};window.parent.postMessage(e,"*"),console.log(" Navigation postMessage sent:",e),setTimeout(()=>{console.log(` Navigation request completed for: ${r}`)},100)}else console.warn(" Parent window not available for navigation");else console.warn(` Unknown page key: ${e}`),console.log(" Available page keys:",Object.keys(n))}else console.warn(` Invalid route format: ${e}. Expected format: pages.pageName.url`)}catch(Sl){console.error(" Navigation error:",Sl)}})(e.navigationRoute)},children:[n&&u.jsx(n,{className:"w-3 h-3 mr-1.5"}),e.label]},t)):(console.log(` Rendering AI interaction chip for: ${e.prompt}`),u.jsx(oy,{prompt:e.prompt,method:"replace",autoSend:!0,asChild:!0,children:u.jsxs(J_,{variant:e.variant||"outline",size:"sm",className:"h-8 text-xs font-medium transition-all hover:scale-105 hover:bg-accent/80",children:[n&&u.jsx(n,{className:"w-3 h-3 mr-1.5"}),e.label]})},t))})})),e.AimonoCopilot=({userToken:e,apiBaseUrl:t="/api",className:n,style:r,onThreadChange:i,onMessage:o,customWelcomeMessage:a,showSidebar:s=!0,theme:l="auto"})=>{const c=FO(e);return u.jsx(pC.Provider,{value:c,children:u.jsx("div",{className:`aimono-copilot ${n||""}`,style:r,"data-theme":l,children:u.jsxs(wO,{children:[s&&u.jsx(AO,{}),u.jsxs(IO,{children:[u.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[s&&u.jsx(kO,{}),s&&u.jsx($C,{orientation:"vertical",className:"mr-2 h-4"}),u.jsx(zO,{children:u.jsxs(PO,{children:[u.jsx(RO,{className:"hidden md:block",children:u.jsx(DO,{href:"#",children:"AI Assistant"})}),u.jsx(UO,{className:"hidden md:block"}),u.jsx(RO,{children:u.jsx(MO,{children:"Chat"})})]})})]}),u.jsx(wC,{userToken:e,onThreadChange:i,onMessage:o,customWelcomeMessage:a})]})]})})})},e.PersistentThreadRuntime=LO,e.Thread=QN,e.usePersistentThreadContext=fC,e.usePersistentThreads=FO,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
